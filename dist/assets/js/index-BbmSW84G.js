const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/TemporalCharts-CqD7rRrX.js","assets/js/ui-DOGdri39.js","assets/js/vendor-Cl2J2jTd.js","assets/js/charts-BgTTDvot.js","assets/js/utils-BxdX34li.js","assets/js/data-A29woXF1.js","assets/js/QuantitativeCharts-Bmcs6baS.js","assets/js/QualitativeCharts-I3GdYaZN.js"])))=>i.map(i=>d[i]);
var e,a=Object.defineProperty,t=(e,t,s)=>((e,t,s)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,"symbol"!=typeof t?t+"":t,s);import{j as s,V as r,R as i,A as n,C as o,T as l,D as d,P as c,c as m,a as u,u as x,b as h,d as p,e as f,f as g,g as v,h as b,i as j,k as y,l as N,m as w,n as k,o as C,S as D,p as S,I as E,F as M,q as _,O as P,r as R,s as z,t as T,v as A,w as I,x as B,y as O,z as L,B as F,E as q,G as V,H,J as W,K,L as $,M as U,N as Y,Q as G,U as Q,W as J,X as Z,Y as X,Z as ee,_ as ae,$ as te,a0 as se,a1 as re,a2 as ie,a3 as ne,a4 as oe,a5 as le,a6 as de,a7 as ce,a8 as me,a9 as ue,aa as xe,ab as he,ac as pe,ad as fe,ae as ge,af as ve,ag as be,ah as je,ai as ye,aj as Ne,ak as we}from"./ui-DOGdri39.js";import{a as ke,r as Ce,R as De,b as Se,u as Ee,f as Me,N as _e,L as Pe,h as Re,B as ze,i as Te,j as Ae}from"./vendor-Cl2J2jTd.js";import{t as Ie,c as Be,X as Oe,a as Le,C as Fe,b as qe,T as Ve,Z as He,A as We,B as Ke,d as $e,e as Ue,U as Ye,f as Ge,M as Qe,G as Je,g as Ze,h as Xe,i as ea,S as aa,P as ta,j as sa,H as ra,F as ia,D as na,k as oa,l as la,m as da,n as ca,o as ma,p as ua,q as xa,L as ha,r as pa,s as fa,u as ga,v as va,w as ba,x as ja,y as ya,z as Na,E as wa,I as ka,J as Ca,K as Da,N as Sa,O as Ea,Q as Ma,R as _a,V as Pa,W as Ra,Y as za,_ as Ta,$ as Aa,a0 as Ia,a1 as Ba,a2 as Oa,a3 as La,a4 as Fa,a5 as qa,a6 as Va,a7 as Ha,a8 as Wa,a9 as Ka,aa as $a,ab as Ua,ac as Ya,ad as Ga,ae as Qa,af as Ja,ag as Za,ah as Xa,ai as et,aj as at,ak as tt,al as st,am as rt,an as it,ao as nt,ap as ot,aq as lt,ar as dt,as as ct,at as mt,au as ut,av as xt,aw as ht,ax as pt,ay as ft,az as gt,aA as vt,aB as bt,aC as jt,aD as yt,aE as Nt,aF as wt,aG as kt,aH as Ct,aI as Dt,aJ as St,aK as Et}from"./utils-BxdX34li.js";import{c as Mt,_ as _t,Q as Pt,a as Rt}from"./data-A29woXF1.js";import{R as zt,B as Tt,C as At,X as It,Y as Bt,T as Ot,L as Lt,a as Ft,b as qt,P as Vt,c as Ht,d as Wt,e as Kt,A as $t,f as Ut}from"./charts-BgTTDvot.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();var Yt=ke;e=Yt.createRoot,Yt.hydrateRoot;let Gt=0;const Qt=new Map,Jt=e=>{if(Qt.has(e))return;const a=setTimeout(()=>{Qt.delete(e),as({type:"REMOVE_TOAST",toastId:e})},1e6);Qt.set(e,a)},Zt=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{const{toastId:t}=a;return t?Jt(t):e.toasts.forEach(e=>{Jt(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===a.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},Xt=[];let es={toasts:[]};function as(e){es=Zt(es,e),Xt.forEach(e=>{e(es)})}function ts({...e}){const a=(Gt=(Gt+1)%Number.MAX_SAFE_INTEGER,Gt.toString()),t=()=>as({type:"DISMISS_TOAST",toastId:a});return as({type:"ADD_TOAST",toast:{...e,id:a,open:!0,onOpenChange:e=>{e||t()}}}),{id:a,dismiss:t,update:e=>as({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function ss(){const[e,a]=Ce.useState(es);return Ce.useEffect(()=>(Xt.push(a),()=>{const e=Xt.indexOf(a);e>-1&&Xt.splice(e,1)}),[e]),{...e,toast:ts,dismiss:e=>as({type:"DISMISS_TOAST",toastId:e})}}function rs(...e){return Ie(Be(e))}const is=c,ns=Ce.forwardRef(({className:e,...a},t)=>s.jsx(r,{ref:t,className:rs("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...a}));ns.displayName=r.displayName;const os=Le("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ls=Ce.forwardRef(({className:e,variant:a,...t},r)=>s.jsx(i,{ref:r,className:rs(os({variant:a}),e),...t}));ls.displayName=i.displayName;Ce.forwardRef(({className:e,...a},t)=>s.jsx(n,{ref:t,className:rs("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...a})).displayName=n.displayName;const ds=Ce.forwardRef(({className:e,...a},t)=>s.jsx(o,{ref:t,className:rs("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...a,children:s.jsx(Oe,{className:"h-4 w-4"})}));ds.displayName=o.displayName;const cs=Ce.forwardRef(({className:e,...a},t)=>s.jsx(l,{ref:t,className:rs("text-sm font-semibold",e),...a}));cs.displayName=l.displayName;const ms=Ce.forwardRef(({className:e,...a},t)=>s.jsx(d,{ref:t,className:rs("text-sm opacity-90",e),...a}));function us(){const{toasts:e}=ss();return s.jsxs(is,{children:[e.map(function({id:e,title:a,description:t,action:r,...i}){return s.jsxs(ls,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[a&&s.jsx(cs,{children:a}),t&&s.jsx(ms,{children:t})]}),r,s.jsx(ds,{})]},e)}),s.jsx(ns,{})]})}ms.displayName=d.displayName;var xs=["light","dark"],hs=Ce.createContext(void 0),ps={setTheme:e=>{},themes:[]};Ce.memo(({forcedTheme:e,storageKey:a,attribute:t,enableSystem:s,enableColorScheme:r,defaultTheme:i,value:n,attrs:o,nonce:l})=>{let d="system"===i,c="class"===t?`var d=document.documentElement,c=d.classList;c.remove(${o.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${t}',s='setAttribute';`,m=r?xs.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",u=(e,a=!1,s=!0)=>{let i=n?n[e]:e,o=a?e+"|| ''":`'${i}'`,l="";return r&&s&&!a&&xs.includes(e)&&(l+=`d.style.colorScheme = '${e}';`),"class"===t?l+=a||i?`c.add(${o})`:"null":i&&(l+=`d[s](n,${o})`),l},x=e?`!function(){${c}${u(e)}}()`:s?`!function(){try{${c}var e=localStorage.getItem('${a}');if('system'===e||(!e&&${d})){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){${u("dark")}}else{${u("light")}}}else if(e){${n?`var x=${JSON.stringify(n)};`:""}${u(n?"x[e]":"e",!0)}}${d?"":"else{"+u(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${a}');if(e){${n?`var x=${JSON.stringify(n)};`:""}${u(n?"x[e]":"e",!0)}}else{${u(i,!1,!1)};}${m}}catch(t){}}();`;return Ce.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:x}})});var fs=Array(12).fill(0),gs=({visible:e,className:a})=>De.createElement("div",{className:["sonner-loading-wrapper",a].filter(Boolean).join(" "),"data-visible":e},De.createElement("div",{className:"sonner-spinner"},fs.map((e,a)=>De.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),vs=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},De.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bs=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},De.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),js=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},De.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ys=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},De.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ns=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},De.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),De.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ws=1,ks=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let a=this.subscribers.indexOf(e);this.subscribers.splice(a,1)}),this.publish=e=>{this.subscribers.forEach(a=>a(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var a;let{message:t,...s}=e,r="number"==typeof(null==e?void 0:e.id)||(null==(a=e.id)?void 0:a.length)>0?e.id:ws++,i=this.toasts.find(e=>e.id===r),n=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),i?this.toasts=this.toasts.map(a=>a.id===r?(this.publish({...a,...e,id:r,title:t}),{...a,...e,id:r,dismissible:n,title:t}):a):this.addToast({title:t,...s,dismissible:n,id:r}),r},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(e=>{this.subscribers.forEach(a=>a({id:e.id,dismiss:!0}))}),this.subscribers.forEach(a=>a({id:e,dismiss:!0})),e),this.message=(e,a)=>this.create({...a,message:e}),this.error=(e,a)=>this.create({...a,message:e,type:"error"}),this.success=(e,a)=>this.create({...a,type:"success",message:e}),this.info=(e,a)=>this.create({...a,type:"info",message:e}),this.warning=(e,a)=>this.create({...a,type:"warning",message:e}),this.loading=(e,a)=>this.create({...a,type:"loading",message:e}),this.promise=(e,a)=>{if(!a)return;let t;void 0!==a.loading&&(t=this.create({...a,promise:e,type:"loading",message:a.loading,description:"function"!=typeof a.description?a.description:void 0}));let s,r=e instanceof Promise?e:e(),i=void 0!==t,n=r.then(async e=>{if(s=["resolve",e],De.isValidElement(e))i=!1,this.create({id:t,type:"default",message:e});else if(Cs(e)&&!e.ok){i=!1;let s="function"==typeof a.error?await a.error(`HTTP error! status: ${e.status}`):a.error,r="function"==typeof a.description?await a.description(`HTTP error! status: ${e.status}`):a.description;this.create({id:t,type:"error",message:s,description:r})}else if(void 0!==a.success){i=!1;let s="function"==typeof a.success?await a.success(e):a.success,r="function"==typeof a.description?await a.description(e):a.description;this.create({id:t,type:"success",message:s,description:r})}}).catch(async e=>{if(s=["reject",e],void 0!==a.error){i=!1;let s="function"==typeof a.error?await a.error(e):a.error,r="function"==typeof a.description?await a.description(e):a.description;this.create({id:t,type:"error",message:s,description:r})}}).finally(()=>{var e;i&&(this.dismiss(t),t=void 0),null==(e=a.finally)||e.call(a)}),o=()=>new Promise((e,a)=>n.then(()=>"reject"===s[0]?a(s[1]):e(s[1])).catch(a));return"string"!=typeof t&&"number"!=typeof t?{unwrap:o}:Object.assign(t,{unwrap:o})},this.custom=(e,a)=>{let t=(null==a?void 0:a.id)||ws++;return this.create({jsx:e(t),id:t,...a}),t},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Cs=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,Ds=(e,a)=>{let t=(null==a?void 0:a.id)||ws++;return ks.addToast({title:e,...a,id:t}),t},Ss=Object.assign(Ds,{success:ks.success,info:ks.info,warning:ks.warning,error:ks.error,custom:ks.custom,message:ks.message,promise:ks.promise,dismiss:ks.dismiss,loading:ks.loading},{getHistory:()=>ks.toasts,getToasts:()=>ks.getActiveToasts()});function Es(e){return void 0!==e.label}!function(e,{insertAt:a}={}){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===a&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var Ms=3,_s=14;function Ps(...e){return e.filter(Boolean).join(" ")}var Rs=e=>{var a,t,s,r,i,n,o,l,d,c,m;let{invert:u,toast:x,unstyled:h,interacting:p,setHeights:f,visibleToasts:g,heights:v,index:b,toasts:j,expanded:y,removeToast:N,defaultRichColors:w,closeButton:k,style:C,cancelButtonStyle:D,actionButtonStyle:S,className:E="",descriptionClassName:M="",duration:_,position:P,gap:R,loadingIcon:z,expandByDefault:T,classNames:A,icons:I,closeButtonAriaLabel:B="Close toast",pauseWhenPageIsHidden:O}=e,[L,F]=De.useState(null),[q,V]=De.useState(null),[H,W]=De.useState(!1),[K,$]=De.useState(!1),[U,Y]=De.useState(!1),[G,Q]=De.useState(!1),[J,Z]=De.useState(!1),[X,ee]=De.useState(0),[ae,te]=De.useState(0),se=De.useRef(x.duration||_||4e3),re=De.useRef(null),ie=De.useRef(null),ne=0===b,oe=b+1<=g,le=x.type,de=!1!==x.dismissible,ce=x.className||"",me=x.descriptionClassName||"",ue=De.useMemo(()=>v.findIndex(e=>e.toastId===x.id)||0,[v,x.id]),xe=De.useMemo(()=>{var e;return null!=(e=x.closeButton)?e:k},[x.closeButton,k]),he=De.useMemo(()=>x.duration||_||4e3,[x.duration,_]),pe=De.useRef(0),fe=De.useRef(0),ge=De.useRef(0),ve=De.useRef(null),[be,je]=P.split("-"),ye=De.useMemo(()=>v.reduce((e,a,t)=>t>=ue?e:e+a.height,0),[v,ue]),Ne=(()=>{let[e,a]=De.useState(document.hidden);return De.useEffect(()=>{let e=()=>{a(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),we=x.invert||u,ke="loading"===le;fe.current=De.useMemo(()=>ue*R+ye,[ue,ye]),De.useEffect(()=>{se.current=he},[he]),De.useEffect(()=>{W(!0)},[]),De.useEffect(()=>{let e=ie.current;if(e){let a=e.getBoundingClientRect().height;return te(a),f(e=>[{toastId:x.id,height:a,position:x.position},...e]),()=>f(e=>e.filter(e=>e.toastId!==x.id))}},[f,x.id]),De.useLayoutEffect(()=>{if(!H)return;let e=ie.current,a=e.style.height;e.style.height="auto";let t=e.getBoundingClientRect().height;e.style.height=a,te(t),f(e=>e.find(e=>e.toastId===x.id)?e.map(e=>e.toastId===x.id?{...e,height:t}:e):[{toastId:x.id,height:t,position:x.position},...e])},[H,x.title,x.description,f,x.id]);let Se=De.useCallback(()=>{$(!0),ee(fe.current),f(e=>e.filter(e=>e.toastId!==x.id)),setTimeout(()=>{N(x)},200)},[x,N,f,fe]);return De.useEffect(()=>{if(x.promise&&"loading"===le||x.duration===1/0||"loading"===x.type)return;let e;return y||p||O&&Ne?(()=>{if(ge.current<pe.current){let e=(new Date).getTime()-pe.current;se.current=se.current-e}ge.current=(new Date).getTime()})():se.current!==1/0&&(pe.current=(new Date).getTime(),e=setTimeout(()=>{var e;null==(e=x.onAutoClose)||e.call(x,x),Se()},se.current)),()=>clearTimeout(e)},[y,p,x,le,O,Ne,Se]),De.useEffect(()=>{x.delete&&Se()},[Se,x.delete]),De.createElement("li",{tabIndex:0,ref:ie,className:Ps(E,ce,null==A?void 0:A.toast,null==(a=null==x?void 0:x.classNames)?void 0:a.toast,null==A?void 0:A.default,null==A?void 0:A[le],null==(t=null==x?void 0:x.classNames)?void 0:t[le]),"data-sonner-toast":"","data-rich-colors":null!=(s=x.richColors)?s:w,"data-styled":!(x.jsx||x.unstyled||h),"data-mounted":H,"data-promise":!!x.promise,"data-swiped":J,"data-removed":K,"data-visible":oe,"data-y-position":be,"data-x-position":je,"data-index":b,"data-front":ne,"data-swiping":U,"data-dismissible":de,"data-type":le,"data-invert":we,"data-swipe-out":G,"data-swipe-direction":q,"data-expanded":!!(y||T&&H),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${K?X:fe.current}px`,"--initial-height":T?"auto":`${ae}px`,...C,...x.style},onDragEnd:()=>{Y(!1),F(null),ve.current=null},onPointerDown:e=>{ke||!de||(re.current=new Date,ee(fe.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(Y(!0),ve.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,a,t,s;if(G||!de)return;ve.current=null;let r=Number((null==(e=ie.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),i=Number((null==(a=ie.current)?void 0:a.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),n=(new Date).getTime()-(null==(t=re.current)?void 0:t.getTime()),o="x"===L?r:i,l=Math.abs(o)/n;if(Math.abs(o)>=20||l>.11)return ee(fe.current),null==(s=x.onDismiss)||s.call(x,x),V("x"===L?r>0?"right":"left":i>0?"down":"up"),Se(),Q(!0),void Z(!1);Y(!1),F(null)},onPointerMove:a=>{var t,s,r,i;if(!ve.current||!de||(null==(t=window.getSelection())?void 0:t.toString().length)>0)return;let n=a.clientY-ve.current.y,o=a.clientX-ve.current.x,l=null!=(s=e.swipeDirections)?s:function(e){let[a,t]=e.split("-"),s=[];return a&&s.push(a),t&&s.push(t),s}(P);!L&&(Math.abs(o)>1||Math.abs(n)>1)&&F(Math.abs(o)>Math.abs(n)?"x":"y");let d={x:0,y:0};"y"===L?(l.includes("top")||l.includes("bottom"))&&(l.includes("top")&&n<0||l.includes("bottom")&&n>0)&&(d.y=n):"x"===L&&(l.includes("left")||l.includes("right"))&&(l.includes("left")&&o<0||l.includes("right")&&o>0)&&(d.x=o),(Math.abs(d.x)>0||Math.abs(d.y)>0)&&Z(!0),null==(r=ie.current)||r.style.setProperty("--swipe-amount-x",`${d.x}px`),null==(i=ie.current)||i.style.setProperty("--swipe-amount-y",`${d.y}px`)}},xe&&!x.jsx?De.createElement("button",{"aria-label":B,"data-disabled":ke,"data-close-button":!0,onClick:ke||!de?()=>{}:()=>{var e;Se(),null==(e=x.onDismiss)||e.call(x,x)},className:Ps(null==A?void 0:A.closeButton,null==(r=null==x?void 0:x.classNames)?void 0:r.closeButton)},null!=(i=null==I?void 0:I.close)?i:Ns):null,x.jsx||Ce.isValidElement(x.title)?x.jsx?x.jsx:"function"==typeof x.title?x.title():x.title:De.createElement(De.Fragment,null,le||x.icon||x.promise?De.createElement("div",{"data-icon":"",className:Ps(null==A?void 0:A.icon,null==(n=null==x?void 0:x.classNames)?void 0:n.icon)},x.promise||"loading"===x.type&&!x.icon?x.icon||(null!=I&&I.loading?De.createElement("div",{className:Ps(null==A?void 0:A.loader,null==(Ee=null==x?void 0:x.classNames)?void 0:Ee.loader,"sonner-loader"),"data-visible":"loading"===le},I.loading):z?De.createElement("div",{className:Ps(null==A?void 0:A.loader,null==(Me=null==x?void 0:x.classNames)?void 0:Me.loader,"sonner-loader"),"data-visible":"loading"===le},z):De.createElement(gs,{className:Ps(null==A?void 0:A.loader,null==(_e=null==x?void 0:x.classNames)?void 0:_e.loader),visible:"loading"===le})):null,"loading"!==x.type?x.icon||(null==I?void 0:I[le])||(e=>{switch(e){case"success":return vs;case"info":return js;case"warning":return bs;case"error":return ys;default:return null}})(le):null):null,De.createElement("div",{"data-content":"",className:Ps(null==A?void 0:A.content,null==(o=null==x?void 0:x.classNames)?void 0:o.content)},De.createElement("div",{"data-title":"",className:Ps(null==A?void 0:A.title,null==(l=null==x?void 0:x.classNames)?void 0:l.title)},"function"==typeof x.title?x.title():x.title),x.description?De.createElement("div",{"data-description":"",className:Ps(M,me,null==A?void 0:A.description,null==(d=null==x?void 0:x.classNames)?void 0:d.description)},"function"==typeof x.description?x.description():x.description):null),Ce.isValidElement(x.cancel)?x.cancel:x.cancel&&Es(x.cancel)?De.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||D,onClick:e=>{var a,t;Es(x.cancel)&&de&&(null==(t=(a=x.cancel).onClick)||t.call(a,e),Se())},className:Ps(null==A?void 0:A.cancelButton,null==(c=null==x?void 0:x.classNames)?void 0:c.cancelButton)},x.cancel.label):null,Ce.isValidElement(x.action)?x.action:x.action&&Es(x.action)?De.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||S,onClick:e=>{var a,t;Es(x.action)&&(null==(t=(a=x.action).onClick)||t.call(a,e),!e.defaultPrevented&&Se())},className:Ps(null==A?void 0:A.actionButton,null==(m=null==x?void 0:x.classNames)?void 0:m.actionButton)},x.action.label):null));var Ee,Me,_e};function zs(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function Ts(e,a){let t={};return[e,a].forEach((e,a)=>{let s=1===a,r=s?"--mobile-offset":"--offset",i=s?"16px":"32px";function n(e){["top","right","bottom","left"].forEach(a=>{t[`${r}-${a}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?n(e):"object"==typeof e?["top","right","bottom","left"].forEach(a=>{void 0===e[a]?t[`${r}-${a}`]=i:t[`${r}-${a}`]="number"==typeof e[a]?`${e[a]}px`:e[a]}):n(i)}),t}var As=Ce.forwardRef(function(e,a){let{invert:t,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:n,className:o,offset:l,mobileOffset:d,theme:c="light",richColors:m,duration:u,style:x,visibleToasts:h=Ms,toastOptions:p,dir:f=zs(),gap:g=_s,loadingIcon:v,icons:b,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:y}=e,[N,w]=De.useState([]),k=De.useMemo(()=>Array.from(new Set([s].concat(N.filter(e=>e.position).map(e=>e.position)))),[N,s]),[C,D]=De.useState([]),[S,E]=De.useState(!1),[M,_]=De.useState(!1),[P,R]=De.useState("system"!==c?c:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=De.useRef(null),T=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=De.useRef(null),I=De.useRef(!1),B=De.useCallback(e=>{w(a=>{var t;return null!=(t=a.find(a=>a.id===e.id))&&t.delete||ks.dismiss(e.id),a.filter(({id:a})=>a!==e.id)})},[]);return De.useEffect(()=>ks.subscribe(e=>{e.dismiss?w(a=>a.map(a=>a.id===e.id?{...a,delete:!0}:a)):setTimeout(()=>{Se.flushSync(()=>{w(a=>{let t=a.findIndex(a=>a.id===e.id);return-1!==t?[...a.slice(0,t),{...a[t],...e},...a.slice(t+1)]:[e,...a]})})})}),[]),De.useEffect(()=>{if("system"!==c)return void R(c);if("system"===c&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{R(e?"dark":"light")})}catch(a){e.addListener(({matches:e})=>{try{R(e?"dark":"light")}catch(a){}})}},[c]),De.useEffect(()=>{N.length<=1&&E(!1)},[N]),De.useEffect(()=>{let e=e=>{var a,t;r.every(a=>e[a]||e.code===a)&&(E(!0),null==(a=z.current)||a.focus()),"Escape"===e.code&&(document.activeElement===z.current||null!=(t=z.current)&&t.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r]),De.useEffect(()=>{if(z.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,I.current=!1)}},[z.current]),De.createElement("section",{ref:a,"aria-label":`${j} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((a,s)=>{var r;let[c,j]=a.split("-");return N.length?De.createElement("ol",{key:a,dir:"auto"===f?zs():f,tabIndex:-1,ref:z,className:o,"data-sonner-toaster":!0,"data-theme":P,"data-y-position":c,"data-lifted":S&&N.length>1&&!i,"data-x-position":j,style:{"--front-toast-height":`${(null==(r=C[0])?void 0:r.height)||0}px`,"--width":"356px","--gap":`${g}px`,...x,...Ts(l,d)},onBlur:e=>{I.current&&!e.currentTarget.contains(e.relatedTarget)&&(I.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||I.current||(I.current=!0,A.current=e.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{M||E(!1)},onDragEnd:()=>E(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||_(!0)},onPointerUp:()=>_(!1)},N.filter(e=>!e.position&&0===s||e.position===a).map((s,r)=>{var o,l;return De.createElement(Rs,{key:s.id,icons:b,index:r,toast:s,defaultRichColors:m,duration:null!=(o=null==p?void 0:p.duration)?o:u,className:null==p?void 0:p.className,descriptionClassName:null==p?void 0:p.descriptionClassName,invert:t,visibleToasts:h,closeButton:null!=(l=null==p?void 0:p.closeButton)?l:n,interacting:M,position:a,style:null==p?void 0:p.style,unstyled:null==p?void 0:p.unstyled,classNames:null==p?void 0:p.classNames,cancelButtonStyle:null==p?void 0:p.cancelButtonStyle,actionButtonStyle:null==p?void 0:p.actionButtonStyle,removeToast:B,toasts:N.filter(e=>e.position==s.position),heights:C.filter(e=>e.position==s.position),setHeights:D,expandByDefault:i,gap:g,loadingIcon:v,expanded:S,pauseWhenPageIsHidden:y,swipeDirections:e.swipeDirections})})):null}))});const Is=({...e})=>{const{theme:a="system"}=null!=(t=Ce.useContext(hs))?t:ps;var t;return s.jsx(As,{theme:a,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var[Bs,Os]=m("Tooltip",[u]),Ls=u(),Fs="TooltipProvider",qs=700,Vs="tooltip.open",[Hs,Ws]=Bs(Fs),Ks=e=>{const{__scopeTooltip:a,delayDuration:t=qs,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:n}=e,o=Ce.useRef(!0),l=Ce.useRef(!1),d=Ce.useRef(0);return Ce.useEffect(()=>{const e=d.current;return()=>window.clearTimeout(e)},[]),s.jsx(Hs,{scope:a,isOpenDelayedRef:o,delayDuration:t,onOpen:Ce.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:Ce.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:Ce.useCallback(e=>{l.current=e},[]),disableHoverableContent:i,children:n})};Ks.displayName=Fs;var $s="Tooltip",[Us,Ys]=Bs($s),Gs=e=>{const{__scopeTooltip:a,children:t,open:r,defaultOpen:i,onOpenChange:n,disableHoverableContent:o,delayDuration:l}=e,d=Ws($s,e.__scopeTooltip),c=Ls(a),[m,u]=Ce.useState(null),x=N(),h=Ce.useRef(0),p=o??d.disableHoverableContent,f=l??d.delayDuration,g=Ce.useRef(!1),[v,b]=w({prop:r,defaultProp:i??!1,onChange:e=>{e?(d.onOpen(),document.dispatchEvent(new CustomEvent(Vs))):d.onClose(),null==n||n(e)},caller:$s}),j=Ce.useMemo(()=>v?g.current?"delayed-open":"instant-open":"closed",[v]),y=Ce.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,b(!0)},[b]),C=Ce.useCallback(()=>{window.clearTimeout(h.current),h.current=0,b(!1)},[b]),D=Ce.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,b(!0),h.current=0},f)},[f,b]);return Ce.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),s.jsx(k,{...c,children:s.jsx(Us,{scope:a,contentId:x,open:v,stateAttribute:j,trigger:m,onTriggerChange:u,onTriggerEnter:Ce.useCallback(()=>{d.isOpenDelayedRef.current?D():y()},[d.isOpenDelayedRef,D,y]),onTriggerLeave:Ce.useCallback(()=>{p?C():(window.clearTimeout(h.current),h.current=0)},[C,p]),onOpen:y,onClose:C,disableHoverableContent:p,children:t})})};Gs.displayName=$s;var Qs="TooltipTrigger",Js=Ce.forwardRef((e,a)=>{const{__scopeTooltip:t,...r}=e,i=Ys(Qs,t),n=Ws(Qs,t),o=Ls(t),l=Ce.useRef(null),d=x(a,l,i.onTriggerChange),c=Ce.useRef(!1),m=Ce.useRef(!1),u=Ce.useCallback(()=>c.current=!1,[]);return Ce.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),s.jsx(h,{asChild:!0,...o,children:s.jsx(p.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:f(e.onPointerMove,e=>{"touch"!==e.pointerType&&(m.current||n.isPointerInTransitRef.current||(i.onTriggerEnter(),m.current=!0))}),onPointerLeave:f(e.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:f(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:f(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:f(e.onBlur,i.onClose),onClick:f(e.onClick,i.onClose)})})});Js.displayName=Qs;var[Zs,Xs]=Bs("TooltipPortal",{forceMount:void 0}),er="TooltipContent",ar=Ce.forwardRef((e,a)=>{const t=Xs(er,e.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...n}=e,o=Ys(er,e.__scopeTooltip);return s.jsx(g,{present:r||o.open,children:o.disableHoverableContent?s.jsx(nr,{side:i,...n,ref:a}):s.jsx(tr,{side:i,...n,ref:a})})}),tr=Ce.forwardRef((e,a)=>{const t=Ys(er,e.__scopeTooltip),r=Ws(er,e.__scopeTooltip),i=Ce.useRef(null),n=x(a,i),[o,l]=Ce.useState(null),{trigger:d,onClose:c}=t,m=i.current,{onPointerInTransitChange:u}=r,h=Ce.useCallback(()=>{l(null),u(!1)},[u]),p=Ce.useCallback((e,a)=>{const t=e.currentTarget,s={x:e.clientX,y:e.clientY},r=function(e,a,t=5){const s=[];switch(a){case"top":s.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":s.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":s.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":s.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t})}return s}(s,function(e,a){const t=Math.abs(a.top-e.y),s=Math.abs(a.bottom-e.y),r=Math.abs(a.right-e.x),i=Math.abs(a.left-e.x);switch(Math.min(t,s,r,i)){case i:return"left";case r:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}(s,t.getBoundingClientRect())),i=function(e){const a=e.slice();return a.sort((e,a)=>e.x<a.x?-1:e.x>a.x?1:e.y<a.y?-1:e.y>a.y?1:0),function(e){if(e.length<=1)return e.slice();const a=[];for(let s=0;s<e.length;s++){const t=e[s];for(;a.length>=2;){const e=a[a.length-1],s=a[a.length-2];if(!((e.x-s.x)*(t.y-s.y)>=(e.y-s.y)*(t.x-s.x)))break;a.pop()}a.push(t)}a.pop();const t=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;t.length>=2;){const e=t[t.length-1],s=t[t.length-2];if(!((e.x-s.x)*(a.y-s.y)>=(e.y-s.y)*(a.x-s.x)))break;t.pop()}t.push(a)}return t.pop(),1===a.length&&1===t.length&&a[0].x===t[0].x&&a[0].y===t[0].y?a:a.concat(t)}(a)}([...r,...function(e){const{top:a,right:t,bottom:s,left:r}=e;return[{x:r,y:a},{x:t,y:a},{x:t,y:s},{x:r,y:s}]}(a.getBoundingClientRect())]);l(i),u(!0)},[u]);return Ce.useEffect(()=>()=>h(),[h]),Ce.useEffect(()=>{if(d&&m){const e=e=>p(e,m),a=e=>p(e,d);return d.addEventListener("pointerleave",e),m.addEventListener("pointerleave",a),()=>{d.removeEventListener("pointerleave",e),m.removeEventListener("pointerleave",a)}}},[d,m,p,h]),Ce.useEffect(()=>{if(o){const e=e=>{const a=e.target,t={x:e.clientX,y:e.clientY},s=(null==d?void 0:d.contains(a))||(null==m?void 0:m.contains(a)),r=!function(e,a){const{x:t,y:s}=e;let r=!1;for(let i=0,n=a.length-1;i<a.length;n=i++){const e=a[i],o=a[n],l=e.x,d=e.y,c=o.x,m=o.y;d>s!=m>s&&t<(c-l)*(s-d)/(m-d)+l&&(r=!r)}return r}(t,o);s?h():r&&(h(),c())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[d,m,o,c,h]),s.jsx(nr,{...e,ref:n})}),[sr,rr]=Bs($s,{isInside:!1}),ir=C("TooltipContent"),nr=Ce.forwardRef((e,a)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:n,onPointerDownOutside:o,...l}=e,d=Ys(er,t),c=Ls(t),{onClose:m}=d;return Ce.useEffect(()=>(document.addEventListener(Vs,m),()=>document.removeEventListener(Vs,m)),[m]),Ce.useEffect(()=>{if(d.trigger){const e=e=>{const a=e.target;(null==a?void 0:a.contains(d.trigger))&&m()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[d.trigger,m]),s.jsx(v,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:m,children:s.jsxs(b,{"data-state":d.stateAttribute,...c,...l,ref:a,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(ir,{children:r}),s.jsx(sr,{scope:t,isInside:!0,children:s.jsx(j,{id:d.contentId,role:"tooltip",children:i||r})})]})})});ar.displayName=er;var or="TooltipArrow";Ce.forwardRef((e,a)=>{const{__scopeTooltip:t,...r}=e,i=Ls(t);return rr(or,t).isInside?null:s.jsx(y,{...i,...r,ref:a})}).displayName=or;var lr=ar;const dr=Ks,cr=Gs,mr=Js,ur=Ce.forwardRef(({className:e,sideOffset:a=4,...t},r)=>s.jsx(lr,{ref:r,sideOffset:a,className:rs("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));ur.displayName=lr.displayName;const xr={getItem:e=>{try{return localStorage.getItem(e)}catch(a){return null}},setItem:(e,a)=>{try{localStorage.setItem(e,a)}catch(t){}},removeItem:e=>{try{localStorage.removeItem(e)}catch(a){}}},hr=Mt("https://zirowpnlxjenkxiqcuwz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inppcm93cG5seGplbmt4aXFjdXd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc1MTYwMTksImV4cCI6MjA3MzA5MjAxOX0.4WTrwYIZZSey5_9yE4mU2aP19P9tl3CeGr1RjBC7IH8",{auth:{storage:xr,persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});hr.auth.onAuthStateChange((e,a)=>{"TOKEN_REFRESHED"!==e||a||xr.removeItem("sb-zirowpnlxjenkxiqcuwz-auth-token")});const pr=Ce.createContext(void 0);function fr({children:e}){const[a,t]=Ce.useState(null),[r,i]=Ce.useState(null),[n,o]=Ce.useState(null),[l,d]=Ce.useState(null),[c,m]=Ce.useState(null),[u,x]=Ce.useState(!0),[h,p]=Ce.useState(!1),f=Ee(),g=Me();Ce.useEffect(()=>{const{data:{subscription:e}}=hr.auth.onAuthStateChange(async(e,a)=>{if("TOKEN_REFRESHED"===e&&!a)return await hr.auth.signOut(),i(null),t(null),o(null),d(null),m(null),p(!1),void x(!1);i(a),t((null==a?void 0:a.user)??null),(null==a?void 0:a.user)?setTimeout(async()=>{const t="SIGNED_IN"===e;await v(a.user.id,t)},0):(o(null),d(null),m(null),p(!1)),x(!1)});return hr.auth.getSession().then(async({data:{session:e},error:a})=>{a&&(a.message.includes("Invalid Refresh Token")||a.message.includes("Refresh Token Not Found"))&&await hr.auth.signOut(),i(e),t((null==e?void 0:e.user)??null),(null==e?void 0:e.user)&&setTimeout(async()=>{await v(e.user.id,!1)},0),x(!1)}),()=>e.unsubscribe()},[f,g.pathname]);const v=async(e,a=!1)=>{try{const{data:t,error:s}=await hr.from("profiles").select("\n          *,\n          organizations(*)\n        ").eq("user_id",e).single();if(s)return void(a&&"/user-profile"!==g.pathname&&f("/user-profile"));const{data:r,error:i}=await hr.from("user_roles").select("role, granted_at").eq("user_id",e).single();i?(m(null),p(!1)):(m(r.role),p(["owner","admin"].includes(r.role))),o(t),d(null==t?void 0:t.organizations),a&&(t&&t.full_name&&t.organizations?"/signin"!==g.pathname&&"/"!==g.pathname||f("/dashboard"):"/user-profile"!==g.pathname&&f("/user-profile"))}catch(t){}};return s.jsx(pr.Provider,{value:{user:a,session:r,profile:n,organization:l,userRole:c,loading:u,signUp:async(e,a,t,s)=>{const r=`${window.location.origin}/user-profile`,{error:i}=await hr.auth.signUp({email:e,password:a,options:{emailRedirectTo:r,data:{full_name:t,company_name:s}}});return{error:i}},signIn:async(e,a)=>{const{error:t}=await hr.auth.signInWithPassword({email:e,password:a});return{error:t}},signOut:async()=>{await hr.auth.signOut()},canManageOrganization:h},children:e})}function gr(){const e=Ce.useContext(pr);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}const vr=Ce.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:rs("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));vr.displayName="Card";const br=Ce.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:rs("flex flex-col space-y-1.5 p-6",e),...a}));br.displayName="CardHeader";const jr=Ce.forwardRef(({className:e,...a},t)=>s.jsx("h3",{ref:t,className:rs("text-2xl font-semibold leading-none tracking-tight",e),...a}));jr.displayName="CardTitle";const yr=Ce.forwardRef(({className:e,...a},t)=>s.jsx("p",{ref:t,className:rs("text-sm text-muted-foreground",e),...a}));yr.displayName="CardDescription";const Nr=Ce.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:rs("p-6 pt-0",e),...a}));Nr.displayName="CardContent";function wr({title:e,value:a,subtitle:t,trend:r,icon:i,className:n}){return s.jsxs(vr,{className:rs("tech-card p-6 relative group overflow-hidden hover:scale-105 hover:border-opacity-60 hover:shadow-lg transition-all duration-300 ease-in-out cursor-pointer",n),children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:e}),s.jsxs("div",{className:"flex items-baseline space-x-2",children:[s.jsx("h3",{className:"text-2xl font-bold gradient-text",children:a}),r&&s.jsxs("span",{className:rs("text-xs font-medium","up"===r&&"text-primary","down"===r&&"text-destructive","stable"===r&&"text-muted-foreground"),children:["up"===r&&"↗","down"===r&&"↘","stable"===r&&"→"]})]}),t&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t})]}),i&&s.jsx("div",{className:"text-primary/60 ml-4",children:i})]})]})}Ce.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:rs("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter";const kr=Le("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",tech:"border-transparent bg-primary/20 text-primary border-primary/30",accent:"border-transparent bg-accent/20 text-accent border-accent/30",alert:"border-transparent bg-destructive/20 text-destructive border-destructive/30"}},defaultVariants:{variant:"default"}});function Cr({className:e,variant:a,...t}){return s.jsx("div",{className:rs(kr({variant:a}),e),...t})}function Dr({name:e,status:a,description:t,metrics:r,icon:i}){return s.jsxs(vr,{className:"tech-card p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:rs("p-2 rounded-lg","active"===a&&"bg-primary/20","monitoring"===a&&"bg-accent/20","alert"===a&&"bg-destructive/20"),children:i}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground",children:e}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})]}),s.jsxs(Cr,{variant:"active"===a?"default":"alert"===a?"destructive":"secondary",children:["active"===a&&"Ativo","monitoring"===a&&"Monitorando","alert"===a&&"Alerta"]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.map((e,a)=>s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e.label}),s.jsx("p",{className:"text-lg font-semibold text-primary",children:e.value})]},a))})]})}const Sr=Le("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 glow-primary",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 glow-alert",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",tech:"bg-gradient-primary text-primary-foreground hover:opacity-90 glow-primary font-semibold",alert:"bg-destructive text-destructive-foreground hover:bg-destructive/90 glow-alert font-semibold",action:"bg-accent text-accent-foreground hover:bg-accent/90 glow-accent font-semibold"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-14 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Er=Ce.forwardRef(({className:e,variant:a,size:t,asChild:r=!1,...i},n)=>{const o=r?D:"button";return s.jsx(o,{className:rs(Sr({variant:a,size:t,className:e})),ref:n,...i})});function Mr({alerts:e}){const a=e=>{switch(e){case"critical":return s.jsx(Ve,{className:"h-4 w-4 text-destructive"});case"warning":return s.jsx(qe,{className:"h-4 w-4 text-amber-500"});case"info":return s.jsx(Fe,{className:"h-4 w-4 text-primary"})}},t=e=>{switch(e){case"critical":return s.jsx(Cr,{variant:"destructive",children:"Crítico"});case"warning":return s.jsx(Cr,{className:"bg-amber-500/20 text-amber-400 border-amber-500/30",children:"Atenção"});case"info":return s.jsx(Cr,{variant:"default",children:"Info"})}};return s.jsxs(vr,{className:"tech-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Alertas em Tempo Real"}),s.jsx(Er,{variant:"action",size:"sm",children:"Ver Todos"})]}),s.jsx("div",{className:"space-y-4",children:e.map(e=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-secondary/30 border border-border/50",children:[a(e.type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:e.title}),t(e.type)]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:e.description}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e.time})]})]},e.id))})]})}Er.displayName="Button";function _r(){const e=Ee(),{user:a,loading:t}=gr(),{ref:r,src:i,isLoaded:n}=function(e,a={}){const[t,s]=Ce.useState(a.placeholder||null),[r,i]=Ce.useState(!1),[n,o]=Ce.useState(!1),l=Ce.useRef(null);return Ce.useEffect(()=>{const e=new IntersectionObserver(([a])=>{a.isIntersecting&&(o(!0),e.disconnect())},{rootMargin:a.rootMargin||"50px",threshold:a.threshold||.1});return l.current&&e.observe(l.current),()=>e.disconnect()},[a.rootMargin,a.threshold]),Ce.useEffect(()=>{if(n&&!r){const a=new Image;a.onload=()=>{s(e),i(!0)},a.onerror=()=>{i(!0)},a.src=e}},[n,r,e]),{ref:l,src:t,isLoaded:r,isInView:n}}("/assets/img/hero-dashboard-CF0CQDmY.jpg");return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("section",{ref:r,className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transition-opacity duration-500 "+(n?"opacity-30":"opacity-0"),style:{backgroundImage:i?`url(${i})`:"none",backgroundColor:i?"transparent":"#f3f4f6"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background via-background/90 to-background/70"}),s.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-20 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-4xl",children:[s.jsxs(Cr,{className:"mb-6 bg-primary/20 text-primary border-primary/30",children:[s.jsx(He,{className:"h-3 w-3 mr-1"}),"Powered by AI"]}),s.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold mb-6",children:[s.jsx("span",{className:"gradient-text",children:"ConectaBoi"}),s.jsx("br",{}),s.jsx("span",{className:"text-foreground",children:"Insights"})]}),s.jsx("p",{className:"text-xl text-muted-foreground mb-4 max-w-2xl",children:"No confinamento, cada detalhe importa."}),s.jsx("p",{className:"text-lg text-foreground mb-8 max-w-2xl font-medium",children:"O ConectaBoi Insights transforma dados em decisões inteligentes."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs(Er,{variant:"tech",size:"xl",children:[s.jsx(We,{className:"h-5 w-5"}),"Dashboard Completo"]}),s.jsxs(Er,{variant:"action",size:"xl",children:[s.jsx(Ke,{className:"h-5 w-5"}),"Agentes de IA"]})]})]})})]}),s.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-12 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Métricas em Tempo Real"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(wr,{title:"Quantidade de Cabeças",value:"3.840",subtitle:"↗ +3.2% vs ontem",trend:"up",icon:s.jsx($e,{className:"h-6 w-6"})}),s.jsx(wr,{title:"Eficiência de Carregamento",value:"94.8%",subtitle:"↗ +1.5% vs semana",trend:"up",icon:s.jsx(Ue,{className:"h-6 w-6"})}),s.jsx(wr,{title:"Eficiência de Distribuição",value:"92.3%",subtitle:"→ Status estável",trend:"stable",icon:s.jsx(Ye,{className:"h-6 w-6"})}),s.jsx(wr,{title:"Quantidade Fabricada",value:"1.247 ton",subtitle:"↘ -8min vs ontem",trend:"down",icon:s.jsx(qe,{className:"h-6 w-6"})})]})]}),s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Agentes de IA Especializados"}),s.jsxs(Cr,{className:"bg-primary/20 text-primary border-primary/30",children:[s.jsx(Ke,{className:"h-3 w-3 mr-1"}),"4 Agentes Ativos"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Dr,{name:"Nutrição Inteligente",status:"active",description:"Monitora consumo e otimiza fórmulas em tempo real",icon:s.jsx(Ge,{className:"h-5 w-5 text-primary"}),metrics:[{label:"Lotes Monitorados",value:"24"},{label:"Ajustes Aplicados",value:"8"}]}),s.jsx(Dr,{name:"Logística Otimizada",status:"monitoring",description:"Calcula rotas e tempos ideais de distribuição",icon:s.jsx(Qe,{className:"h-5 w-5 text-accent"}),metrics:[{label:"Rotas Ativas",value:"12"},{label:"Economia Tempo",value:"18%"}]}),s.jsx(Dr,{name:"Leitura de Cocho",status:"active",description:"Analisa sobras e padrões de consumo",icon:s.jsx(Je,{className:"h-5 w-5 text-primary"}),metrics:[{label:"Pontos Leitura",value:"48"},{label:"Precisão Média",value:"97.3%"}]}),s.jsx(Dr,{name:"Detecção de Desvios",status:"alert",description:"Identifica anomalias antes que virem perdas",icon:s.jsx(Ze,{className:"h-5 w-5 text-destructive"}),metrics:[{label:"Alertas Ativos",value:"3"},{label:"Perdas Evitadas",value:"R$ 18k"}]})]})]}),s.jsx("div",{className:"mb-12",children:s.jsx(Mr,{alerts:[{id:"1",type:"critical",title:"Lote 15 - Consumo abaixo do esperado",description:"Redução de 15% no consumo nas últimas 4 horas",time:"há 12 minutos"},{id:"2",type:"warning",title:"Desvio na rota de distribuição",description:"Caminhão 03 com atraso de 25 minutos",time:"há 45 minutos"},{id:"3",type:"info",title:"Ajuste nutricional aplicado",description:"IA otimizou fórmula do Lote 08",time:"há 1 hora"}]})}),s.jsxs("div",{className:"tech-card p-8 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold gradient-text mb-4",children:"Transforme Dados em Decisões Inteligentes"}),s.jsxs("p",{className:"text-lg text-muted-foreground mb-8 max-w-3xl mx-auto",children:["Mais que um sistema, é como ter uma ",s.jsx("strong",{className:"text-foreground",children:"sala de controle com agentes de IA especializados"})," trabalhando lado a lado com você, 24 horas por dia."]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-primary/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ke,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"IA Especializada"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Múltiplos agentes focados em nutrição, logística e produção"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-accent/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(We,{className:"h-8 w-8 text-accent"})}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Tempo Real"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitoramento contínuo com alertas e feedbacks automáticos"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-primary/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ze,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"ROI Garantido"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Redução de custos e otimização de tempo por arroba"})]})]}),s.jsxs(Er,{variant:"tech",size:"xl",onClick:()=>{e(a?"/dashboard":"/signup")},children:[s.jsx(He,{className:"h-5 w-5"}),a?"Ir para Dashboard":"Começar Agora"]})]})]})]})}const Pr=(()=>{const e=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],a=["#F00F30","#14B981","#F49E0D"],t=[];for(let s=6;s>=0;s--){const r=new Date;r.setDate(r.getDate()-s);const i=e[r.getDay()],n=Math.floor(500*Math.random())+800,o=n+200*(Math.random()-.5),l=(6-s)%a.length;t.push({dia:i,previsto:Math.round(n),realizado:Math.round(Math.max(0,o)),realizadoColor:a[l]})}return t})(),Rr=({active:e,payload:a,label:t})=>e&&a&&a.length?s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold mb-2 text-gray-800",children:`Dia: ${t}`}),a.map((e,a)=>s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"previsto"===e.dataKey?"#3B82F6":"#14B981"}}),s.jsxs("span",{style:{color:"previsto"===e.dataKey?"#3B82F6":"#14B981"},children:["previsto"===e.dataKey?"Previsto":"Realizado",": ",e.value," kg"]})]},a))]}):null,zr=()=>s.jsxs(vr,{className:"col-span-2",children:[s.jsxs(br,{children:[s.jsx(jr,{children:"Consumo de Matéria Seca"}),s.jsx(yr,{children:"Previsto vs Realizado - Últimos 7 dias (kg)"})]}),s.jsx(Nr,{children:s.jsx(zt,{width:"100%",height:300,children:s.jsxs(Tt,{data:Pr,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(At,{strokeDasharray:"3 3"}),s.jsx(It,{dataKey:"dia"}),s.jsx(Bt,{}),s.jsx(Ot,{content:s.jsx(Rr,{})}),s.jsx(Lt,{}),s.jsx(Ft,{dataKey:"previsto",fill:"#3B82F6",name:"Previsto",radius:[4,4,0,0]}),s.jsx(Ft,{dataKey:"realizado",name:"Realizado",radius:[4,4,0,0],children:Pr.map((e,a)=>s.jsx(qt,{fill:e.realizadoColor},`cell-${a}`))})]})})})]}),Tr=[{name:"Dieta Crescimento",value:2500,color:"#0088FE"},{name:"Dieta Engorda",value:3200,color:"#00C49F"},{name:"Dieta Terminação",value:1800,color:"#FFBB28"},{name:"Dieta Especial",value:900,color:"#FF8042"}],Ar=["#0088FE","#00C49F","#FFBB28","#FF8042"],Ir=({active:e,payload:a})=>{if(e&&a&&a.length){const e=a[0];return s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold",children:e.name}),s.jsx("p",{className:"text-blue-600",children:`Quantidade: ${e.value} kg`}),s.jsx("p",{className:"text-gray-500",children:`${(e.value/e.payload.total*100).toFixed(1)}%`})]})}return null},Br=Tr.reduce((e,a)=>e+a.value,0),Or=Tr.map(e=>({...e,total:Br})),Lr=()=>s.jsxs(vr,{children:[s.jsxs(br,{children:[s.jsx(jr,{children:"Dietas Fabricadas Hoje"}),s.jsx(yr,{children:"Distribuição por tipo de dieta (kg)"})]}),s.jsxs(Nr,{children:[s.jsx(zt,{width:"100%",height:300,children:s.jsxs(Vt,{children:[s.jsx(Ht,{data:Or,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,value:a,percent:t})=>`${e}: ${(100*t).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:Or.map((e,a)=>s.jsx(qt,{fill:Ar[a%Ar.length]},`cell-${a}`))}),s.jsx(Ot,{content:s.jsx(Ir,{})})]})}),s.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2 text-sm",children:Tr.map((e,a)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Ar[a]}}),s.jsxs("span",{className:"truncate",children:[e.name,": ",e.value,"kg"]})]},e.name))}),s.jsx("div",{className:"mt-3 pt-3 border-t text-center",children:s.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:["Total: ",Br.toLocaleString()," kg"]})})]})]}),Fr=Ce.forwardRef(({className:e,type:a,...t},r)=>s.jsx("input",{type:a,className:rs("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Fr.displayName="Input";const qr=["Olá! Sou o agente especializado em carregamento. Como posso ajudar você hoje?","Analisando os dados do último carregamento... Detectei um desvio de 2.3kg no Vagão 1. Quer que eu investigue?","O consumo de milho está 5% acima do previsto hoje. Isso pode estar relacionado à umidade do ingrediente.","Recomendo verificar a calibração da balança do Vagão 2. Há inconsistências nos últimos 3 carregamentos.","A eficiência média do turno da manhã foi de 94.2%. Dentro dos parâmetros aceitáveis.","Identifiquei que o ingrediente 'Farelo de Trigo' teve variação maior que o esperado. Precisa de ajuste na formulação?","Os dados mostram que o Vagão 3 tem performance 8% melhor que os demais. Quer saber os detalhes?","Baseado no histórico, sugiro aumentar o tempo de mistura em 30 segundos para melhorar a homogeneidade."],Vr=["Olá! Sou o agente especializado em distribuição. Como posso ajudar você hoje?","Analisando a eficiência de distribuição... Detectei que o Curral 15 teve eficiência de 89% hoje. Precisa de atenção.","O Tratador Luiz Lopez está com performance consistente de 96%. Agustin Lopez teve variação maior.","Identifiquei que o Trato 1 sempre tem menor precisão - é normal o 'aquecimento' inicial do sistema.","A eficiência por tipo de dieta mostra que TERMINACION tem os melhores resultados hoje.","O vagão BAHMAN representa 68% da produção total. Performance excelente.","Recomendo revisar a sequência do Trato 3 - houve degradação na eficiência neste período.","A produtividade por hora mostra pico às 10h. Padrão normal de operação identificado."];function Hr({isOpen:e,onClose:a,agentType:t="loading"}){const[r,i]=Ce.useState([]),[n,o]=Ce.useState(""),[l,d]=Ce.useState(!1),c=Ce.useRef(null),m="loading"===t?qr:Vr,u="loading"===t?"Agente de Carregamento":"Agente de Distribuição",x="loading"===t?"Online • Especialista em Desvios":"Online • Especialista em Eficiência";Ce.useEffect(()=>{var e;null==(e=c.current)||e.scrollIntoView({behavior:"smooth"})},[r]),Ce.useEffect(()=>{e&&0===r.length&&setTimeout(()=>{h(m[0])},500)},[e,m]);const h=e=>{const a={id:Date.now().toString(),text:e,sender:"agent",timestamp:new Date};i(e=>[...e,a]),d(!1)},p=()=>{n.trim()&&((e=>{const a={id:Date.now().toString(),text:e,sender:"user",timestamp:new Date};i(e=>[...e,a])})(n),o(""),(()=>{d(!0);const e=2e3*Math.random()+1e3;setTimeout(()=>{const e=m[Math.floor(Math.random()*m.length)];h(e)},e)})())};return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(vr,{className:"w-full max-w-md h-[600px] flex flex-col bg-card border-border",children:[s.jsx(br,{className:"flex-shrink-0 border-b border-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:s.jsx(Xe,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{children:[s.jsx(jr,{className:"text-lg",children:u}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x})]})]}),s.jsx(Er,{variant:"ghost",size:"icon",onClick:a,className:"h-8 w-8",children:s.jsx(Oe,{className:"h-4 w-4"})})]})}),s.jsx(Nr,{className:"flex-1 overflow-hidden p-0",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.map(e=>s.jsx("div",{className:rs("flex","user"===e.sender?"justify-end":"justify-start"),children:s.jsxs("div",{className:"flex items-start space-x-2 max-w-[80%]",children:["agent"===e.sender&&s.jsx("div",{className:"w-6 h-6 bg-primary rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(Xe,{className:"h-3 w-3 text-white"})}),s.jsx("div",{className:rs("rounded-lg px-3 py-2 text-sm","user"===e.sender?"bg-primary text-white":"bg-muted text-foreground"),children:e.text}),"user"===e.sender&&s.jsx("div",{className:"w-6 h-6 bg-secondary rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(ea,{className:"h-3 w-3 text-foreground"})})]})},e.id)),l&&s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("div",{className:"w-6 h-6 bg-primary rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(Xe,{className:"h-3 w-3 text-white"})}),s.jsx("div",{className:"bg-muted rounded-lg px-3 py-2 text-sm",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),s.jsx("div",{ref:c})]}),s.jsx("div",{className:"border-t border-border p-4",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(Fr,{value:n,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"===e.key&&p()},placeholder:"Digite sua mensagem...",className:"flex-1"}),s.jsx(Er,{onClick:p,disabled:!n.trim()||l,size:"icon",children:s.jsx(aa,{className:"h-4 w-4"})})]})})]})})]})}):null}const Wr=Ce.forwardRef(({className:e,...a},t)=>s.jsx(S,{ref:t,className:rs("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...a}));Wr.displayName=S.displayName;const Kr=Ce.forwardRef(({className:e,...a},t)=>s.jsx(E,{ref:t,className:rs("aspect-square h-full w-full",e),...a}));Kr.displayName=E.displayName;const $r=Ce.forwardRef(({className:e,...a},t)=>s.jsx(M,{ref:t,className:rs("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...a}));$r.displayName=M.displayName;const Ur=Ce.forwardRef(({className:e,orientation:a="horizontal",decorative:t=!0,...r},i)=>s.jsx(_,{ref:i,decorative:t,orientation:a,className:rs("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Ur.displayName=_.displayName;const Yr=I,Gr=B,Qr=Ce.forwardRef(({className:e,...a},t)=>s.jsx(P,{className:rs("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:t}));Qr.displayName=P.displayName;const Jr=Le("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Zr=Ce.forwardRef(({side:e="right",className:a,children:t,...r},i)=>s.jsxs(Gr,{children:[s.jsx(Qr,{}),s.jsxs(R,{ref:i,className:rs(Jr({side:e}),a),...r,children:[t,s.jsxs(z,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Oe,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zr.displayName=R.displayName;Ce.forwardRef(({className:e,...a},t)=>s.jsx(T,{ref:t,className:rs("text-lg font-semibold text-foreground",e),...a})).displayName=T.displayName;function Xr({className:e,...a}){return s.jsx("div",{className:rs("animate-pulse rounded-md bg-muted",e),...a})}Ce.forwardRef(({className:e,...a},t)=>s.jsx(A,{ref:t,className:rs("text-sm text-muted-foreground",e),...a})).displayName=A.displayName;const ei=Ce.createContext(null);function ai(){const e=Ce.useContext(ei);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const ti=Ce.forwardRef(({defaultOpen:e=!0,open:a,onOpenChange:t,className:r,style:i,children:n,...o},l)=>{const d=function(){const[e,a]=Ce.useState(void 0);return Ce.useEffect(()=>{const e=window.matchMedia("(max-width: 767px)"),t=()=>{a(window.innerWidth<768)};return e.addEventListener("change",t),a(window.innerWidth<768),()=>e.removeEventListener("change",t)},[]),!!e}(),[c,m]=Ce.useState(!1),[u,x]=Ce.useState(e),h=a??u,p=Ce.useCallback(e=>{const a="function"==typeof e?e(h):e;t?t(a):x(a),document.cookie=`sidebar:state=${a}; path=/; max-age=604800`},[t,h]),f=Ce.useCallback(()=>d?m(e=>!e):p(e=>!e),[d,p,m]);Ce.useEffect(()=>{const e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),f())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[f]);const g=h?"expanded":"collapsed",v=Ce.useMemo(()=>({state:g,open:h,setOpen:p,isMobile:d,openMobile:c,setOpenMobile:m,toggleSidebar:f}),[g,h,p,d,c,m,f]);return s.jsx(ei.Provider,{value:v,children:s.jsx(dr,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...i},className:rs("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...o,children:n})})})});ti.displayName="SidebarProvider";const si=Ce.forwardRef(({side:e="left",variant:a="sidebar",collapsible:t="offcanvas",className:r,children:i,...n},o)=>{const{isMobile:l,state:d,openMobile:c,setOpenMobile:m}=ai();return"none"===t?s.jsx("div",{className:rs("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...n,children:i}):l?s.jsx(Yr,{open:c,onOpenChange:m,...n,children:s.jsx(Zr,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):s.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":d,"data-collapsible":"collapsed"===d?t:"","data-variant":a,"data-side":e,children:[s.jsx("div",{className:rs("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===a||"inset"===a?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:rs("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex","left"===e?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===a||"inset"===a?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...n,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});si.displayName="Sidebar";const ri=Ce.forwardRef(({className:e,onClick:a,...t},r)=>{const{toggleSidebar:i}=ai();return s.jsxs(Er,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:rs("h-7 w-7",e),onClick:e=>{null==a||a(e),i()},...t,children:[s.jsx(ta,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});ri.displayName="SidebarTrigger";Ce.forwardRef(({className:e,...a},t)=>{const{toggleSidebar:r}=ai();return s.jsx("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:rs("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...a})}).displayName="SidebarRail";Ce.forwardRef(({className:e,...a},t)=>s.jsx("main",{ref:t,className:rs("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...a})).displayName="SidebarInset";Ce.forwardRef(({className:e,...a},t)=>s.jsx(Fr,{ref:t,"data-sidebar":"input",className:rs("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...a})).displayName="SidebarInput";Ce.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,"data-sidebar":"header",className:rs("flex flex-col gap-2 p-2",e),...a})).displayName="SidebarHeader";Ce.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,"data-sidebar":"footer",className:rs("flex flex-col gap-2 p-2",e),...a})).displayName="SidebarFooter";Ce.forwardRef(({className:e,...a},t)=>s.jsx(Ur,{ref:t,"data-sidebar":"separator",className:rs("mx-2 w-auto bg-sidebar-border",e),...a})).displayName="SidebarSeparator";const ii=Ce.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,"data-sidebar":"content",className:rs("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...a}));ii.displayName="SidebarContent";const ni=Ce.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,"data-sidebar":"group",className:rs("relative flex w-full min-w-0 flex-col p-2",e),...a}));ni.displayName="SidebarGroup";const oi=Ce.forwardRef(({className:e,asChild:a=!1,...t},r)=>{const i=a?D:"div";return s.jsx(i,{ref:r,"data-sidebar":"group-label",className:rs("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...t})});oi.displayName="SidebarGroupLabel";Ce.forwardRef(({className:e,asChild:a=!1,...t},r)=>{const i=a?D:"button";return s.jsx(i,{ref:r,"data-sidebar":"group-action",className:rs("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...t})}).displayName="SidebarGroupAction";const li=Ce.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,"data-sidebar":"group-content",className:rs("w-full text-sm",e),...a}));li.displayName="SidebarGroupContent";const di=Ce.forwardRef(({className:e,...a},t)=>s.jsx("ul",{ref:t,"data-sidebar":"menu",className:rs("flex w-full min-w-0 flex-col gap-1",e),...a}));di.displayName="SidebarMenu";const ci=Ce.forwardRef(({className:e,...a},t)=>s.jsx("li",{ref:t,"data-sidebar":"menu-item",className:rs("group/menu-item relative",e),...a}));ci.displayName="SidebarMenuItem";const mi=Le("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),ui=Ce.forwardRef(({asChild:e=!1,isActive:a=!1,variant:t="default",size:r="default",tooltip:i,className:n,...o},l)=>{const d=e?D:"button",{isMobile:c,state:m}=ai(),u=s.jsx(d,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":a,className:rs(mi({variant:t,size:r}),n),...o});return i?("string"==typeof i&&(i={children:i}),s.jsxs(cr,{children:[s.jsx(mr,{asChild:!0,children:u}),s.jsx(ur,{side:"right",align:"center",hidden:"collapsed"!==m||c,...i})]})):u});ui.displayName="SidebarMenuButton";Ce.forwardRef(({className:e,asChild:a=!1,showOnHover:t=!1,...r},i)=>{const n=a?D:"button";return s.jsx(n,{ref:i,"data-sidebar":"menu-action",className:rs("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})}).displayName="SidebarMenuAction";Ce.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,"data-sidebar":"menu-badge",className:rs("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...a})).displayName="SidebarMenuBadge";Ce.forwardRef(({className:e,showIcon:a=!1,...t},r)=>{const i=Ce.useMemo(()=>`${Math.floor(40*Math.random())+50}%`,[]);return s.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:rs("flex h-8 items-center gap-2 rounded-md px-2",e),...t,children:[a&&s.jsx(Xr,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(Xr,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})}).displayName="SidebarMenuSkeleton";Ce.forwardRef(({className:e,...a},t)=>s.jsx("ul",{ref:t,"data-sidebar":"menu-sub",className:rs("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...a})).displayName="SidebarMenuSub";Ce.forwardRef(({...e},a)=>s.jsx("li",{ref:a,...e})).displayName="SidebarMenuSubItem";Ce.forwardRef(({asChild:e=!1,size:a="md",isActive:t,className:r,...i},n)=>{const o=e?D:"a";return s.jsx(o,{ref:n,"data-sidebar":"menu-sub-button","data-size":a,"data-active":t,className:rs("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===a&&"text-xs","md"===a&&"text-sm","group-data-[collapsible=icon]:hidden",r),...i})}).displayName="SidebarMenuSubButton";const xi=[{title:"Dashboard",url:"/dashboard",icon:ra}],hi=[{title:"Leitura de Cocho",url:"/feed-reading",icon:$e},{title:"Análise de Desvios",url:"/desvios",icon:We},{title:"Logística de Tratos",url:"/logistica",icon:ia}],pi=[{title:"Alertas & Feedbacks",url:"/alerts",icon:We},{title:"Otimizações Recomendadas",url:"/optimizations",icon:$e}],fi=[{title:"Upload CSV",url:"/csv-upload",icon:ia},{title:"Operações ETL",url:"/etl-operations",icon:na},{title:"Dashboard Métricas",url:"/metrics-dashboard",icon:Ze},{title:"Relatórios",url:"/reports",icon:ia},{title:"Equipe",url:"/team",icon:Ye},{title:"Configurações",url:"/settings",icon:oa}];function gi(){const{state:e}=ai(),{user:a,profile:t,organization:r,signOut:i}=gr(),n=Me().pathname,o="collapsed"===e,l=e=>n===e;return s.jsx(si,{className:o?"w-16":"w-64",collapsible:"icon",children:s.jsxs(ii,{className:"bg-card-secondary/50 backdrop-blur-sm border-r border-border-subtle flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-border-subtle",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(We,{className:"h-8 w-8 text-accent-primary"}),s.jsx("div",{className:"absolute inset-0 bg-accent-primary/20 blur-lg rounded-full"})]}),!o&&s.jsx("div",{className:"text-xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"ConectaBoi"})]})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(ni,{children:[s.jsx(oi,{className:"text-text-tertiary",children:"Principal"}),s.jsx(li,{children:s.jsx(di,{children:xi.map(e=>s.jsx(ci,{children:s.jsx(ui,{asChild:!0,children:s.jsxs(_e,{to:e.url,end:!0,className:"flex items-center justify-between w-full py-2 px-4 text-left transition-all duration-200 ease-in-out cursor-pointer group relative overflow-hidden "+(l(e.url)?"bg-accent-primary/20 text-accent-primary border-r-2 border-accent-primary":"text-text-secondary hover:bg-background-secondary/50 hover:text-text-primary"),children:[s.jsx("div",{className:"absolute inset-0 transition-opacity duration-200 "+(l(e.url)?"bg-gradient-to-r from-accent-primary/20 to-transparent opacity-100":"bg-gradient-to-l from-transparent to-accent-primary/25 opacity-0 group-hover:opacity-100")}),s.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[s.jsx(e.icon,{className:"h-4 w-4 flex-shrink-0 transition-all duration-200 "+(l(e.url)?"text-accent-primary":"group-hover:text-accent-primary")}),!o&&s.jsx("span",{className:"truncate transition-all duration-200 "+(l(e.url)?"text-accent-primary font-medium":"group-hover:text-text-primary group-hover:font-medium"),children:e.title})]})]})})},e.title))})})]}),s.jsxs(ni,{children:[s.jsx(oi,{className:"text-text-tertiary",children:"Operacional"}),s.jsx(li,{children:s.jsx(di,{children:hi.map(e=>s.jsx(ci,{children:s.jsx(ui,{asChild:!0,children:s.jsxs(_e,{to:e.url,end:!0,className:"flex items-center justify-between w-full py-2 px-4 text-left transition-all duration-200 ease-in-out cursor-pointer group relative overflow-hidden "+(l(e.url)?"bg-accent-primary/20 text-accent-primary border-r-2 border-accent-primary":"text-text-secondary hover:bg-background-secondary/50 hover:text-text-primary"),children:[s.jsx("div",{className:"absolute inset-0 transition-opacity duration-200 "+(l(e.url)?"bg-gradient-to-r from-accent-primary/20 to-transparent opacity-100":"bg-gradient-to-l from-transparent to-accent-primary/25 opacity-0 group-hover:opacity-100")}),s.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[s.jsx(e.icon,{className:"h-4 w-4 flex-shrink-0 transition-all duration-200 "+(l(e.url)?"text-accent-primary":"group-hover:text-accent-primary")}),!o&&s.jsx("span",{className:"truncate transition-all duration-200 "+(l(e.url)?"text-accent-primary font-medium":"group-hover:text-text-primary group-hover:font-medium"),children:e.title})]})]})})},e.title))})})]}),s.jsxs(ni,{children:[s.jsx(oi,{className:"text-text-tertiary",children:"Insights de IA"}),s.jsx(li,{children:s.jsx(di,{children:pi.map(e=>s.jsx(ci,{children:s.jsx(ui,{asChild:!0,children:s.jsxs(_e,{to:e.url,end:!0,className:"flex items-center justify-between w-full py-2 px-4 text-left transition-all duration-200 ease-in-out cursor-pointer group relative overflow-hidden "+(l(e.url)?"bg-accent-primary/20 text-accent-primary border-r-2 border-accent-primary":"text-text-secondary hover:bg-background-secondary/50 hover:text-text-primary"),children:[s.jsx("div",{className:"absolute inset-0 transition-opacity duration-200 "+(l(e.url)?"bg-gradient-to-r from-accent-primary/20 to-transparent opacity-100":"bg-gradient-to-l from-transparent to-accent-primary/25 opacity-0 group-hover:opacity-100")}),s.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[s.jsx(e.icon,{className:"h-4 w-4 flex-shrink-0 transition-all duration-200 "+(l(e.url)?"text-accent-primary":"group-hover:text-accent-primary")}),!o&&s.jsx("span",{className:"truncate transition-all duration-200 "+(l(e.url)?"text-accent-primary font-medium":"group-hover:text-text-primary group-hover:font-medium"),children:e.title})]})]})})},e.title))})})]}),s.jsxs(ni,{children:[s.jsx(oi,{className:"text-text-tertiary",children:"Gestão"}),s.jsx(li,{children:s.jsx(di,{children:fi.map(e=>s.jsx(ci,{children:s.jsx(ui,{asChild:!0,children:s.jsxs(_e,{to:e.url,end:!0,className:"flex items-center justify-between w-full py-2 px-4 text-left transition-all duration-200 ease-in-out cursor-pointer group relative overflow-hidden "+(l(e.url)?"bg-accent-primary/20 text-accent-primary border-r-2 border-accent-primary":"text-text-secondary hover:bg-background-secondary/50 hover:text-text-primary"),children:[s.jsx("div",{className:"absolute inset-0 transition-opacity duration-200 "+(l(e.url)?"bg-gradient-to-r from-accent-primary/20 to-transparent opacity-100":"bg-gradient-to-l from-transparent to-accent-primary/25 opacity-0 group-hover:opacity-100")}),s.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[s.jsx(e.icon,{className:"h-4 w-4 flex-shrink-0 transition-all duration-200 "+(l(e.url)?"text-accent-primary":"group-hover:text-accent-primary")}),!o&&s.jsx("span",{className:"truncate transition-all duration-200 "+(l(e.url)?"text-accent-primary font-medium":"group-hover:text-text-primary group-hover:font-medium"),children:e.title})]})]})})},e.title))})})]})]}),s.jsx("div",{className:"p-4 border-t border-border-subtle mt-auto",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(_e,{to:"/user-profile",className:"flex items-center gap-3 flex-1 group",children:[s.jsxs(Wr,{className:"h-10 w-10 ring-2 ring-accent-primary/20",children:[s.jsx(Kr,{src:(null==t?void 0:t.avatar_url)||"",alt:(null==t?void 0:t.full_name)||"User"}),s.jsx($r,{className:"bg-accent-primary/10 text-accent-primary font-semibold",children:(null==t?void 0:t.full_name)?t.full_name.split(" ").map(e=>e.charAt(0)).slice(0,2).join("").toUpperCase():(null==(d=null==a?void 0:a.email)?void 0:d.charAt(0).toUpperCase())||"U"})]}),!o&&s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h6",{className:"text-sm font-semibold text-text-primary group-hover:text-accent-primary transition-colors truncate",children:(null==t?void 0:t.full_name)||(null==a?void 0:a.email)||"Usuário"}),s.jsx("span",{className:"text-xs text-text-tertiary truncate block",children:(null==r?void 0:r.name)||"ConectaBoi"})]})]}),!o&&s.jsx("button",{onClick:()=>{i()},className:"p-2 rounded-lg hover:bg-destructive/10 text-text-tertiary hover:text-destructive transition-all duration-200 hover:scale-105","aria-label":"Sair",children:s.jsx(sa,{className:"h-4 w-4"})})]})})]})});var d}const vi=Y,bi=G;Ce.forwardRef(({className:e,inset:a,children:t,...r},i)=>s.jsxs(O,{ref:i,className:rs("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",a&&"pl-8",e),...r,children:[t,s.jsx(la,{className:"ml-auto h-4 w-4"})]})).displayName=O.displayName;Ce.forwardRef(({className:e,...a},t)=>s.jsx(L,{ref:t,className:rs("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})).displayName=L.displayName;const ji=Ce.forwardRef(({className:e,sideOffset:a=4,...t},r)=>s.jsx(F,{children:s.jsx(q,{ref:r,sideOffset:a,className:rs("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));ji.displayName=q.displayName;const yi=Ce.forwardRef(({className:e,inset:a,...t},r)=>s.jsx(V,{ref:r,className:rs("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",a&&"pl-8",e),...t}));yi.displayName=V.displayName;Ce.forwardRef(({className:e,children:a,checked:t,...r},i)=>s.jsxs(H,{ref:i,className:rs("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:t,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(W,{children:s.jsx(da,{className:"h-4 w-4"})})}),a]})).displayName=H.displayName;Ce.forwardRef(({className:e,children:a,...t},r)=>s.jsxs(K,{ref:r,className:rs("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...t,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(W,{children:s.jsx(ca,{className:"h-2 w-2 fill-current"})})}),a]})).displayName=K.displayName;Ce.forwardRef(({className:e,inset:a,...t},r)=>s.jsx($,{ref:r,className:rs("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",e),...t})).displayName=$.displayName;Ce.forwardRef(({className:e,...a},t)=>s.jsx(U,{ref:t,className:rs("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=U.displayName;const Ni=[{code:"pt-BR",name:"Português",region:"Brasil",flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQwAAAC8CAMAAAC672BgAAABKVBMVEUAlED/ywAwJoH/////zgD/zwAAk0EAkUIAj0P/0wD/1AAqH38AAIctIoAuJID/0QAmGn0nH4MiG4QjFnzIux30yAkcC3rZwBeWrivoxBDRvhqhsCnuxg21tiMRDYYPAHdLnTmrsyZZoDdypTOLqy4xmTx/qDBhTXIklz3XqzNkojVIOXobFYV4X2q/uSBoU3BTQndtV26s0rd/ZWdAM31bVZZoY509NIe2kUvRpjiMb2HruyBEPIpNRo/0wxRVq3Ezn1migVeFga7o8+yxr8rAmUXgsyyZelvhsyuohVPEv9eBvZPu7fSQxKBFpWXe3ejT59lzt4fA3cmcmb19eapwa6LJx9r75a4AggDK4tH61Wq0176ezKz76sH3/fj/11ykocHbvHj78NZdHC4jAAALsUlEQVR4nO1dfX/aNhcVFpgQY2Hw6q1di9ttXZKVrBkZ0KQQiEPWlvAWCKxZPMae7/8hHskGZhLLb0AwROePlvxCAB2u7r06ulcCgIGBgYGBgYGBgYGBgYGBgYGBgYGBgYFhDeAx1v0ZwoL465cvX8fX/SlCAT7+KhaJxF4x4wBg55dn0QhG9NkvO+v+LGsGD76JRSaIfQOesnHwOz9HopEZopGfd54sHfH9by1UGHR8u/80HSm/8909Kgw6vnuKxhF/+9yGC8zG87dPzTj4+BtbKgxH+ib+pIxj54dnVC5IlP3h6URZnv81RqfCMI5fn0oKtvNjxMEsJsYR+fEpONI4eOFiFhPjeAG23ZHyOz+5WsXMOn7abuOIv72fZjmysc1Rlo9/74MKg47vtzXKxl+/9MkFZmM7hQ5TtvCP2KvtM46pbOEfWyd0WGWLAMaxTULHPdkigHFsj9DxULYIQMd2CB32skUAOrZA6KDJFpMRxlKpRCKxi4H/S6ViTs/d9BSMj7+hOs5oKhH9fHl+vPcOZZPJLHq3d3x++Uc0kdpSoYMuW0QT0ZNPR9lsLpMWRMRhIFFIZ3LZ7NGnE/xLyl9trtBBlS2iqejlIeZB4GwgYEYOL6MU+9hQoYOnyRbRxMfTTC6N7JgwgdK53OlHe/PYSKGDJltEdw/eJzMOTEz4yCTfH+za0rFxQgdVtkh83kum3Zgwkc7ufU7YvshmCR20eJo6O07aOgp7CMnjs5QtG5sTZfkdimyR+JDzaBUz68h92LU3jg0ROmiyRexsL+vqK+4DZffO7H3PJggdVNkicZLxaRZT4zix9xzhr+igyha750nfZjExjuQ5ZaqEW+igyxapw2wwKgiyh7ZuNNRCh4NsEd3LBOeC4zJ7tNcNq9DhIFtEjxbiArNxRHnlcAodTrLFwlwQNuivHjqhw0m2SCw2RyZs7NnHFMLG81BFWadqi8jucW5xLjgud2wfUwjCJHQ4VlskviwQR6zIfqHaRniEDudqi9hBcjlccFzywOl9wiB0UGWLKdLissgQ007vEwKhw63aYve3QDm4PdK/0d1GZO1Ch2u1RexySQ7DRPbSeV9unUKH8zaAAXdNyw9QxuXt1iZ0eKi2SJwuIcOwInNKjygTOtYidHiotoh+XFokmSL50fVNH1/o8FRtkTicek+EkGgCLTZv0odupvH4QoenagtsGJKsKCqBzJUqGOWSYP6syLIQKOa6m8YjCx0eqy1SxwWtXx92mvAemp1hY6wNyoQUyScl6WN303hEocNztcUZhBd46HfVdhXCdhxcQQhqPI8fj0a6ycqwrlV8MpI88/LejyR0eK+2+BNWq+ACtm5hKw/bEFa7sHZB6Pl6m/9qkDEakX879RsOE2JxJk7cZM4pstd9OlYvdPiptoDda3hxDfV2e3+ErQHqtzCuX3XhRVuvtg0yWu3a1WTmNDSkyuaeCpIqEt3NipyXeWLQsWKhw0OaNcNfBhlVmM9DzED17g5AyHe7XdjVgW6SUb26M7nQq/hBZ1xQFYFD5WKnWKGzkT3w+hFWKnQ4VVs8xN94sNfxLuzdQcxAT9fxnND11hXs3lYxRwS1UQ9OHuQxVV0I60VVUepwKDvMk1Nv84RgdUKHc5PIA5BBdkdm9OgMhw0Dw2HHEl1q7asLw3d8vertY/cavx7BZr2iaX0HMrzPk8jKhA73JpF5/IM5aPRvCiXVTCwmMH8SKgMcdDErFwZbd3pXv4C9FuxdGx5Vw8+gs5H97Oc7WYHQ4SpbPPgMX5IktZLsoyYScDqGSSnfjId49LeGfVSv+RqeUgDg6dIoqBJ1nnzx9a0sXejw2iTyHyapuFgSnPJvUZJVtaQ1jJmDMxDsSoDxAJvHjSrb/2matqdEQ+zFEqOsnyaRGRmiYRLisFRyW42IkqJyGrEQHIhHbYOPFraRZt+eDlH04TRMLE/o8BNPZzgzVB15DJsVL+mliGdNsU4MpJav6lBv4fwM/2BPh7ckdJ6N5Qgd/ptEjDc/MfYHhEGjrnjgwgBewxUwH3e3OGGHXZyr6tURoePBE3MnQT7REoSOIE0iGLEPBhmIUxx9hg0fRTJfWi0dJ+y1i1oeQu2BK819CFKVv7DQwfPBmkQiqU+mxoU4v/qFoMr9JjaKFtTB3SiOk5BmUZ2faZlPPj3oBIsJHcGbRFLHwVVxQVaLHUwCgK39LtT3dTgsKVZO08fByFhE6FikSSTx3kch2zykgsJJaqUBR7CLl3Ff4R1e542tWZjw3nc4mSKg0LFYk0jiKCgZYhmOsc8U1VIDe1F43au1jJS+oM6MQzgKTEYwoWPBJpHEu8AbabI2MIgUVa4B4X6erN96NR02Zo5UfBecjCBCBx8knlrJ+N2BDORsNdL016JaHmI3ismo9u7wqqU4MQ7x90XIIFHWn22skgxRLjgsSuefqhaa2DJaF6BLJkvd9ByPTcYKpwkqD5tFzx5FUDWcdugjnHZ0r0bNMqHxsafJKh2o0uioXrnAkJUG1Hk8S/heu4tTMPT4DhSsLrQijro6t38+mSsQ5nttvJDDflR8/NBKsKKky/eumqCOyVq2ZQZZTllD0gWWkI57Ha2LDyHGMaq1r+CoGr+FhbWk42DRhZoFTnmHVCy6zRxBbZAtqVqXqB3/BqFiGTvSCy3hLYMpO8TaCoSuqgdSb/B6pYb5gPCvIFwsp1ZhAXFnZhSoBB3Wr0q/70H1kEtNWMtf4/XK2sQdsJDsZwyiQLbKRBoX5HmykYW5TRURT5U82Wnxz8Uy65sCC8IYws1wjJMsGhdyZeo81Rs380AkA4Pwfz6pWKogDAJtFUzDCfYITbrcJfenIqlUh057RyaUAibjT19UrKIm0ucmUvTz1GmIBW1MH6QwmP5S0oYF9yydOI5/fH0rq6mW9be9mCDOQCSjE+UZFzaDFWQkm6YhKE577/89v+PnO1lZHbWvjefUaYYTStqcTcgFm/EibuwaV4WKuTNH/jocG8/AV5SNHmRRuQmt61NJa45tgopcd9tnEiv1ASlSkIhphaQkAfgqVsHzRO73reFSLNu7SMo2ooXFGyMrk246BTE8xSrAh9CROs9w8tzYUVktB6p8FCuNBg67QnEooRCVMQE/BW4PSmKp2Ybo5jQUmVQ2CUrICtyAZ6EjcX8Zr9BCp1xwFQIVzfS9ISt9JPBaFDs/5DG0X61JWqejOefiwgB2DLMKXVEs8F0uPRmQRvn+VQhVR2eCEFc3fG8Yy6VBoEJ6wfz20X0jQKXBwDG6IiQgxSAylIX0IHiLhSBo9/VgJFAWL2hCVr9okhXWFgsQsPlGKHagw1oFWeth5ZKRzpOlnsFLeJtvQMC2LLUD6YsQbASmDZBdN5yx4lRLLguSZnqbMLdlgUANe0IRFahphdw3I45YwmFYuGngVVy9U0KS4WbC3bAHArVyCshJDi2RCYGkThNHEJJkSbMK2dC3coJlN/mK5kpOKJIEzXAg0tTBhL/Jl2DZ7d9EBTF2UtSxJe5sRPs3WPbBAEJlsosi1y1xZ1MOBgBLPTJCrDSbpofFKetMDtmcIyPAUg8TUerT2lFhVreyUYeJgGUeMzNTQcSJOurARSiPmQErOIBILNRNdXTzDiACCxxNZb8Lj9ftJULGJh5NRRDs0DJhMLBjA5UVnJtv6qFlIOBxdqhsr40inIVu8HF2INhBh9Rans0+6BA4HIG5+/SOwATscNR5LOXY3OTeH9twbC5gByrPgx21PQd2CPsc2PH8Vni8uCGXTOa2/uIGwK70mAe77GUO7BogK9gFUXNgV4fNgV0qZwW7bnAO7CJKK9gVpXNgl9dawa41ngO78HoO7Cp0K9xbVzZYtvAP59aVzZYt/MOpomPjZQv/oAkd2x5P7WEvdGyJbOEfD4WO7ZEt/OOe0LFdsoV/WIWOrZMt/GMqdGyjbOEfptCxEdUWj4H465dbK1v4B88zs2BgYGBgYGBgYGBgYGBgYGBgYGBgYGBYD/4Ph6mhWlkQbZUAAAAASUVORK5CYII=",fallback:"BR"},{code:"es-PY",name:"Español",region:"Paraguay",flag:"data:image/svg+xml,%3csvg%20height='20'%20viewBox='0%200%2028%2020'%20width='28'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='28'%20height='6.67'%20fill='%23D52B1E'/%3e%3crect%20width='28'%20height='6.67'%20y='6.67'%20fill='%23fff'/%3e%3crect%20width='28'%20height='6.67'%20y='13.33'%20fill='%23005496'/%3e%3ccircle%20cx='14'%20cy='10'%20r='3'%20fill='%23F7E000'%20stroke='%23009639'%20stroke-width='0.5'/%3e%3c/svg%3e",fallback:"PY"},{code:"en-US",name:"English",region:"United States",flag:"data:image/svg+xml,%3csvg%20height='20'%20viewBox='0%200%2028%2020'%20width='28'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='28'%20height='20'%20fill='%23B22234'/%3e%3cpath%20d='M0%202h28v2H0zM0%206h28v2H0zM0%2010h28v2H0zM0%2014h28v2H0zM0%2018h28v2H0z'%20fill='%23fff'/%3e%3crect%20width='12'%20height='11'%20fill='%233C3B6E'/%3e%3c/svg%3e",fallback:"US"}];function wi(){const[e,a]=Ce.useState(Ni[0]);return s.jsxs(vi,{children:[s.jsx(bi,{asChild:!0,children:s.jsx(Er,{variant:"ghost",size:"icon",className:"hover:bg-background-secondary/50",children:s.jsxs(Wr,{className:"w-5 h-5",children:[s.jsx(Kr,{src:e.flag,alt:e.name}),s.jsx($r,{className:"text-xs",children:e.fallback})]})})}),s.jsx(ji,{align:"end",className:"w-64 bg-card-primary border-border-subtle z-50",children:Ni.map(t=>s.jsxs(yi,{onClick:()=>a(t),className:"flex items-center gap-3 p-3 cursor-pointer",children:[s.jsxs(Wr,{className:"w-6 h-6",children:[s.jsx(Kr,{src:t.flag,alt:t.name}),s.jsx($r,{className:"text-xs",children:t.fallback})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-text-primary",children:t.name}),s.jsx("span",{className:"text-xs text-text-secondary",children:t.region})]}),e.code===t.code&&s.jsx("div",{className:"ml-auto w-2 h-2 bg-accent-primary rounded-full"})]},t.code))})]})}function ki({children:e}){var a,t;const{user:r,profile:i,organization:n,signOut:o}=gr(),l=Ee();return s.jsx(ti,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-background-primary",children:[s.jsx(gi,{}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("header",{className:"bg-card-secondary/50 backdrop-blur-sm border-b border-border-subtle sticky top-0 z-50",children:s.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ri,{}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Er,{variant:"ghost",size:"icon",className:"hover:bg-background-secondary/50 hover:text-text-primary",children:s.jsx(ma,{className:"h-5 w-5"})}),s.jsx(Fr,{placeholder:"Buscar...",className:"w-64 h-9"})]})]}),s.jsx("div",{className:"hidden md:flex items-center gap-2",children:s.jsx("div",{className:"flex items-center"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wi,{}),s.jsx(Er,{variant:"ghost",size:"icon",className:"hover:bg-background-secondary/50 hover:text-text-primary",children:s.jsx(ua,{className:"h-5 w-5"})}),s.jsxs("div",{className:"relative",children:[s.jsx(Er,{variant:"ghost",size:"icon",className:"hover:bg-background-secondary/50 hover:text-text-primary",children:s.jsx(xa,{className:"h-5 w-5"})}),s.jsx("div",{className:"absolute -top-1 -right-1 bg-accent-primary h-2 w-2 rounded-full"})]}),s.jsxs("div",{className:"flex items-center gap-3 ml-2",children:[s.jsxs(Wr,{className:"w-8 h-8 ring-2 ring-accent-primary/20 hover:ring-accent-primary/40 transition-all cursor-pointer",children:[s.jsx(Kr,{src:null==i?void 0:i.avatar_url}),s.jsx($r,{className:"bg-accent-primary text-white text-sm",children:(null==(a=null==i?void 0:i.full_name)?void 0:a.charAt(0))||(null==(t=null==r?void 0:r.email)?void 0:t.charAt(0))})]}),s.jsxs("div",{className:"hidden lg:block",children:[s.jsx("p",{className:"text-sm font-medium text-text-primary",children:null==i?void 0:i.full_name}),s.jsx("p",{className:"text-xs text-text-secondary",children:null==n?void 0:n.name})]})]}),s.jsxs(Er,{variant:"ghost",size:"sm",onClick:async()=>{await o(),l("/")},className:"hidden xl:flex text-text-secondary hover:text-text-primary",children:[s.jsx(ha,{className:"h-4 w-4 mr-2"}),"Sair"]})]})]})}),s.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})})}function Ci(){const[e,a]=Ce.useState(!1);return s.jsxs(ki,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Dashboard"}),s.jsx("p",{className:"text-text-secondary",children:"Visão geral completa do seu sistema ConectaBoi"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Er,{onClick:()=>a(!0),variant:"outline",className:"border-primary text-primary hover:bg-primary/10",children:[s.jsx(pa,{className:"h-4 w-4 mr-2"}),"Chat IA"]}),s.jsxs(Er,{onClick:()=>window.location.href="/csv-upload",className:"bg-primary hover:bg-primary/90",children:[s.jsx(fa,{className:"h-4 w-4 mr-2"}),"Atualizar BD"]})]})]}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:"Métricas em Tempo Real"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(wr,{title:"Quantidade de Cabeças",value:"3.840",subtitle:"↗ +3.2% vs ontem",trend:"up",icon:s.jsx($e,{className:"h-6 w-6"})}),s.jsx(wr,{title:"Eficiência de Carregamento",value:"94.8%",subtitle:"↗ +1.5% vs semana",trend:"up",icon:s.jsx(Ue,{className:"h-6 w-6"})}),s.jsx(wr,{title:"Eficiência de Distribuição",value:"92.3%",subtitle:"→ Status estável",trend:"stable",icon:s.jsx(Ye,{className:"h-6 w-6"})}),s.jsx(wr,{title:"Quantidade Fabricada",value:"1.247 ton",subtitle:"↘ -8min vs ontem",trend:"down",icon:s.jsx(qe,{className:"h-6 w-6"})})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:"Análises Quantitativas"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsx(zr,{}),s.jsx(Lr,{}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsx(jr,{className:"text-lg",children:"Eficiência por Carregamento"})}),s.jsx(Nr,{children:s.jsx("div",{className:"h-80",children:s.jsx(zt,{width:"100%",height:"100%",children:s.jsxs(Tt,{data:[{carregamento:"Carga 1",eficiencia:95.2},{carregamento:"Carga 2",eficiencia:88.7},{carregamento:"Carga 3",eficiencia:102.3},{carregamento:"Carga 4",eficiencia:91.8},{carregamento:"Carga 5",eficiencia:97.1}],margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(At,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(It,{dataKey:"carregamento",stroke:"white",fontSize:12}),s.jsx(Bt,{stroke:"white",fontSize:12}),s.jsx(Ot,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--text-primary))"},formatter:e=>[`${e}%`,"Eficiência"]}),s.jsx(Ft,{dataKey:"eficiencia",fill:"#f59e0b",radius:[4,4,0,0]})]})})})})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsx(jr,{className:"text-lg",children:"Desvio Absoluto por Trato"})}),s.jsx(Nr,{children:s.jsx("div",{className:"h-80",children:s.jsx(zt,{width:"100%",height:"100%",children:s.jsxs(Tt,{data:[{trato:"Trato 1",desvio:3.2},{trato:"Trato 2",desvio:2.1},{trato:"Trato 3",desvio:1.8},{trato:"Trato 4",desvio:1.2}],margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(At,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(It,{dataKey:"trato",stroke:"white",fontSize:12}),s.jsx(Bt,{stroke:"white",fontSize:12}),s.jsx(Ot,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--text-primary))"},formatter:e=>[`${e} kg`,"Desvio"]}),s.jsx(Ft,{dataKey:"desvio",fill:"#FFBB28",radius:[4,4,0,0]})]})})})})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:"Análises Qualitativas"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsx(jr,{className:"text-lg",children:"Distribuição de Eficiência"})}),s.jsx(Nr,{children:s.jsx("div",{className:"h-80",children:s.jsx(zt,{width:"100%",height:"100%",children:s.jsxs(Tt,{data:[{faixa:"80-85%",quantidade:5},{faixa:"85-90%",quantidade:12},{faixa:"90-95%",quantidade:18},{faixa:"95-100%",quantidade:22},{faixa:"100-105%",quantidade:15},{faixa:"105-110%",quantidade:8}],margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(At,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(It,{dataKey:"faixa",stroke:"white",fontSize:12}),s.jsx(Bt,{stroke:"white",fontSize:12}),s.jsx(Ot,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--text-primary))"},formatter:e=>[`${e}`,"Quantidade"]}),s.jsx(Ft,{dataKey:"quantidade",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsx(jr,{className:"text-lg",children:"Volume por Dieta"})}),s.jsx(Nr,{children:s.jsx("div",{className:"h-80",children:s.jsx(zt,{width:"100%",height:"100%",children:s.jsxs(Tt,{data:[{dieta:"Engorda",volume:2800},{dieta:"Crescimento",volume:1950},{dieta:"Lactação",volume:1450},{dieta:"Gestação",volume:890}],margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(At,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(It,{dataKey:"dieta",stroke:"white",fontSize:12}),s.jsx(Bt,{stroke:"white",fontSize:12}),s.jsx(Ot,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--text-primary))"},formatter:e=>[`${e} kg`,"Volume"]}),s.jsx(Ft,{dataKey:"volume",fill:"#84cc16",radius:[4,4,0,0]})]})})})})]})]})]}),s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Agentes de IA Especializados"}),s.jsxs(Cr,{className:"bg-primary/20 text-primary border-primary/30",children:[s.jsx(Ke,{className:"h-3 w-3 mr-1"}),"4 Agentes Ativos"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Dr,{name:"Nutrição Inteligente",status:"active",description:"Monitora consumo e otimiza fórmulas em tempo real",icon:s.jsx(Ge,{className:"h-5 w-5 text-primary"}),metrics:[{label:"Lotes Monitorados",value:"24"},{label:"Ajustes Aplicados",value:"8"}]}),s.jsx(Dr,{name:"Logística Otimizada",status:"monitoring",description:"Calcula rotas e tempos ideais de distribuição",icon:s.jsx(Qe,{className:"h-5 w-5 text-accent"}),metrics:[{label:"Rotas Ativas",value:"12"},{label:"Economia Tempo",value:"18%"}]}),s.jsx(Dr,{name:"Leitura de Cocho",status:"active",description:"Analisa sobras e padrões de consumo",icon:s.jsx(Je,{className:"h-5 w-5 text-primary"}),metrics:[{label:"Pontos Leitura",value:"48"},{label:"Precisão Média",value:"97.3%"}]}),s.jsx(Dr,{name:"Detecção de Desvios",status:"alert",description:"Identifica anomalias antes que virem perdas",icon:s.jsx(Ze,{className:"h-5 w-5 text-destructive"}),metrics:[{label:"Alertas Ativos",value:"3"},{label:"Perdas Evitadas",value:"R$ 18k"}]})]})]}),s.jsx("div",{className:"mb-12",children:s.jsx(Mr,{alerts:[{id:"1",type:"critical",title:"Lote 15 - Consumo abaixo do esperado",description:"Redução de 15% no consumo nas últimas 4 horas",time:"há 12 minutos"},{id:"2",type:"warning",title:"Desvio na rota de distribuição",description:"Caminhão 03 com atraso de 25 minutos",time:"há 45 minutos"},{id:"3",type:"info",title:"Ajuste nutricional aplicado",description:"IA otimizou fórmula do Lote 08",time:"há 1 hora"}]})})]}),s.jsx(Hr,{isOpen:e,onClose:()=>a(!1),agentType:"loading"})]})}var Di="Tabs",[Si,Ei]=m(Di,[Q]),Mi=Q(),[_i,Pi]=Si(Di),Ri=Ce.forwardRef((e,a)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:n,orientation:o="horizontal",dir:l,activationMode:d="automatic",...c}=e,m=J(l),[u,x]=w({prop:r,onChange:i,defaultProp:n??"",caller:Di});return s.jsx(_i,{scope:t,baseId:N(),value:u,onValueChange:x,orientation:o,dir:m,activationMode:d,children:s.jsx(p.div,{dir:m,"data-orientation":o,...c,ref:a})})});Ri.displayName=Di;var zi="TabsList",Ti=Ce.forwardRef((e,a)=>{const{__scopeTabs:t,loop:r=!0,...i}=e,n=Pi(zi,t),o=Mi(t);return s.jsx(Z,{asChild:!0,...o,orientation:n.orientation,dir:n.dir,loop:r,children:s.jsx(p.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:a})})});Ti.displayName=zi;var Ai="TabsTrigger",Ii=Ce.forwardRef((e,a)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...n}=e,o=Pi(Ai,t),l=Mi(t),d=Li(o.baseId,r),c=Fi(o.baseId,r),m=r===o.value;return s.jsx(X,{asChild:!0,...l,focusable:!i,active:m,children:s.jsx(p.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":c,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...n,ref:a,onMouseDown:f(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(r)}),onKeyDown:f(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(r)}),onFocus:f(e.onFocus,()=>{const e="manual"!==o.activationMode;m||i||!e||o.onValueChange(r)})})})});Ii.displayName=Ai;var Bi="TabsContent",Oi=Ce.forwardRef((e,a)=>{const{__scopeTabs:t,value:r,forceMount:i,children:n,...o}=e,l=Pi(Bi,t),d=Li(l.baseId,r),c=Fi(l.baseId,r),m=r===l.value,u=Ce.useRef(m);return Ce.useEffect(()=>{const e=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(e)},[]),s.jsx(g,{present:i||m,children:({present:t})=>s.jsx(p.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!t,id:c,tabIndex:0,...o,ref:a,style:{...e.style,animationDuration:u.current?"0s":void 0},children:t&&n})})});function Li(e,a){return`${e}-trigger-${a}`}function Fi(e,a){return`${e}-content-${a}`}Oi.displayName=Bi;var qi=Ti,Vi=Ii,Hi=Oi;const Wi=Ri,Ki=Ce.forwardRef(({className:e,...a},t)=>s.jsx(qi,{ref:t,className:rs("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...a}));Ki.displayName=qi.displayName;const $i=Ce.forwardRef(({className:e,...a},t)=>s.jsx(Vi,{ref:t,className:rs("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...a}));$i.displayName=Vi.displayName;const Ui=Ce.forwardRef(({className:e,...a},t)=>s.jsx(Hi,{ref:t,className:rs("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));Ui.displayName=Hi.displayName;const Yi=Ce.forwardRef(({...e},a)=>s.jsx("nav",{ref:a,"aria-label":"breadcrumb",...e}));Yi.displayName="Breadcrumb";const Gi=Ce.forwardRef(({className:e,...a},t)=>s.jsx("ol",{ref:t,className:rs("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...a}));Gi.displayName="BreadcrumbList";const Qi=Ce.forwardRef(({className:e,...a},t)=>s.jsx("li",{ref:t,className:rs("inline-flex items-center gap-1.5",e),...a}));Qi.displayName="BreadcrumbItem";const Ji=Ce.forwardRef(({asChild:e,className:a,...t},r)=>{const i=e?D:"a";return s.jsx(i,{ref:r,className:rs("transition-colors hover:text-foreground",a),...t})});Ji.displayName="BreadcrumbLink";const Zi=Ce.forwardRef(({className:e,...a},t)=>s.jsx("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:rs("font-normal text-foreground",e),...a}));Zi.displayName="BreadcrumbPage";const Xi=({children:e,className:a,...t})=>s.jsx("li",{role:"presentation","aria-hidden":"true",className:rs("[&>svg]:size-3.5",a),...t,children:e??s.jsx(la,{})});Xi.displayName="BreadcrumbSeparator";const en={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},an={date:ga({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:ga({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:ga({formats:{full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},tn={lastWeek:e=>{const a=e.getDay();return"'"+(0===a||6===a?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},sn={code:"pt-BR",formatDistance:(e,a,t)=>{let s;const r=en[e];return s="string"==typeof r?r:1===a?r.one:r.other.replace("{{count}}",String(a)),(null==t?void 0:t.addSuffix)?t.comparison&&t.comparison>0?"em "+s:"há "+s:s},formatLong:an,formatRelative:(e,a,t,s)=>{const r=tn[e];return"function"==typeof r?r(a):r},localize:{ordinalNumber:(e,a)=>{const t=Number(e);return"week"===(null==a?void 0:a.unit)?t+"ª":t+"º"},era:va({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},defaultWidth:"wide"}),quarter:va({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:va({values:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},defaultWidth:"wide"}),day:va({values:{narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},defaultWidth:"wide"}),dayPeriod:va({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:ba({matchPattern:/^(\d+)[ºªo]?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:ja({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},defaultParseWidth:"any"}),quarter:ja({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:ja({matchPatterns:{narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},defaultParseWidth:"any"}),day:ja({matchPatterns:{narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},defaultMatchWidth:"wide",parsePatterns:{short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},defaultParseWidth:"any"}),dayPeriod:ja({matchPatterns:{narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var rn=function(){return rn=Object.assign||function(e){for(var a,t=1,s=arguments.length;t<s;t++)for(var r in a=arguments[t])Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);return e},rn.apply(this,arguments)};function nn(e,a,t){for(var s,r=0,i=a.length;r<i;r++)!s&&r in a||(s||(s=Array.prototype.slice.call(a,0,r)),s[r]=a[r]);return e.concat(s||Array.prototype.slice.call(a))}function on(e){return"multiple"===e.mode}function ln(e){return"range"===e.mode}function dn(e){return"single"===e.mode}"function"==typeof SuppressedError&&SuppressedError;var cn={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};var mn=Object.freeze({__proto__:null,formatCaption:function(e,a){return Ga(e,"LLLL y",a)},formatDay:function(e,a){return Ga(e,"d",a)},formatMonthCaption:function(e,a){return Ga(e,"LLLL",a)},formatWeekNumber:function(e){return"".concat(e)},formatWeekdayName:function(e,a){return Ga(e,"cccccc",a)},formatYearCaption:function(e,a){return Ga(e,"yyyy",a)}}),un=Object.freeze({__proto__:null,labelDay:function(e,a,t){return Ga(e,"do MMMM (EEEE)",t)},labelMonthDropdown:function(){return"Month: "},labelNext:function(){return"Go to next month"},labelPrevious:function(){return"Go to previous month"},labelWeekNumber:function(e){return"Week n. ".concat(e)},labelWeekday:function(e,a){return Ga(e,"cccc",a)},labelYearDropdown:function(){return"Year: "}});var xn=Ce.createContext(void 0);function hn(e){var a,t,r=e.initialProps,i={captionLayout:"buttons",classNames:cn,formatters:mn,labels:un,locale:Ia,modifiersClassNames:{},modifiers:{},numberOfMonths:1,styles:{},today:new Date,mode:"default"},n=function(e){var a=e.fromYear,t=e.toYear,s=e.fromMonth,r=e.toMonth,i=e.fromDate,n=e.toDate;return s?i=Ca(s):a&&(i=new Date(a,0,1)),r?n=Da(r):t&&(n=new Date(t,11,31)),{fromDate:i?Sa(i):void 0,toDate:n?Sa(n):void 0}}(r),o=n.fromDate,l=n.toDate,d=null!==(a=r.captionLayout)&&void 0!==a?a:i.captionLayout;"buttons"===d||o&&l||(d="buttons"),(dn(r)||on(r)||ln(r))&&(t=r.onSelect);var c=rn(rn(rn({},i),r),{captionLayout:d,classNames:rn(rn({},i.classNames),r.classNames),components:rn({},r.components),formatters:rn(rn({},i.formatters),r.formatters),fromDate:o,labels:rn(rn({},i.labels),r.labels),mode:r.mode||i.mode,modifiers:rn(rn({},i.modifiers),r.modifiers),modifiersClassNames:rn(rn({},i.modifiersClassNames),r.modifiersClassNames),onSelect:t,styles:rn(rn({},i.styles),r.styles),toDate:l});return s.jsx(xn.Provider,{value:c,children:e.children})}function pn(){var e=Ce.useContext(xn);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function fn(e){var a=pn(),t=a.locale,r=a.classNames,i=a.styles,n=a.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:n(e.displayMonth,{locale:t})})}function gn(e){return s.jsx("svg",rn({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function vn(e){var a,t,r=e.onChange,i=e.value,n=e.children,o=e.caption,l=e.className,d=e.style,c=pn(),m=null!==(t=null===(a=c.components)||void 0===a?void 0:a.IconDropdown)&&void 0!==t?t:gn;return s.jsxs("div",{className:l,style:d,children:[s.jsx("span",{className:c.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:n}),s.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(m,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function bn(e){var a,t=pn(),r=t.fromDate,i=t.toDate,n=t.styles,o=t.locale,l=t.formatters.formatMonthCaption,d=t.classNames,c=t.components,m=t.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var u=[];if(Ba(r,i))for(var x=Ca(r),h=r.getMonth();h<=i.getMonth();h++)u.push(Oa(x,h));else for(x=Ca(new Date),h=0;h<=11;h++)u.push(Oa(x,h));var p=null!==(a=null==c?void 0:c.Dropdown)&&void 0!==a?a:vn;return s.jsx(p,{name:"months","aria-label":m(),className:d.dropdown_month,style:n.dropdown_month,onChange:function(a){var t=Number(a.target.value),s=Oa(Ca(e.displayMonth),t);e.onChange(s)},value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:u.map(function(e){return s.jsx("option",{value:e.getMonth(),children:l(e,{locale:o})},e.getMonth())})})}function jn(e){var a,t=e.displayMonth,r=pn(),i=r.fromDate,n=r.toDate,o=r.locale,l=r.styles,d=r.classNames,c=r.components,m=r.formatters.formatYearCaption,u=r.labels.labelYearDropdown,x=[];if(!i)return s.jsx(s.Fragment,{});if(!n)return s.jsx(s.Fragment,{});for(var h=i.getFullYear(),p=n.getFullYear(),f=h;f<=p;f++)x.push(La(Fa(new Date),f));var g=null!==(a=null==c?void 0:c.Dropdown)&&void 0!==a?a:vn;return s.jsx(g,{name:"years","aria-label":u(),className:d.dropdown_year,style:l.dropdown_year,onChange:function(a){var s=La(Ca(t),Number(a.target.value));e.onChange(s)},value:t.getFullYear(),caption:m(t,{locale:o}),children:x.map(function(e){return s.jsx("option",{value:e.getFullYear(),children:m(e,{locale:o})},e.getFullYear())})})}function yn(){var e=pn(),a=function(e){var a=e.month,t=e.defaultMonth,s=e.today,r=a||t||s||new Date,i=e.toDate,n=e.fromDate,o=e.numberOfMonths,l=void 0===o?1:o;return i&&Ma(i,r)<0&&(r=Ea(i,-1*(l-1))),n&&Ma(r,n)<0&&(r=n),Ca(r)}(e),t=function(e,a){var t=Ce.useState(e),s=t[0];return[void 0===a?s:a,t[1]]}(a,e.month),s=t[0],r=t[1];return[s,function(a){var t;if(!e.disableNavigation){var s=Ca(a);r(s),null===(t=e.onMonthChange)||void 0===t||t.call(e,s)}}]}var Nn=Ce.createContext(void 0);function wn(e){var a=pn(),t=yn(),r=t[0],i=t[1],n=function(e,a){for(var t=a.reverseMonths,s=a.numberOfMonths,r=Ca(e),i=Ca(Ea(r,s)),n=Ma(i,r),o=[],l=0;l<n;l++){var d=Ea(r,l);o.push(d)}return t&&(o=o.reverse()),o}(r,a),o=function(e,a){if(!a.disableNavigation){var t=a.toDate,s=a.pagedNavigation,r=a.numberOfMonths,i=void 0===r?1:r,n=s?i:1,o=Ca(e);if(!t)return Ea(o,n);if(!(Ma(t,e)<i))return Ea(o,n)}}(r,a),l=function(e,a){if(!a.disableNavigation){var t=a.fromDate,s=a.pagedNavigation,r=a.numberOfMonths,i=s?void 0===r?1:r:1,n=Ca(e);if(!t)return Ea(n,-i);if(!(Ma(n,t)<=0))return Ea(n,-i)}}(r,a),d=function(e){return n.some(function(a){return _a(e,a)})},c={currentMonth:r,displayMonths:n,goToMonth:i,goToDate:function(e,t){d(e)||(t&&Pa(e,t)?i(Ea(e,1+-1*a.numberOfMonths)):i(e))},previousMonth:l,nextMonth:o,isDateDisplayed:d};return s.jsx(Nn.Provider,{value:c,children:e.children})}function kn(){var e=Ce.useContext(Nn);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Cn(e){var a,t=pn(),r=t.classNames,i=t.styles,n=t.components,o=kn().goToMonth,l=function(a){o(Ea(a,e.displayIndex?-e.displayIndex:0))},d=null!==(a=null==n?void 0:n.CaptionLabel)&&void 0!==a?a:fn,c=s.jsx(d,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:c}),s.jsx(bn,{onChange:l,displayMonth:e.displayMonth}),s.jsx(jn,{onChange:l,displayMonth:e.displayMonth})]})}function Dn(e){return s.jsx("svg",rn({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Sn(e){return s.jsx("svg",rn({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var En=Ce.forwardRef(function(e,a){var t=pn(),r=t.classNames,i=t.styles,n=[r.button_reset,r.button];e.className&&n.push(e.className);var o=n.join(" "),l=rn(rn({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),s.jsx("button",rn({},e,{ref:a,type:"button",className:o,style:l}))});function Mn(e){var a,t,r=pn(),i=r.dir,n=r.locale,o=r.classNames,l=r.styles,d=r.labels,c=d.labelPrevious,m=d.labelNext,u=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var x=c(e.previousMonth,{locale:n}),h=[o.nav_button,o.nav_button_previous].join(" "),p=m(e.nextMonth,{locale:n}),f=[o.nav_button,o.nav_button_next].join(" "),g=null!==(a=null==u?void 0:u.IconRight)&&void 0!==a?a:Sn,v=null!==(t=null==u?void 0:u.IconLeft)&&void 0!==t?t:Dn;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(En,{name:"previous-month","aria-label":x,className:h,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:"rtl"===i?s.jsx(g,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(En,{name:"next-month","aria-label":p,className:f,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:"rtl"===i?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(g,{className:o.nav_icon,style:l.nav_icon})})]})}function _n(e){var a=pn().numberOfMonths,t=kn(),r=t.previousMonth,i=t.nextMonth,n=t.goToMonth,o=t.displayMonths,l=o.findIndex(function(a){return _a(e.displayMonth,a)}),d=0===l,c=l===o.length-1,m=a>1&&(d||!c),u=a>1&&(c||!d);return s.jsx(Mn,{displayMonth:e.displayMonth,hideNext:m,hidePrevious:u,nextMonth:i,previousMonth:r,onPreviousClick:function(){r&&n(r)},onNextClick:function(){i&&n(i)}})}function Pn(e){var a,t,r=pn(),i=r.classNames,n=r.disableNavigation,o=r.styles,l=r.captionLayout,d=r.components,c=null!==(a=null==d?void 0:d.CaptionLabel)&&void 0!==a?a:fn;return t=n?s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):"dropdown"===l?s.jsx(Cn,{displayMonth:e.displayMonth,id:e.id}):"dropdown-buttons"===l?s.jsxs(s.Fragment,{children:[s.jsx(Cn,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(_n,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(_n,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:i.caption,style:o.caption,children:t})}function Rn(e){var a=pn(),t=a.footer,r=a.styles,i=a.classNames.tfoot;return t?s.jsx("tfoot",{className:i,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:t})})}):s.jsx(s.Fragment,{})}function zn(){var e=pn(),a=e.classNames,t=e.styles,r=e.showWeekNumber,i=e.locale,n=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,c=function(e,a,t){for(var s=t?Ka(new Date):$a(new Date,{locale:e,weekStartsOn:a}),r=[],i=0;i<7;i++){var n=wa(s,i);r.push(n)}return r}(i,n,o);return s.jsxs("tr",{style:t.head_row,className:a.head_row,children:[r&&s.jsx("td",{style:t.head_cell,className:a.head_cell}),c.map(function(e,r){return s.jsx("th",{scope:"col",className:a.head_cell,style:t.head_cell,"aria-label":d(e,{locale:i}),children:l(e,{locale:i})},r)})]})}function Tn(){var e,a=pn(),t=a.classNames,r=a.styles,i=a.components,n=null!==(e=null==i?void 0:i.HeadRow)&&void 0!==e?e:zn;return s.jsx("thead",{style:r.head,className:t.head,children:s.jsx(n,{})})}function An(e){var a=pn(),t=a.locale,r=a.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:t})})}var In=Ce.createContext(void 0);function Bn(e){if(!on(e.initialProps)){return s.jsx(In.Provider,{value:{selected:void 0,modifiers:{disabled:[]}},children:e.children})}return s.jsx(On,{initialProps:e.initialProps,children:e.children})}function On(e){var a=e.initialProps,t=e.children,r=a.selected,i=a.min,n=a.max,o={disabled:[]};r&&o.disabled.push(function(e){var a=n&&r.length>n-1,t=r.some(function(a){return ya(a,e)});return Boolean(a&&!t)});var l={selected:r,onDayClick:function(e,t,s){var o,l;if((null===(o=a.onDayClick)||void 0===o||o.call(a,e,t,s),!Boolean(t.selected&&i&&(null==r?void 0:r.length)===i))&&!Boolean(!t.selected&&n&&(null==r?void 0:r.length)===n)){var d=r?nn([],r):[];if(t.selected){var c=d.findIndex(function(a){return ya(e,a)});d.splice(c,1)}else d.push(e);null===(l=a.onSelect)||void 0===l||l.call(a,d,e,t,s)}},modifiers:o};return s.jsx(In.Provider,{value:l,children:t})}function Ln(){var e=Ce.useContext(In);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}var Fn,qn,Vn=Ce.createContext(void 0);function Hn(e){if(!ln(e.initialProps)){return s.jsx(Vn.Provider,{value:{selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}},children:e.children})}return s.jsx(Wn,{initialProps:e.initialProps,children:e.children})}function Wn(e){var a=e.initialProps,t=e.children,r=a.selected,i=r||{},n=i.from,o=i.to,l=a.min,d=a.max,c={range_start:[],range_end:[],range_middle:[],disabled:[]};if(n?(c.range_start=[n],o?(c.range_end=[o],ya(n,o)||(c.range_middle=[{after:n,before:o}])):c.range_end=[n]):o&&(c.range_start=[o],c.range_end=[o]),l&&(n&&!o&&c.disabled.push({after:Na(n,l-1),before:wa(n,l-1)}),n&&o&&c.disabled.push({after:n,before:wa(n,l-1)}),!n&&o&&c.disabled.push({after:Na(o,l-1),before:wa(o,l-1)})),d){if(n&&!o&&(c.disabled.push({before:wa(n,1-d)}),c.disabled.push({after:wa(n,d-1)})),n&&o){var m=d-(ka(o,n)+1);c.disabled.push({before:Na(n,m)}),c.disabled.push({after:wa(o,m)})}!n&&o&&(c.disabled.push({before:wa(o,1-d)}),c.disabled.push({after:wa(o,d-1)}))}return s.jsx(Vn.Provider,{value:{selected:r,onDayClick:function(e,t,s){var i,n;null===(i=a.onDayClick)||void 0===i||i.call(a,e,t,s);var o=function(e,a){var t=a||{},s=t.from,r=t.to;if(s&&r){if(ya(r,e)&&ya(s,e))return;if(ya(r,e))return{from:r,to:void 0};if(ya(s,e))return;return Ra(s,e)?{from:e,to:r}:{from:s,to:e}}return r?Ra(e,r)?{from:r,to:e}:{from:e,to:r}:s?Pa(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}(e,r);null===(n=a.onSelect)||void 0===n||n.call(a,o,e,t,s)},modifiers:c},children:t})}function Kn(){var e=Ce.useContext(Vn);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function $n(e){return Array.isArray(e)?nn([],e):void 0!==e?[e]:[]}(qn=Fn||(Fn={})).Outside="outside",qn.Disabled="disabled",qn.Selected="selected",qn.Hidden="hidden",qn.Today="today",qn.RangeStart="range_start",qn.RangeEnd="range_end",qn.RangeMiddle="range_middle";var Un=Fn.Selected,Yn=Fn.Disabled,Gn=Fn.Hidden,Qn=Fn.Today,Jn=Fn.RangeEnd,Zn=Fn.RangeMiddle,Xn=Fn.RangeStart,eo=Fn.Outside;var ao=Ce.createContext(void 0);function to(e){var a=pn(),t=function(e,a,t){var s,r=((s={})[Un]=$n(e.selected),s[Yn]=$n(e.disabled),s[Gn]=$n(e.hidden),s[Qn]=[e.today],s[Jn]=[],s[Zn]=[],s[Xn]=[],s[eo]=[],s);return e.fromDate&&r[Yn].push({before:e.fromDate}),e.toDate&&r[Yn].push({after:e.toDate}),on(e)?r[Yn]=r[Yn].concat(a.modifiers[Yn]):ln(e)&&(r[Yn]=r[Yn].concat(t.modifiers[Yn]),r[Xn]=t.modifiers[Xn],r[Zn]=t.modifiers[Zn],r[Jn]=t.modifiers[Jn]),r}(a,Ln(),Kn()),r=function(e){var a={};return Object.entries(e).forEach(function(e){var t=e[0],s=e[1];a[t]=$n(s)}),a}(a.modifiers),i=rn(rn({},t),r);return s.jsx(ao.Provider,{value:i,children:e.children})}function so(){var e=Ce.useContext(ao);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function ro(e,a){return a.some(function(a){if("boolean"==typeof a)return a;if(Qa(a))return ya(e,a);var t,s,r,i,n;if(function(e){return Array.isArray(e)&&e.every(Qa)}(a))return a.includes(e);if(function(e){return Boolean(e&&"object"==typeof e&&"from"in e)}(a))return t=e,i=(s=a).from,n=s.to,i&&n?(ka(n,i)<0&&(i=(r=[n,i])[0],n=r[1]),ka(t,i)>=0&&ka(n,t)>=0):n?ya(n,t):!!i&&ya(i,t);if(function(e){return Boolean(e&&"object"==typeof e&&"dayOfWeek"in e)}(a))return a.dayOfWeek.includes(e.getDay());if(function(e){return Boolean(e&&"object"==typeof e&&"before"in e&&"after"in e)}(a)){var o=ka(a.before,e)>0,l=ka(a.after,e)<0;return Ra(a.before,a.after)?l&&o:o||l}return function(e){return Boolean(e&&"object"==typeof e&&"after"in e)}(a)?ka(e,a.after)>0:function(e){return Boolean(e&&"object"==typeof e&&"before"in e)}(a)?ka(a.before,e)>0:"function"==typeof a&&a(e)})}function io(e,a,t){var s=Object.keys(a).reduce(function(t,s){var r=a[s];return ro(e,r)&&t.push(s),t},[]),r={};return s.forEach(function(e){return r[e]=!0}),t&&!_a(e,t)&&(r.outside=!0),r}function no(e,a){var t=a.moveBy,s=a.direction,r=a.context,i=a.modifiers,n=a.retry,o=void 0===n?{count:0,lastFocused:e}:n,l=r.weekStartsOn,d=r.fromDate,c=r.toDate,m=r.locale,u={day:wa,week:Aa,month:Ea,year:Ja,startOfWeek:function(e){return r.ISOWeek?Ka(e):$a(e,{locale:m,weekStartsOn:l})},endOfWeek:function(e){return r.ISOWeek?Ha(e):Wa(e,{locale:m,weekStartsOn:l})}}[t](e,"after"===s?1:-1);"before"===s&&d?u=qa([d,u]):"after"===s&&c&&(u=Va([c,u]));var x=!0;if(i){var h=io(u,i);x=!h.disabled&&!h.hidden}return x?u:o.count>365?o.lastFocused:no(u,{moveBy:t,direction:s,context:r,modifiers:i,retry:rn(rn({},o),{count:o.count+1})})}var oo=Ce.createContext(void 0);function lo(e){var a=kn(),t=so(),r=Ce.useState(),i=r[0],n=r[1],o=Ce.useState(),l=o[0],d=o[1],c=function(e,a){for(var t,s,r=Ca(e[0]),i=Da(e[e.length-1]),n=r;n<=i;){var o=io(n,a);if(o.disabled||o.hidden)n=wa(n,1);else{if(o.selected)return n;o.today&&!s&&(s=n),t||(t=n),n=wa(n,1)}}return s||t}(a.displayMonths,t),m=(null!=i?i:l&&a.isDateDisplayed(l))?l:c,u=function(e){n(e)},x=pn(),h=function(e,s){if(i){var r=no(i,{moveBy:e,direction:s,context:x,modifiers:t});ya(i,r)||(a.goToDate(r,i),u(r))}},p={focusedDay:i,focusTarget:m,blur:function(){d(i),n(void 0)},focus:u,focusDayAfter:function(){return h("day","after")},focusDayBefore:function(){return h("day","before")},focusWeekAfter:function(){return h("week","after")},focusWeekBefore:function(){return h("week","before")},focusMonthBefore:function(){return h("month","before")},focusMonthAfter:function(){return h("month","after")},focusYearBefore:function(){return h("year","before")},focusYearAfter:function(){return h("year","after")},focusStartOfWeek:function(){return h("startOfWeek","before")},focusEndOfWeek:function(){return h("endOfWeek","after")}};return s.jsx(oo.Provider,{value:p,children:e.children})}function co(){var e=Ce.useContext(oo);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}var mo=Ce.createContext(void 0);function uo(e){if(!dn(e.initialProps)){return s.jsx(mo.Provider,{value:{selected:void 0},children:e.children})}return s.jsx(xo,{initialProps:e.initialProps,children:e.children})}function xo(e){var a=e.initialProps,t=e.children,r={selected:a.selected,onDayClick:function(e,t,s){var r,i,n;null===(r=a.onDayClick)||void 0===r||r.call(a,e,t,s),!t.selected||a.required?null===(n=a.onSelect)||void 0===n||n.call(a,e,e,t,s):null===(i=a.onSelect)||void 0===i||i.call(a,void 0,e,t,s)}};return s.jsx(mo.Provider,{value:r,children:t})}function ho(){var e=Ce.useContext(mo);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function po(e,a){var t=[e.classNames.day];return Object.keys(a).forEach(function(a){var s=e.modifiersClassNames[a];if(s)t.push(s);else if(function(e){return Object.values(Fn).includes(e)}(a)){var r=e.classNames["day_".concat(a)];r&&t.push(r)}}),t}function fo(e,a,t){var r,i,n,o=pn(),l=co(),d=function(e,a){return io(e,so(),a)}(e,a),c=function(e,a){var t=pn(),s=ho(),r=Ln(),i=Kn(),n=co(),o=n.focusDayAfter,l=n.focusDayBefore,d=n.focusWeekAfter,c=n.focusWeekBefore,m=n.blur,u=n.focus,x=n.focusMonthBefore,h=n.focusMonthAfter,p=n.focusYearBefore,f=n.focusYearAfter,g=n.focusStartOfWeek,v=n.focusEndOfWeek;return{onClick:function(n){var o,l,d,c;dn(t)?null===(o=s.onDayClick)||void 0===o||o.call(s,e,a,n):on(t)?null===(l=r.onDayClick)||void 0===l||l.call(r,e,a,n):ln(t)?null===(d=i.onDayClick)||void 0===d||d.call(i,e,a,n):null===(c=t.onDayClick)||void 0===c||c.call(t,e,a,n)},onFocus:function(s){var r;u(e),null===(r=t.onDayFocus)||void 0===r||r.call(t,e,a,s)},onBlur:function(s){var r;m(),null===(r=t.onDayBlur)||void 0===r||r.call(t,e,a,s)},onKeyDown:function(s){var r;switch(s.key){case"ArrowLeft":s.preventDefault(),s.stopPropagation(),"rtl"===t.dir?o():l();break;case"ArrowRight":s.preventDefault(),s.stopPropagation(),"rtl"===t.dir?l():o();break;case"ArrowDown":s.preventDefault(),s.stopPropagation(),d();break;case"ArrowUp":s.preventDefault(),s.stopPropagation(),c();break;case"PageUp":s.preventDefault(),s.stopPropagation(),s.shiftKey?p():x();break;case"PageDown":s.preventDefault(),s.stopPropagation(),s.shiftKey?f():h();break;case"Home":s.preventDefault(),s.stopPropagation(),g();break;case"End":s.preventDefault(),s.stopPropagation(),v()}null===(r=t.onDayKeyDown)||void 0===r||r.call(t,e,a,s)},onKeyUp:function(s){var r;null===(r=t.onDayKeyUp)||void 0===r||r.call(t,e,a,s)},onMouseEnter:function(s){var r;null===(r=t.onDayMouseEnter)||void 0===r||r.call(t,e,a,s)},onMouseLeave:function(s){var r;null===(r=t.onDayMouseLeave)||void 0===r||r.call(t,e,a,s)},onPointerEnter:function(s){var r;null===(r=t.onDayPointerEnter)||void 0===r||r.call(t,e,a,s)},onPointerLeave:function(s){var r;null===(r=t.onDayPointerLeave)||void 0===r||r.call(t,e,a,s)},onTouchCancel:function(s){var r;null===(r=t.onDayTouchCancel)||void 0===r||r.call(t,e,a,s)},onTouchEnd:function(s){var r;null===(r=t.onDayTouchEnd)||void 0===r||r.call(t,e,a,s)},onTouchMove:function(s){var r;null===(r=t.onDayTouchMove)||void 0===r||r.call(t,e,a,s)},onTouchStart:function(s){var r;null===(r=t.onDayTouchStart)||void 0===r||r.call(t,e,a,s)}}}(e,d),m=function(){var e=pn(),a=ho(),t=Ln(),s=Kn();return dn(e)?a.selected:on(e)?t.selected:ln(e)?s.selected:void 0}(),u=Boolean(o.onDayClick||"default"!==o.mode);Ce.useEffect(function(){var a;d.outside||l.focusedDay&&u&&ya(l.focusedDay,e)&&(null===(a=t.current)||void 0===a||a.focus())},[l.focusedDay,e,t,u,d.outside]);var x=po(o,d).join(" "),h=function(e,a){var t=rn({},e.styles.day);return Object.keys(a).forEach(function(a){var s;t=rn(rn({},t),null===(s=e.modifiersStyles)||void 0===s?void 0:s[a])}),t}(o,d),p=Boolean(d.outside&&!o.showOutsideDays||d.hidden),f=null!==(n=null===(i=o.components)||void 0===i?void 0:i.DayContent)&&void 0!==n?n:An,g={style:h,className:x,children:s.jsx(f,{date:e,displayMonth:a,activeModifiers:d}),role:"gridcell"},v=l.focusTarget&&ya(l.focusTarget,e)&&!d.outside,b=l.focusedDay&&ya(l.focusedDay,e),j=rn(rn(rn({},g),((r={disabled:d.disabled,role:"gridcell"})["aria-selected"]=d.selected,r.tabIndex=b||v?0:-1,r)),c);return{isButton:u,isHidden:p,activeModifiers:d,selectedDays:m,buttonProps:j,divProps:g}}function go(e){var a=Ce.useRef(null),t=fo(e.date,e.displayMonth,a);return t.isHidden?s.jsx("div",{role:"gridcell"}):t.isButton?s.jsx(En,rn({name:"day",ref:a},t.buttonProps)):s.jsx("div",rn({},t.divProps))}function vo(e){var a=e.number,t=e.dates,r=pn(),i=r.onWeekNumberClick,n=r.styles,o=r.classNames,l=r.locale,d=r.labels.labelWeekNumber,c=(0,r.formatters.formatWeekNumber)(Number(a),{locale:l});if(!i)return s.jsx("span",{className:o.weeknumber,style:n.weeknumber,children:c});var m=d(Number(a),{locale:l});return s.jsx(En,{name:"week-number","aria-label":m,className:o.weeknumber,style:n.weeknumber,onClick:function(e){i(a,t,e)},children:c})}function bo(e){var a,t,r,i=pn(),n=i.styles,o=i.classNames,l=i.showWeekNumber,d=i.components,c=null!==(a=null==d?void 0:d.Day)&&void 0!==a?a:go,m=null!==(t=null==d?void 0:d.WeekNumber)&&void 0!==t?t:vo;return l&&(r=s.jsx("td",{className:o.cell,style:n.cell,children:s.jsx(m,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:o.row,style:n.row,children:[r,e.dates.map(function(a){return s.jsx("td",{className:o.cell,style:n.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:a})},za(a))})]})}function jo(e,a,t){for(var s=(null==t?void 0:t.ISOWeek)?Ha(a):Wa(a,t),r=(null==t?void 0:t.ISOWeek)?Ka(e):$a(e,t),i=ka(s,r),n=[],o=0;o<=i;o++)n.push(wa(r,o));return n.reduce(function(e,a){var s=(null==t?void 0:t.ISOWeek)?Ua(a):Ya(a,t),r=e.find(function(e){return e.weekNumber===s});return r?(r.dates.push(a),e):(e.push({weekNumber:s,dates:[a]}),e)},[])}function yo(e){var a,t,r,i=pn(),n=i.locale,o=i.classNames,l=i.styles,d=i.hideHead,c=i.fixedWeeks,m=i.components,u=i.weekStartsOn,x=i.firstWeekContainsDate,h=i.ISOWeek,p=function(e,a){var t=jo(Ca(e),Da(e),a);if(null==a?void 0:a.useFixedWeeks){var s=Ta(e,a);if(s<6){var r=t[t.length-1],i=r.dates[r.dates.length-1],n=Aa(i,6-s),o=jo(Aa(i,1),n,a);t.push.apply(t,o)}}return t}(e.displayMonth,{useFixedWeeks:Boolean(c),ISOWeek:h,locale:n,weekStartsOn:u,firstWeekContainsDate:x}),f=null!==(a=null==m?void 0:m.Head)&&void 0!==a?a:Tn,g=null!==(t=null==m?void 0:m.Row)&&void 0!==t?t:bo,v=null!==(r=null==m?void 0:m.Footer)&&void 0!==r?r:Rn;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&s.jsx(f,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:p.map(function(a){return s.jsx(g,{displayMonth:e.displayMonth,dates:a.dates,weekNumber:a.weekNumber},a.weekNumber)})}),s.jsx(v,{displayMonth:e.displayMonth})]})}var No="undefined"!=typeof window&&window.document&&window.document.createElement?Ce.useLayoutEffect:Ce.useEffect,wo=!1,ko=0;function Co(){return"react-day-picker-".concat(++ko)}function Do(e){var a,t,r=pn(),i=r.dir,n=r.classNames,o=r.styles,l=r.components,d=kn().displayMonths,c=function(e){var a,t=null!=e?e:wo?Co():null,s=Ce.useState(t),r=s[0],i=s[1];return No(function(){null===r&&i(Co())},[]),Ce.useEffect(function(){!1===wo&&(wo=!0)},[]),null!==(a=null!=e?e:r)&&void 0!==a?a:void 0}(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),m=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,u=[n.month],x=o.month,h=0===e.displayIndex,p=e.displayIndex===d.length-1,f=!h&&!p;"rtl"===i&&(p=(a=[h,p])[0],h=a[1]),h&&(u.push(n.caption_start),x=rn(rn({},x),o.caption_start)),p&&(u.push(n.caption_end),x=rn(rn({},x),o.caption_end)),f&&(u.push(n.caption_between),x=rn(rn({},x),o.caption_between));var g=null!==(t=null==l?void 0:l.Caption)&&void 0!==t?t:Pn;return s.jsxs("div",{className:u.join(" "),style:x,children:[s.jsx(g,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(yo,{id:m,"aria-labelledby":c,displayMonth:e.displayMonth})]},e.displayIndex)}function So(e){var a=pn(),t=a.classNames,r=a.styles;return s.jsx("div",{className:t.months,style:r.months,children:e.children})}function Eo(e){var a,t,r=e.initialProps,i=pn(),n=co(),o=kn(),l=Ce.useState(!1),d=l[0],c=l[1];Ce.useEffect(function(){i.initialFocus&&n.focusTarget&&(d||(n.focus(n.focusTarget),c(!0)))},[i.initialFocus,d,n.focus,n.focusTarget,n]);var m=[i.classNames.root,i.className];i.numberOfMonths>1&&m.push(i.classNames.multiple_months),i.showWeekNumber&&m.push(i.classNames.with_weeknumber);var u=rn(rn({},i.styles.root),i.style),x=Object.keys(r).filter(function(e){return e.startsWith("data-")}).reduce(function(e,a){var t;return rn(rn({},e),((t={})[a]=r[a],t))},{}),h=null!==(t=null===(a=r.components)||void 0===a?void 0:a.Months)&&void 0!==t?t:So;return s.jsx("div",rn({className:m.join(" "),style:u,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},x,{children:s.jsx(h,{children:o.displayMonths.map(function(e,a){return s.jsx(Do,{displayIndex:a,displayMonth:e},a)})})}))}function Mo(e){var a=e.children,t=function(e,a){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&a.indexOf(s)<0&&(t[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(t[s[r]]=e[s[r]])}return t}(e,["children"]);return s.jsx(hn,{initialProps:t,children:s.jsx(wn,{children:s.jsx(uo,{initialProps:t,children:s.jsx(Bn,{initialProps:t,children:s.jsx(Hn,{initialProps:t,children:s.jsx(to,{children:s.jsx(lo,{children:a})})})})})})})}function _o(e){return s.jsx(Mo,rn({},e,{children:s.jsx(Eo,{initialProps:e})}))}function Po({className:e,classNames:a,showOutsideDays:t=!0,...r}){return s.jsx(_o,{showOutsideDays:t,className:rs("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:rs(Sr({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:rs(Sr({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:({...e})=>s.jsx(Za,{className:"h-4 w-4"}),IconRight:({...e})=>s.jsx(la,{className:"h-4 w-4"})},...r})}Po.displayName="Calendar";var Ro="Popover",[zo,To]=m(Ro,[u]),Ao=u(),[Io,Bo]=zo(Ro),Oo=e=>{const{__scopePopover:a,children:t,open:r,defaultOpen:i,onOpenChange:n,modal:o=!1}=e,l=Ao(a),d=Ce.useRef(null),[c,m]=Ce.useState(!1),[u,x]=w({prop:r,defaultProp:i??!1,onChange:n,caller:Ro});return s.jsx(k,{...l,children:s.jsx(Io,{scope:a,contentId:N(),triggerRef:d,open:u,onOpenChange:x,onOpenToggle:Ce.useCallback(()=>x(e=>!e),[x]),hasCustomAnchor:c,onCustomAnchorAdd:Ce.useCallback(()=>m(!0),[]),onCustomAnchorRemove:Ce.useCallback(()=>m(!1),[]),modal:o,children:t})})};Oo.displayName=Ro;var Lo="PopoverAnchor";Ce.forwardRef((e,a)=>{const{__scopePopover:t,...r}=e,i=Bo(Lo,t),n=Ao(t),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return Ce.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(h,{...n,...r,ref:a})}).displayName=Lo;var Fo="PopoverTrigger",qo=Ce.forwardRef((e,a)=>{const{__scopePopover:t,...r}=e,i=Bo(Fo,t),n=Ao(t),o=x(a,i.triggerRef),l=s.jsx(p.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Xo(i.open),...r,ref:o,onClick:f(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(h,{asChild:!0,...n,children:l})});qo.displayName=Fo;var Vo="PopoverPortal",[Ho,Wo]=zo(Vo,{forceMount:void 0}),Ko=e=>{const{__scopePopover:a,forceMount:t,children:r,container:i}=e,n=Bo(Vo,a);return s.jsx(Ho,{scope:a,forceMount:t,children:s.jsx(g,{present:t||n.open,children:s.jsx(re,{asChild:!0,container:i,children:r})})})};Ko.displayName=Vo;var $o="PopoverContent",Uo=Ce.forwardRef((e,a)=>{const t=Wo($o,e.__scopePopover),{forceMount:r=t.forceMount,...i}=e,n=Bo($o,e.__scopePopover);return s.jsx(g,{present:r||n.open,children:n.modal?s.jsx(Go,{...i,ref:a}):s.jsx(Qo,{...i,ref:a})})});Uo.displayName=$o;var Yo=ie("PopoverContent.RemoveScroll"),Go=Ce.forwardRef((e,a)=>{const t=Bo($o,e.__scopePopover),r=Ce.useRef(null),i=x(a,r),n=Ce.useRef(!1);return Ce.useEffect(()=>{const e=r.current;if(e)return ee(e)},[]),s.jsx(ae,{as:Yo,allowPinchZoom:!0,children:s.jsx(Jo,{...e,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:f(e.onCloseAutoFocus,e=>{var a;e.preventDefault(),n.current||null==(a=t.triggerRef.current)||a.focus()}),onPointerDownOutside:f(e.onPointerDownOutside,e=>{const a=e.detail.originalEvent,t=0===a.button&&!0===a.ctrlKey,s=2===a.button||t;n.current=s},{checkForDefaultPrevented:!1}),onFocusOutside:f(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),Qo=Ce.forwardRef((e,a)=>{const t=Bo($o,e.__scopePopover),r=Ce.useRef(!1),i=Ce.useRef(!1);return s.jsx(Jo,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,n;null==(s=e.onCloseAutoFocus)||s.call(e,a),a.defaultPrevented||(r.current||null==(n=t.triggerRef.current)||n.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var s,n;null==(s=e.onInteractOutside)||s.call(e,a),a.defaultPrevented||(r.current=!0,"pointerdown"===a.detail.originalEvent.type&&(i.current=!0));const o=a.target;(null==(n=t.triggerRef.current)?void 0:n.contains(o))&&a.preventDefault(),"focusin"===a.detail.originalEvent.type&&i.current&&a.preventDefault()}})}),Jo=Ce.forwardRef((e,a)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:n,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:m,...u}=e,x=Bo($o,t),h=Ao(t);return te(),s.jsx(se,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:n,children:s.jsx(v,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:m,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:c,onDismiss:()=>x.onOpenChange(!1),children:s.jsx(b,{"data-state":Xo(x.open),role:"dialog",id:x.contentId,...h,...u,ref:a,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Zo="PopoverClose";Ce.forwardRef((e,a)=>{const{__scopePopover:t,...r}=e,i=Bo(Zo,t);return s.jsx(p.button,{type:"button",...r,ref:a,onClick:f(e.onClick,()=>i.onOpenChange(!1))})}).displayName=Zo;function Xo(e){return e?"open":"closed"}Ce.forwardRef((e,a)=>{const{__scopePopover:t,...r}=e,i=Ao(t);return s.jsx(y,{...i,...r,ref:a})}).displayName="PopoverArrow";var el=Ko,al=Uo;const tl=Oo,sl=qo,rl=Ce.forwardRef(({className:e,align:a="center",sideOffset:t=4,...r},i)=>s.jsx(el,{children:s.jsx(al,{ref:i,align:a,sideOffset:t,className:rs("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));rl.displayName=al.displayName;const il=(e,a)=>{var t,s;gr();const r=Ce.useMemo(()=>({startDate:e||null,endDate:a||null,preset:"custom"}),[null==(t=null==e?void 0:e.getTime)?void 0:t.call(e),null==(s=null==a?void 0:a.getTime)?void 0:s.call(a)]),{data:i,isLoading:n,hasErrors:o,refetch:l}=(e=>{const{organization:a}=gr(),[t,s]=Ce.useState({charts:{ingredientConsumption:[],consumptionShare:[],plannedVsActual:[],efficiencyByLoad:[],deviationByLoadAndWagon:[],efficiencyDistribution:[],ingredientsByVolume:[],volumeByDiet:[],avgDeviationByIngredient:[],volumeByWagon:[],efficiencyOverTime:[],volumePerHour:[]},loading:{quantitative:!1,qualitative:!1,temporal:!1},errors:{quantitative:null,qualitative:null,temporal:null}}),r=Ce.useCallback(async()=>{var t,r,i,n,o,l,d,c,u,x,h,p,f,g;if(null==a?void 0:a.id){s(e=>({...e,loading:{quantitative:!0,qualitative:!0,temporal:!0},errors:{quantitative:null,qualitative:null,temporal:null}}));try{const[m,v,b,j,y,N,w]=await Promise.all([hr.from("view_ingrediente_resumo").select("*").eq("organization_id",a.id).gte("data",(null==(t=null==e?void 0:e.startDate)?void 0:t.toISOString().split("T")[0])||"2024-01-01").lte("data",(null==(r=null==e?void 0:e.endDate)?void 0:r.toISOString().split("T")[0])||"2024-12-31"),hr.from("view_ingrediente_participacao").select("*").eq("organization_id",a.id).gte("data",(null==(i=null==e?void 0:e.startDate)?void 0:i.toISOString().split("T")[0])||"2024-01-01").lte("data",(null==(n=null==e?void 0:e.endDate)?void 0:n.toISOString().split("T")[0])||"2024-12-31"),hr.from("view_carregamento_eficiencia").select("*").eq("organization_id",a.id).gte("data",(null==(o=null==e?void 0:e.startDate)?void 0:o.toISOString().split("T")[0])||"2024-01-01").lte("data",(null==(l=null==e?void 0:e.endDate)?void 0:l.toISOString().split("T")[0])||"2024-12-31"),hr.from("view_volume_por_dieta").select("*").eq("organization_id",a.id).gte("data",(null==(d=null==e?void 0:e.startDate)?void 0:d.toISOString().split("T")[0])||"2024-01-01").lte("data",(null==(c=null==e?void 0:e.endDate)?void 0:c.toISOString().split("T")[0])||"2024-12-31"),hr.from("view_eficiencia_distribuicao").select("*").eq("organization_id",a.id).gte("data",(null==(u=null==e?void 0:e.startDate)?void 0:u.toISOString().split("T")[0])||"2024-01-01").lte("data",(null==(x=null==e?void 0:e.endDate)?void 0:x.toISOString().split("T")[0])||"2024-12-31"),hr.from("view_volume_por_vagao").select("*").eq("organization_id",a.id).gte("data",(null==(h=null==e?void 0:e.startDate)?void 0:h.toISOString().split("T")[0])||"2024-01-01").lte("data",(null==(p=null==e?void 0:e.endDate)?void 0:p.toISOString().split("T")[0])||"2024-12-31"),hr.from("view_eficiencia_temporal").select("*").eq("organization_id",a.id).gte("data",(null==(f=null==e?void 0:e.startDate)?void 0:f.toISOString().split("T")[0])||"2024-01-01").lte("data",(null==(g=null==e?void 0:e.endDate)?void 0:g.toISOString().split("T")[0])||"2024-12-31")]);if(m.error)throw m.error;if(v.error)throw v.error;if(b.error)throw b.error;if(j.error)throw j.error;if(y.error)throw y.error;if(N.error)throw N.error;if(w.error)throw w.error;const k=m.data||[],C=v.data||[],D=b.data||[],S=j.data||[],E=y.data||[],M=N.data||[],_=w.data||[];if(0===k.length&&0===D.length)return void s(e=>({...e,loading:{quantitative:!1,qualitative:!1,temporal:!1}}));const P=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],R=k.reduce((e,a)=>{const t=e.find(e=>e.ingrediente===a.ingrediente);return t?t.consumo+=parseFloat(a.realizado_kg||0):e.push({ingrediente:a.ingrediente,consumo:parseFloat(a.realizado_kg||0)}),e},[]).sort((e,a)=>a.consumo-e.consumo).slice(0,5),z=C.reduce((e,a)=>{const t=e.find(e=>e.name===a.ingrediente);return t?t.value=Math.max(t.value,parseFloat(a.participacao_pc||0)):e.push({name:a.ingrediente,value:parseFloat(a.participacao_pc||0)}),e},[]).sort((e,a)=>a.value-e.value).slice(0,5).map((e,a)=>({...e,fill:P[a%P.length]})),T=k.reduce((e,a)=>{const t=e.find(e=>e.ingrediente===a.ingrediente);return t?(t.previsto+=parseFloat(a.previsto_kg||0),t.realizado+=parseFloat(a.realizado_kg||0)):e.push({ingrediente:a.ingrediente,previsto:parseFloat(a.previsto_kg||0),realizado:parseFloat(a.realizado_kg||0)}),e},[]).sort((e,a)=>a.realizado-e.realizado).slice(0,5),A=D.filter(e=>e.eficiencia&&e.eficiencia>0).map(e=>({carregamento:e.carregamento||e.id_carregamento,eficiencia:parseFloat(e.eficiencia||0)})).sort((e,a)=>a.eficiencia-e.eficiencia).slice(0,5),I=D.filter(e=>e.desvio_medio_pc&&Math.abs(parseFloat(e.desvio_medio_pc))>0).map(e=>({item:`${e.carregamento||e.id_carregamento} - ${e.vagao}`,desvio:Math.abs(parseFloat(e.desvio_medio_pc||0))})).sort((e,a)=>a.desvio-e.desvio).slice(0,5),B=E.map(e=>({faixa:e.faixa,quantidade:e.quantidade})),O=S.map(e=>({dieta:e.dieta,volume:parseFloat(e.volume||0)})).sort((e,a)=>a.volume-e.volume).slice(0,5),L=M.map((e,a)=>({name:e.vagao,value:parseFloat(e.total_realizado||0),fill:P[a%P.length]})).sort((e,a)=>a.value-e.value).slice(0,5),F=k.reduce((e,a)=>{const t=e.find(e=>e.ingrediente===a.ingrediente),s=Math.abs(parseFloat(a.desvio_pc||0));return t?t.desvio=(t.desvio+s)/2:e.push({ingrediente:a.ingrediente,desvio:s}),e},[]).sort((e,a)=>a.desvio-e.desvio).slice(0,5),q=_.reduce((e,a)=>{const t=a.hora.substring(0,2)+":00",s=e.find(e=>e.hora===t),r=parseFloat(a.eficiencia||0);return s?s.eficiencia=(s.eficiencia+r)/2:e.push({hora:t,eficiencia:r}),e},[]).sort((e,a)=>e.hora.localeCompare(a.hora)),V=_.reduce((e,a)=>{const t=a.hora.substring(0,2)+":00",s=e.find(e=>e.hora===t),r=parseFloat(a.volume_total||0);return s?s.volume+=r:e.push({hora:t,volume:r}),e},[]).sort((e,a)=>e.hora.localeCompare(a.hora));s({charts:{ingredientConsumption:R,consumptionShare:z,plannedVsActual:T,efficiencyByLoad:A,deviationByLoadAndWagon:I,efficiencyDistribution:B,ingredientsByVolume:R,volumeByDiet:O,avgDeviationByIngredient:F,volumeByWagon:L,efficiencyOverTime:q,volumePerHour:V},loading:{quantitative:!1,qualitative:!1,temporal:!1},errors:{quantitative:null,qualitative:null,temporal:null}})}catch(m){s(e=>({...e,loading:{quantitative:!1,qualitative:!1,temporal:!1},errors:{quantitative:"Erro ao carregar dados",qualitative:"Erro ao carregar dados",temporal:"Erro ao carregar dados"}}))}}},[null==a?void 0:a.id,(null==e?void 0:e.startDate)?e.startDate.getTime():null,(null==e?void 0:e.endDate)?e.endDate.getTime():null]);return Ce.useEffect(()=>{r()},[r]),{data:t,isLoading:t.loading.quantitative||t.loading.qualitative||t.loading.temporal,hasErrors:!!(t.errors.quantitative||t.errors.qualitative||t.errors.temporal),refetch:r}})(r),[d,c]=Ce.useState(!1),[m,u]=Ce.useState(null);return Ce.useEffect(()=>{c(n),u(o?"Erro ao carregar dados. Por favor, tente novamente.":null)},[n,o]),{loading:d,error:m,ingredientConsumption:i.charts.ingredientConsumption,consumptionShare:i.charts.consumptionShare,plannedVsActual:i.charts.plannedVsActual,efficiencyByLoad:i.charts.efficiencyByLoad,deviationByLoadAndWagon:i.charts.deviationByLoadAndWagon,efficiencyDistribution:i.charts.efficiencyDistribution,ingredientsByVolume:i.charts.ingredientsByVolume,volumeByDiet:i.charts.volumeByDiet,avgDeviationByIngredient:i.charts.avgDeviationByIngredient,volumeByWagon:i.charts.volumeByWagon,efficiencyOverTime:i.charts.efficiencyOverTime,volumePerHour:i.charts.volumePerHour,refetch:l}},nl=e=>{const a=new Date,t=new Date(a.getFullYear(),a.getMonth(),a.getDate());switch(e){case"today":return{startDate:t,endDate:t};case"7days":const e=new Date(t);return e.setDate(t.getDate()-6),{startDate:e,endDate:t};case"30days":const s=new Date(t);return s.setDate(t.getDate()-29),{startDate:s,endDate:t};case"lastMonth":return{startDate:new Date(a.getFullYear(),a.getMonth()-1,1),endDate:new Date(a.getFullYear(),a.getMonth(),0)};default:return{startDate:s,endDate:t}}},ol=e=>{const a="30days",t=nl(a),[s,r]=Ce.useState(()=>({startDate:(null==e?void 0:e.startDate)||t.startDate,endDate:(null==e?void 0:e.endDate)||t.endDate,preset:(null==e?void 0:e.preset)||a})),i=Ce.useMemo(()=>[{label:"Hoje",value:"today",getDateRange:()=>nl("today")},{label:"Últimos 7 dias",value:"7days",getDateRange:()=>nl("7days")},{label:"Últimos 30 dias",value:"30days",getDateRange:()=>nl("30days")},{label:"Mês passado",value:"lastMonth",getDateRange:()=>nl("lastMonth")},{label:"Personalizado",value:"custom",getDateRange:()=>({startDate:new Date,endDate:new Date})}],[]),n=Ce.useMemo(()=>"custom"===s.preset,[s.preset]),{isValidDateRange:o,validationError:l}=Ce.useMemo(()=>{if(!s.startDate||!s.endDate)return{isValidDateRange:!1,validationError:"Data de início e fim são obrigatórias"};if(s.startDate>s.endDate)return{isValidDateRange:!1,validationError:"Data de início deve ser anterior à data de fim"};const e=new Date;if(s.endDate>e)return{isValidDateRange:!1,validationError:"Data de fim não pode ser no futuro"};const a=new Date;return a.setFullYear(e.getFullYear()-1),s.startDate<a?{isValidDateRange:!1,validationError:"Range máximo de 1 ano permitido"}:{isValidDateRange:!0,validationError:null}},[s.startDate,s.endDate]),d=Ce.useCallback(e=>{r(e)},[]),c=Ce.useCallback(e=>{r(a=>({...a,startDate:e,preset:"custom"}))},[]),m=Ce.useCallback(e=>{r(a=>({...a,endDate:e,preset:"custom"}))},[]),u=Ce.useCallback(e=>{r(a=>({...a,preset:e}))},[]),x=Ce.useCallback(e=>{if("custom"===e)r(e=>({...e,preset:"custom"}));else{const a=nl(e);r({startDate:a.startDate,endDate:a.endDate,preset:e})}},[]),h=Ce.useCallback(()=>{const e=nl(a);r({startDate:e.startDate,endDate:e.endDate,preset:a})},[]);return{filters:s,setFilters:d,setStartDate:c,setEndDate:m,setPreset:u,applyPreset:x,resetFilters:h,isCustomDateRange:n,isValidDateRange:o,validationError:l,presets:i}},ll=ve,dl=be,cl=Ce.forwardRef(({className:e,children:a,...t},r)=>s.jsxs(ne,{ref:r,className:rs("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[a,s.jsx(oe,{asChild:!0,children:s.jsx(Xa,{className:"h-4 w-4 opacity-50"})})]}));cl.displayName=ne.displayName;const ml=Ce.forwardRef(({className:e,...a},t)=>s.jsx(le,{ref:t,className:rs("flex cursor-default items-center justify-center py-1",e),...a,children:s.jsx(et,{className:"h-4 w-4"})}));ml.displayName=le.displayName;const ul=Ce.forwardRef(({className:e,...a},t)=>s.jsx(de,{ref:t,className:rs("flex cursor-default items-center justify-center py-1",e),...a,children:s.jsx(Xa,{className:"h-4 w-4"})}));ul.displayName=de.displayName;const xl=Ce.forwardRef(({className:e,children:a,position:t="popper",...r},i)=>s.jsx(ce,{children:s.jsxs(me,{ref:i,className:rs("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...r,children:[s.jsx(ml,{}),s.jsx(ue,{className:rs("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),s.jsx(ul,{})]})}));xl.displayName=me.displayName;Ce.forwardRef(({className:e,...a},t)=>s.jsx(xe,{ref:t,className:rs("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=xe.displayName;const hl=Ce.forwardRef(({className:e,children:a,...t},r)=>s.jsxs(he,{ref:r,className:rs("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...t,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(pe,{children:s.jsx(da,{className:"h-4 w-4"})})}),s.jsx(fe,{children:a})]}));hl.displayName=he.displayName;Ce.forwardRef(({className:e,...a},t)=>s.jsx(ge,{ref:t,className:rs("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=ge.displayName;const pl=({filters:e,onFiltersChange:a,onApplyFilters:t,isLoading:r=!1,className:i})=>{const{setStartDate:n,setEndDate:o,applyPreset:l,resetFilters:d,isCustomDateRange:c,isValidDateRange:m,validationError:u,presets:x}=ol(e);return s.jsx(vr,{className:rs("w-full",i),children:s.jsx(Nr,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Filtros de Período"}),s.jsx(Er,{variant:"outline",size:"sm",onClick:()=>{d(),a({startDate:null,endDate:null,preset:"30days"})},disabled:r,children:"Limpar"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Período"}),s.jsxs(ll,{value:e.preset,onValueChange:t=>{if(l(t),"custom"!==t){const s={...e,preset:t};a(s)}else a({...e,preset:"custom"})},disabled:r,children:[s.jsx(cl,{children:s.jsx(dl,{placeholder:"Selecione um período"})}),s.jsx(xl,{children:x.map(e=>s.jsx(hl,{value:e.value,children:e.label},e.value))})]})]}),c&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Data de Início"}),s.jsxs(tl,{children:[s.jsx(sl,{asChild:!0,children:s.jsxs(Er,{variant:"outline",className:rs("w-full justify-start text-left font-normal",!e.startDate&&"text-muted-foreground"),disabled:r,children:[s.jsx(at,{className:"mr-2 h-4 w-4"}),e.startDate?Ga(e.startDate,"dd/MM/yyyy",{locale:sn}):"Selecione a data"]})}),s.jsx(rl,{className:"w-auto p-0",align:"start",children:s.jsx(Po,{mode:"single",selected:e.startDate||void 0,onSelect:t=>{const s=t||null;n(s),a({...e,startDate:s,preset:"custom"})},disabled:a=>a>new Date||e.endDate&&a>e.endDate,locale:sn,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Data de Fim"}),s.jsxs(tl,{children:[s.jsx(sl,{asChild:!0,children:s.jsxs(Er,{variant:"outline",className:rs("w-full justify-start text-left font-normal",!e.endDate&&"text-muted-foreground"),disabled:r,children:[s.jsx(at,{className:"mr-2 h-4 w-4"}),e.endDate?Ga(e.endDate,"dd/MM/yyyy",{locale:sn}):"Selecione a data"]})}),s.jsx(rl,{className:"w-auto p-0",align:"start",children:s.jsx(Po,{mode:"single",selected:e.endDate||void 0,onSelect:t=>{const s=t||null;o(s),a({...e,endDate:s,preset:"custom"})},disabled:a=>a>new Date||e.startDate&&a<e.startDate,locale:sn,initialFocus:!0})})]})]})]}),u&&s.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:u}),s.jsx("div",{className:"flex justify-end",children:s.jsx(Er,{onClick:t,disabled:r||!m,className:"min-w-[120px]",children:r?"Aplicando...":"Aplicar Filtros"})}),e.startDate&&e.endDate&&s.jsxs("div",{className:"text-xs text-muted-foreground bg-gray-50 p-2 rounded",children:[s.jsx("strong",{children:"Período selecionado:"})," ",Ga(e.startDate,"dd/MM/yyyy",{locale:sn})," até"," ",Ga(e.endDate,"dd/MM/yyyy",{locale:sn})]})]})})})};const fl=new class{constructor(){t(this,"metrics",[]),t(this,"observers",[]),this.initializeObservers()}initializeObservers(){if("undefined"!=typeof window&&"PerformanceObserver"in window){const a=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{e.duration})});try{a.observe({entryTypes:["longtask"]}),this.observers.push(a)}catch(e){}const t=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{e.value})});try{t.observe({entryTypes:["layout-shift"]}),this.observers.push(t)}catch(e){}}}startMeasure(e){"undefined"!=typeof window&&window.performance&&performance.mark(`${e}-start`)}endMeasure(e,a){if("undefined"!=typeof window&&window.performance){const t=`${e}-end`,s=`${e}-render`;performance.mark(t),performance.measure(s,`${e}-start`,t);const r=performance.getEntriesByName(s)[0];if(r){const i={componentName:e,renderTime:r.duration,timestamp:Date.now(),propsHash:a?this.hashProps(a):""};this.metrics.push(i),r.duration,performance.clearMarks(`${e}-start`),performance.clearMarks(t),performance.clearMeasures(s)}}}hashProps(e){try{return JSON.stringify(e).slice(0,100)}catch{return"unhashable-props"}}getMetrics(e){return e?this.metrics.filter(a=>a.componentName===e):this.metrics}getComponentStats(e){const a=this.getMetrics(e);if(0===a.length)return null;const t=a.map(e=>e.renderTime),s=t.reduce((e,a)=>e+a,0)/t.length,r=Math.max(...t),i=Math.min(...t);return{componentName:e,totalRenders:a.length,avgRenderTime:Number(s.toFixed(2)),maxRenderTime:Number(r.toFixed(2)),minRenderTime:Number(i.toFixed(2)),recentRenders:a.slice(-10)}}getAllStats(){return[...new Set(this.metrics.map(e=>e.componentName))].map(e=>this.getComponentStats(e)).filter(Boolean)}clearMetrics(){this.metrics=[]}getWebVitals(){if("undefined"==typeof window)return null;const e=performance.getEntriesByType("navigation")[0],a=performance.getEntriesByType("paint").find(e=>"first-contentful-paint"===e.name),t=performance.getEntriesByType("largest-contentful-paint")[0];return{FCP:a?Number(a.startTime.toFixed(2)):null,LCP:t?Number(t.startTime.toFixed(2)):null,domContentLoaded:e?Number(e.domContentLoadedEventEnd.toFixed(2)):null,loadComplete:e?Number(e.loadEventEnd.toFixed(2)):null,totalBlockingTime:this.calculateTotalBlockingTime(),memoryUsage:this.getMemoryUsage()}}calculateTotalBlockingTime(){return performance.getEntriesByType("longtask").reduce((e,a)=>e+Math.max(0,a.duration-50),0)}getMemoryUsage(){if("memory"in performance){const e=performance.memory;return{used:Math.round(e.usedJSHeapSize/1048576),total:Math.round(e.totalJSHeapSize/1048576),limit:Math.round(e.jsHeapSizeLimit/1048576)}}return null}generateReport(){const e=this.getAllStats(),a=this.getWebVitals();return e.forEach(e=>{e.avgRenderTime>16||e.avgRenderTime}),a&&a.memoryUsage,{stats:e,webVitals:a}}dispose(){this.observers.forEach(e=>e.disconnect()),this.observers=[],this.clearMetrics()}};function gl(e,a=[]){const t=JSON.stringify(a);Ce.useEffect(()=>(fl.startMeasure(e),()=>{fl.endMeasure(e,a)}),[e,t])}"undefined"!=typeof window&&(window.performanceProfiler=fl);const vl=({type:e="charts",count:a=1})=>"metrics"===e?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((e,a)=>s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{className:"pb-2",children:s.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-4 w-24 rounded"})}),s.jsxs(Nr,{children:[s.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-8 w-16 rounded mb-2"}),s.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-3 w-20 rounded"})]})]},a))}):"filters"===e?s.jsxs("div",{className:"flex items-center gap-4 mb-8 p-4 bg-card-secondary/30 rounded-lg border border-border-subtle",children:[s.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-4 w-32 rounded"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-10 w-32 rounded"}),s.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-4 w-8 rounded"}),s.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-10 w-32 rounded"}),s.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-10 w-24 rounded"})]})]}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[...Array(a)].map((e,a)=>s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-6 w-48 rounded"})}),s.jsx(Nr,{children:s.jsx("div",{className:"h-80 flex items-center justify-center",children:s.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-48 w-full rounded"})})})]},a))}),bl=({error:e,onRetry:a,type:t="general"})=>{const{icon:r,title:i,message:n,suggestion:o}=(()=>{const a="string"==typeof e?e:e.message;switch(t){case"connection":return{icon:s.jsx(rt,{className:"h-12 w-12 text-red-500"}),title:"Erro de Conexão",message:"Não foi possível conectar ao servidor. Verifique sua conexão com a internet.",suggestion:"Tente novamente em alguns instantes ou verifique sua conexão de rede."};case"validation":return{icon:s.jsx(st,{className:"h-12 w-12 text-orange-500"}),title:"Erro de Validação",message:a||"Os dados fornecidos não são válidos.",suggestion:"Verifique os filtros aplicados e tente novamente."};case"database":return{icon:s.jsx(na,{className:"h-12 w-12 text-red-500"}),title:"Erro no Banco de Dados",message:"Erro ao acessar os dados do sistema.",suggestion:"Este problema pode ser temporário. Tente novamente."};default:return{icon:s.jsx(Ve,{className:"h-12 w-12 text-red-500"}),title:"Erro Inesperado",message:a||"Ocorreu um erro inesperado.",suggestion:"Tente recarregar a página ou entre em contato com o suporte."}}})();return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm max-w-md w-full",children:[s.jsxs(br,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:r}),s.jsx(jr,{className:"text-xl text-text-primary",children:i})]}),s.jsxs(Nr,{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-text-secondary",children:n}),s.jsx("p",{className:"text-sm text-text-muted",children:o}),a&&s.jsxs(Er,{onClick:a,className:"mt-4",variant:"outline",children:[s.jsx(tt,{className:"h-4 w-4 mr-2"}),"Tentar Novamente"]})]})]})})},jl=({type:e="no-data",onAction:a,actionLabel:t})=>{const{icon:r,title:i,message:n,suggestion:o,actionIcon:l,defaultActionLabel:d}=(()=>{switch(e){case"no-data":return{icon:s.jsx(it,{className:"h-16 w-16 text-gray-400"}),title:"Nenhum Dado Disponível",message:"Não há dados de carregamento no sistema.",suggestion:"Faça o upload de arquivos CSV com dados de carregamento para visualizar os relatórios.",actionIcon:s.jsx(fa,{className:"h-4 w-4 mr-2"}),defaultActionLabel:"Fazer Upload de Dados"};case"no-results":return{icon:s.jsx(nt,{className:"h-16 w-16 text-gray-400"}),title:"Nenhum Resultado Encontrado",message:"Não há dados para os filtros aplicados.",suggestion:"Tente ajustar os filtros de data ou limpar todos os filtros para ver mais resultados.",actionIcon:s.jsx(oa,{className:"h-4 w-4 mr-2"}),defaultActionLabel:"Limpar Filtros"};case"no-uploads":return{icon:s.jsx(fa,{className:"h-16 w-16 text-gray-400"}),title:"Nenhum Arquivo Enviado",message:"Ainda não há arquivos de carregamento no sistema.",suggestion:"Comece enviando arquivos CSV com dados de desvios em carregamento.",actionIcon:s.jsx(fa,{className:"h-4 w-4 mr-2"}),defaultActionLabel:"Enviar Primeiro Arquivo"};case"date-range":return{icon:s.jsx(at,{className:"h-16 w-16 text-gray-400"}),title:"Período Sem Dados",message:"Não há dados de carregamento para o período selecionado.",suggestion:"Tente selecionar um período diferente ou verificar se há dados disponíveis.",actionIcon:s.jsx(at,{className:"h-4 w-4 mr-2"}),defaultActionLabel:"Ajustar Período"};default:return{icon:s.jsx(it,{className:"h-16 w-16 text-gray-400"}),title:"Sem Dados",message:"Nenhum dado encontrado.",suggestion:"Verifique os filtros ou tente novamente mais tarde.",actionIcon:s.jsx(oa,{className:"h-4 w-4 mr-2"}),defaultActionLabel:"Configurar"}}})();return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm max-w-lg w-full",children:[s.jsxs(br,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-6",children:r}),s.jsx(jr,{className:"text-xl text-text-primary",children:i})]}),s.jsxs(Nr,{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-text-secondary",children:n}),s.jsx("p",{className:"text-sm text-text-muted",children:o}),a&&s.jsx("div",{className:"pt-4",children:s.jsxs(Er,{onClick:a,className:"mt-2",variant:"default",children:[l,t||d]})}),s.jsxs("div",{className:"pt-4 border-t border-border-subtle",children:[s.jsx("p",{className:"text-xs text-text-muted mb-2",children:"Precisa de ajuda?"}),s.jsxs("div",{className:"flex justify-center space-x-4 text-xs",children:[s.jsx("button",{className:"text-blue-500 hover:text-blue-600 underline",children:"Ver Documentação"}),s.jsx("button",{className:"text-blue-500 hover:text-blue-600 underline",children:"Contatar Suporte"})]})]})]})]})})},yl=({isLoading:e,error:a,data:t,loadingType:r="charts",loadingCount:i=2,errorType:n="general",emptyType:o="no-data",onRetry:l,onEmptyAction:d,emptyActionLabel:c,children:m,showEmptyWhenNoData:u=!0})=>e?s.jsx(vl,{type:r,count:i}):a?s.jsx(bl,{error:a,type:n,onRetry:l}):!u||t&&0!==t.length?s.jsx(s.Fragment,{children:m}):s.jsx(jl,{type:o,onAction:d,actionLabel:c}),Nl=Ce.memo(({title:e,value:a,subtitle:t,trend:r,icon:i,isLoading:n=!1,variant:o="default"})=>s.jsxs(vr,{className:`backdrop-blur-sm ${(()=>{switch(o){case"warning":return"border-yellow-200 bg-yellow-50";case"success":return"border-green-200 bg-green-50";case"error":return"border-red-200 bg-red-50";default:return"border-border-subtle bg-card-secondary/50"}})()} min-h-[120px] flex flex-col`,children:[s.jsxs(br,{className:"flex flex-row items-center justify-between space-y-0 pb-2 px-3 sm:px-6 pt-3 sm:pt-6",children:[s.jsx(jr,{className:"text-xs sm:text-sm font-medium text-text-secondary truncate pr-2",children:e}),s.jsx("div",{className:"text-text-secondary flex-shrink-0",children:i})]}),s.jsxs(Nr,{className:"flex-1 flex flex-col justify-between px-3 sm:px-6 pb-3 sm:pb-6",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-text-primary mb-1 truncate",children:n?s.jsx("div",{className:"animate-pulse bg-gray-300 h-6 sm:h-8 w-12 sm:w-16 rounded"}):a}),s.jsxs("div",{className:`text-xs flex items-center gap-1 ${(()=>{switch(r){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}})()} mt-auto`,children:[(()=>{switch(r){case"up":return s.jsx(Ze,{className:"h-4 w-4 text-green-500"});case"down":return s.jsx(lt,{className:"h-4 w-4 text-red-500"});default:return s.jsx(ot,{className:"h-4 w-4 text-gray-500"})}})(),s.jsx("span",{className:"truncate",children:t})]})]})]})),wl=Ce.memo(({metrics:e,isLoading:a,error:t,hasData:r,className:i="",onRetry:n})=>{gl("CarregamentoMetrics",[e,a,t,r]);return s.jsx(yl,{isLoading:a,error:t,data:r?[e]:[],loadingType:"metrics",errorType:"database",emptyType:"no-results",onRetry:n,className:i,children:s.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 ${i}`,children:[s.jsx(Nl,{title:"Desvios Detectados",value:e.totalDesvios,subtitle:`Período: ${e.periodoAnalisado}`,trend:e.tendencia,icon:s.jsx(Ve,{className:"h-5 w-5"}),variant:e.totalDesvios>10?"warning":"default"}),s.jsx(Nl,{title:"Desvio Médio",value:`${e.desvioMedio.toFixed(1)} kg`,subtitle:`Eficiência: ${e.eficienciaMedia.toFixed(1)}%`,trend:e.eficienciaMedia>=95?"up":e.eficienciaMedia>=85?"stable":"down",icon:s.jsx($e,{className:"h-5 w-5"}),variant:e.desvioMedio<=1?"success":e.desvioMedio<=3?"warning":"error"}),s.jsx(Nl,{title:"Carregamentos",value:e.totalCarregamentos,subtitle:"Volume: "+(o=e.volumeTotal,o>=1e3?`${(o/1e3).toFixed(1)}t`:`${o.toFixed(0)} kg`),trend:e.totalCarregamentos>=15?"up":e.totalCarregamentos>=10?"stable":"down",icon:s.jsx(Ue,{className:"h-5 w-5"}),variant:e.totalCarregamentos>=15?"success":e.totalCarregamentos>=10?"warning":"error"}),s.jsx(Nl,{title:"Status",value:r?"Operacional":"Sem dados",subtitle:r?"Dados atualizados":"Ajuste os filtros",trend:r?"up":"down",icon:s.jsx(We,{className:"h-5 w-5"}),variant:r?"success":"error"})]})});var o}),kl=Ce.lazy(()=>_t(()=>import("./TemporalCharts-CqD7rRrX.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>({default:e.TemporalCharts}))),Cl=Ce.lazy(()=>_t(()=>import("./QuantitativeCharts-Bmcs6baS.js"),__vite__mapDeps([6,1,2,3,4,5])).then(e=>({default:e.QuantitativeCharts}))),Dl=Ce.lazy(()=>_t(()=>import("./QualitativeCharts-I3GdYaZN.js"),__vite__mapDeps([7,1,2,3,4,5])).then(e=>({default:e.QualitativeCharts}))),Sl=({type:e,...a})=>{const t={temporal:kl,quantitative:Cl,qualitative:Dl}[e];return s.jsx(Ce.Suspense,{fallback:s.jsx(vl,{type:"charts",count:"temporal"===e?2:5}),children:s.jsx(t,{...a})})};function El(){const e=Ee();Ce.useState("vagao-1");const[a,t]=Ce.useState(!1),[r,i]=Ce.useState("carregamento"),[n,o]=Ce.useState(Na(new Date,30)),[l,d]=Ce.useState(new Date),{filters:c,setFilters:m,applyPreset:u,isValidDateRange:x,validationError:h}=ol({startDate:Na(new Date,30),endDate:new Date,preset:"30days"}),[p,f]=Ce.useState(c),{loading:g,error:v,ingredientConsumption:b,consumptionShare:j,plannedVsActual:y,efficiencyByLoad:N,deviationByLoadAndWagon:w,efficiencyDistribution:k,ingredientsByVolume:C,volumeByDiet:D,avgDeviationByIngredient:S,volumeByWagon:E,efficiencyOverTime:M,volumePerHour:_,refetch:P}=il(p.startDate,p.endDate),{metrics:R,hasData:z}=(({charts:e,isLoading:a,startDate:t,endDate:s})=>{const r=Ce.useMemo(()=>{var r,i,n,o,l;if(a||!e)return{totalDesvios:0,desvioMedio:0,totalCarregamentos:0,tendencia:"stable",periodoAnalisado:"Carregando...",eficienciaMedia:0,volumeTotal:0};const d=(null==(r=e.deviationByLoadAndWagon)?void 0:r.filter(e=>e.desvio&&Math.abs(Number(e.desvio))>0).length)||0,c=(null==(i=e.avgDeviationByIngredient)?void 0:i.map(e=>Math.abs(Number(e.desvio||0))).filter(e=>e>0))||[],m=c.length>0?c.reduce((e,a)=>e+a,0)/c.length:0,u=new Set;null==(n=e.efficiencyByLoad)||n.forEach(e=>{e.carregamento&&u.add(e.carregamento)});const x=u.size,h=(null==(o=e.efficiencyByLoad)?void 0:o.map(e=>Number(e.eficiencia||0)).filter(e=>e>0))||[],p=h.length>0?h.reduce((e,a)=>e+a,0)/h.length:0,f=(null==(l=e.volumeByDiet)?void 0:l.reduce((e,a)=>e+Number(a.volume||0),0))||0;let g="stable";if(e.efficiencyOverTime&&e.efficiencyOverTime.length>1){const a=[...e.efficiencyOverTime].sort((e,a)=>(e.hora||"").localeCompare(a.hora||""));if(a.length>=2){const e=a.slice(0,Math.floor(a.length/2)),t=a.slice(Math.floor(a.length/2)),s=e.reduce((e,a)=>e+Number(a.eficiencia||0),0)/e.length,r=t.reduce((e,a)=>e+Number(a.eficiencia||0),0)/t.length-s;g=r>2?"up":r<-2?"down":"stable"}}const v=e=>e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"});let b="Todos os períodos";return t&&s?b=t.getTime()===s.getTime()?v(t):`${v(t)} - ${v(s)}`:t?b=`A partir de ${v(t)}`:s&&(b=`Até ${v(s)}`),{totalDesvios:d,desvioMedio:Math.round(100*m)/100,totalCarregamentos:x,tendencia:g,periodoAnalisado:b,eficienciaMedia:Math.round(100*p)/100,volumeTotal:Math.round(f)}},[e,a,t,s]),i=Ce.useMemo(()=>!(a||!e)&&Object.values(e).some(e=>Array.isArray(e)&&e.length>0),[e,a]);return{metrics:r,isLoading:a,hasData:i}})({charts:{ingredientConsumption:b,consumptionShare:j,plannedVsActual:y,efficiencyByLoad:N,deviationByLoadAndWagon:w,efficiencyDistribution:k,ingredientsByVolume:C,volumeByDiet:D,avgDeviationByIngredient:S,volumeByWagon:E,efficiencyOverTime:M,volumePerHour:_},isLoading:g,startDate:p.startDate,endDate:p.endDate});Ce.useEffect(()=>{},[g,v,p,R,b,j,y]);const{ingredienteResumo:T,ingredienteParticipacao:A,carregamentoEficiencia:I,eficienciaDistribuicao:B,volumePorDieta:O,volumePorVagao:L,eficienciaTemporalData:F,loading:q,hasData:V,refetch:H}=(e=>{var a,t;const{organization:s}=gr(),[r,i]=Ce.useState({data:{ingredienteResumo:[],ingredienteParticipacao:[],carregamentoEficiencia:[],eficienciaDistribuicao:[],volumePorDieta:[],volumePorVagao:[],eficienciaTemporalData:[]},loading:{global:!1,ingredienteResumo:!1,ingredienteParticipacao:!1,carregamentoEficiencia:!1,eficienciaDistribuicao:!1,volumePorDieta:!1,volumePorVagao:!1,eficienciaTemporalData:!1},errors:{global:null,ingredienteResumo:null,ingredienteParticipacao:null,carregamentoEficiencia:null,eficienciaDistribuicao:null,volumePorDieta:null,volumePorVagao:null,eficienciaTemporalData:null},lastUpdated:null}),n=null==(a=null==e?void 0:e.startDate)?void 0:a.toISOString().split("T")[0],o=null==(t=null==e?void 0:e.endDate)?void 0:t.toISOString().split("T")[0],l=Ce.useCallback(()=>n&&o?{data:{gte:n,lte:o}}:{},[n,o]),d=Ce.useCallback(async()=>{if(null==s?void 0:s.id){i(e=>({...e,loading:{...e.loading,ingredienteResumo:!0},errors:{...e.errors,ingredienteResumo:null}}));try{const e=l(),{data:a,error:t}=await hr.from("view_ingrediente_resumo").select("*").eq("organization_id",s.id).match(e).order("data",{ascending:!1}).order("ingrediente",{ascending:!0});if(t)throw t;i(e=>({...e,data:{...e.data,ingredienteResumo:a||[]},loading:{...e.loading,ingredienteResumo:!1}}))}catch(v){i(a=>({...a,loading:{...a.loading,ingredienteResumo:!1},errors:{...a.errors,ingredienteResumo:v.message}}))}}},[null==s?void 0:s.id,l]),c=Ce.useCallback(async()=>{if(null==s?void 0:s.id){i(e=>({...e,loading:{...e.loading,ingredienteParticipacao:!0},errors:{...e.errors,ingredienteParticipacao:null}}));try{const e=l(),{data:a,error:t}=await hr.from("view_ingrediente_participacao").select("*").eq("organization_id",s.id).match(e).order("participacao_pc",{ascending:!1});if(t)throw t;i(e=>({...e,data:{...e.data,ingredienteParticipacao:a||[]},loading:{...e.loading,ingredienteParticipacao:!1}}))}catch(v){i(a=>({...a,loading:{...a.loading,ingredienteParticipacao:!1},errors:{...a.errors,ingredienteParticipacao:v.message}}))}}},[null==s?void 0:s.id,l]),m=Ce.useCallback(async()=>{if(null==s?void 0:s.id){i(e=>({...e,loading:{...e.loading,carregamentoEficiencia:!0},errors:{...e.errors,carregamentoEficiencia:null}}));try{const e=l(),{data:a,error:t}=await hr.from("view_carregamento_eficiencia").select("*").eq("organization_id",s.id).match(e).order("data",{ascending:!1}).order("hora",{ascending:!0});if(t)throw t;i(e=>({...e,data:{...e.data,carregamentoEficiencia:a||[]},loading:{...e.loading,carregamentoEficiencia:!1}}))}catch(v){i(a=>({...a,loading:{...a.loading,carregamentoEficiencia:!1},errors:{...a.errors,carregamentoEficiencia:v.message}}))}}},[null==s?void 0:s.id,l]),u=Ce.useCallback(async()=>{if(null==s?void 0:s.id){i(e=>({...e,loading:{...e.loading,eficienciaDistribuicao:!0},errors:{...e.errors,eficienciaDistribuicao:null}}));try{const e=l(),{data:a,error:t}=await hr.from("view_eficiencia_distribuicao").select("*").eq("organization_id",s.id).match(e).order("faixa",{ascending:!0});if(t)throw t;i(e=>({...e,data:{...e.data,eficienciaDistribuicao:a||[]},loading:{...e.loading,eficienciaDistribuicao:!1}}))}catch(v){i(a=>({...a,loading:{...a.loading,eficienciaDistribuicao:!1},errors:{...a.errors,eficienciaDistribuicao:v.message}}))}}},[null==s?void 0:s.id,l]),x=Ce.useCallback(async()=>{if(null==s?void 0:s.id){i(e=>({...e,loading:{...e.loading,volumePorDieta:!0},errors:{...e.errors,volumePorDieta:null}}));try{const e=l(),{data:a,error:t}=await hr.from("view_volume_por_dieta").select("*").eq("organization_id",s.id).match(e).order("volume",{ascending:!1});if(t)throw t;i(e=>({...e,data:{...e.data,volumePorDieta:a||[]},loading:{...e.loading,volumePorDieta:!1}}))}catch(v){i(a=>({...a,loading:{...a.loading,volumePorDieta:!1},errors:{...a.errors,volumePorDieta:v.message}}))}}},[null==s?void 0:s.id,l]),h=Ce.useCallback(async()=>{if(null==s?void 0:s.id){i(e=>({...e,loading:{...e.loading,volumePorVagao:!0},errors:{...e.errors,volumePorVagao:null}}));try{const e=l(),{data:a,error:t}=await hr.from("view_volume_por_vagao").select("*").eq("organization_id",s.id).match(e).order("total_realizado",{ascending:!1});if(t)throw t;i(e=>({...e,data:{...e.data,volumePorVagao:a||[]},loading:{...e.loading,volumePorVagao:!1}}))}catch(v){i(a=>({...a,loading:{...a.loading,volumePorVagao:!1},errors:{...a.errors,volumePorVagao:v.message}}))}}},[null==s?void 0:s.id,l]),p=Ce.useCallback(async()=>{if(null==s?void 0:s.id){i(e=>({...e,loading:{...e.loading,eficienciaTemporalData:!0},errors:{...e.errors,eficienciaTemporalData:null}}));try{const e=l(),{data:a,error:t}=await hr.from("view_eficiencia_temporal").select("*").eq("organization_id",s.id).match(e).order("data",{ascending:!0}).order("hora",{ascending:!0});if(t)throw t;i(e=>({...e,data:{...e.data,eficienciaTemporalData:a||[]},loading:{...e.loading,eficienciaTemporalData:!1}}))}catch(v){i(a=>({...a,loading:{...a.loading,eficienciaTemporalData:!1},errors:{...a.errors,eficienciaTemporalData:v.message}}))}}},[null==s?void 0:s.id,l]),f=Ce.useCallback(async()=>{if(null==s?void 0:s.id){i(e=>({...e,loading:{...e.loading,global:!0},errors:{global:null,ingredienteResumo:null,ingredienteParticipacao:null,carregamentoEficiencia:null,eficienciaDistribuicao:null,volumePorDieta:null,volumePorVagao:null,eficienciaTemporalData:null}}));try{await Promise.all([d(),c(),m(),u(),x(),h(),p()]),i(e=>({...e,loading:{...e.loading,global:!1},lastUpdated:new Date}))}catch(v){i(a=>({...a,loading:{...a.loading,global:!1},errors:{...a.errors,global:v.message}}))}}},[null==s?void 0:s.id,d,c,m,u,x,h,p]),g=Ce.useCallback(e=>{switch(e){case"ingredienteResumo":return d();case"ingredienteParticipacao":return c();case"carregamentoEficiencia":return m();case"eficienciaDistribuicao":return u();case"volumePorDieta":return x();case"volumePorVagao":return h();case"eficienciaTemporalData":return p();default:return Promise.resolve()}},[d,c,m,u,x,h,p]);Ce.useEffect(()=>{(null==s?void 0:s.id)&&f()},[null==s?void 0:s.id,f]);const b=Object.values(r.loading).some(e=>e),j=Object.values(r.errors).some(e=>null!==e),y=Object.values(r.data).some(e=>e.length>0);return{...r.data,loading:r.loading,errors:r.errors,isLoading:b,hasErrors:j,hasData:y,lastUpdated:r.lastUpdated,refetch:f,refetchView:g}})({startDate:n||Na(new Date,30),endDate:l||new Date}),W=(()=>{const e=B.map(e=>({eficiencia:e.faixa,frequencia:e.quantidade})),a=T.slice(0,15).map(e=>{var a,t;return{previsto:parseFloat((null==(a=e.previsto_kg)?void 0:a.toString())||"0"),realizado:parseFloat((null==(t=e.realizado_kg)?void 0:t.toString())||"0")}}),t=O.slice(0,4).map(e=>{var a;return{dieta:e.dieta,volume:parseFloat((null==(a=e.volume)?void 0:a.toString())||"0")}}),s=I.slice(0,4).map(e=>{var a;return{carregamento:e.carregamento||e.id_carregamento,eficiencia:parseFloat((null==(a=e.eficiencia)?void 0:a.toString())||"0")}}),r=F.reduce((e,a)=>{var t;const s=a.hora.substring(0,2)+":00",r=e.find(e=>e.hora===s),i=parseFloat((null==(t=a.volume_total)?void 0:t.toString())||"0");return r?r.volume+=i:e.push({hora:s,volume:i}),e},[]).sort((e,a)=>e.hora.localeCompare(a.hora)),i=T.reduce((e,a)=>{var t;const s=parseFloat((null==(t=a.desvio_pc)?void 0:t.toString())||"0");let r="";r=s<=-15?"-20 a -15":s<=-10?"-15 a -10":s<=-5?"-10 a -5":s<=0?"-5 a 0":s<=5?"0 a 5":s<=10?"5 a 10":s<=15?"10 a 15":"15 a 20";const i=e.find(e=>e.desvio===r);return i?i.frequencia++:e.push({desvio:r,frequencia:1}),e},[]),n=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];return{efficiencyDistributionHist:e,realizadoVsPrevisto:a,volumePorDietaChart:t,efficiencyByLoad:s,productivityByHour:r,percentualDeviations:i,productionByWagon:L.slice(0,5).map((e,a)=>{var t;return{name:e.vagao,value:parseFloat((null==(t=e.total_realizado)?void 0:t.toString())||"0"),fill:n[a%n.length]}}),efficiencyTimeline:F.reduce((e,a)=>{var t;const s=a.hora.substring(0,2)+":00",r=e.find(e=>e.hora===s),i=parseFloat((null==(t=a.eficiencia)?void 0:t.toString())||"0");return r?r.eficiencia=(r.eficiencia+i)/2:e.push({hora:s,eficiencia:i}),e},[]).sort((e,a)=>e.hora.localeCompare(a.hora))}})();return g||q?s.jsx(ki,{children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-text-secondary",children:"Carregando dados de desvios..."})]})})})}):v?s.jsx(ki,{children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ve,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-red-500 mb-2",children:"Erro ao carregar dados"}),s.jsx("p",{className:"text-text-secondary text-sm",children:v})]})})})}):s.jsxs(ki,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(Yi,{children:s.jsxs(Gi,{children:[s.jsx(Qi,{children:s.jsx(Ji,{href:"/dashboard",children:"Dashboard"})}),s.jsx(Xi,{}),s.jsx(Qi,{children:s.jsx(Zi,{children:"Análise de Desvios"})})]})}),s.jsxs(Er,{onClick:()=>{e("/dashboard")},variant:"outline",className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4"}),"Voltar ao Dashboard"]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Análise de Desvios"}),s.jsx("p",{className:"text-text-secondary",children:"Monitore desvios operacionais no carregamento e distribuição de ração"})]}),s.jsx("div",{className:"mb-8",children:s.jsx(wl,{metrics:R,isLoading:g,error:v?new Error(v):null,hasData:z,onRetry:P})}),s.jsxs(Wi,{value:r,onValueChange:i,className:"w-full",children:[s.jsxs(Ki,{className:"grid w-full grid-cols-2 mb-8",children:[s.jsxs($i,{value:"carregamento",className:"flex items-center gap-2",children:[s.jsx(Ue,{className:"h-4 w-4"}),"Desvios em Carregamento"]}),s.jsxs($i,{value:"distribuicao",className:"flex items-center gap-2",children:[s.jsx(Qe,{className:"h-4 w-4"}),"Desvios em Distribuição"]})]}),s.jsxs(Ui,{value:"carregamento",children:[s.jsx("div",{className:"mb-8",children:s.jsx(pl,{filters:c,onFiltersChange:m,onApplyFilters:()=>{x&&f(c)},isLoading:g})}),s.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:s.jsx(Er,{className:"w-14 h-14 rounded-full bg-primary hover:bg-primary/90 text-white shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center",onClick:()=>t(!0),children:s.jsx(pa,{className:"h-6 w-6"})})}),s.jsx(Sl,{type:"quantitative",ingredientConsumption:b,consumptionShare:j,plannedVsActual:y,efficiencyByLoad:N,deviationByLoadAndWagon:w,isLoading:g,error:v?new Error(v):null,onRetry:P}),s.jsx(Sl,{type:"qualitative",efficiencyDistribution:k,ingredientsByVolume:C,volumeByDiet:D,avgDeviationByIngredient:S,volumeByWagon:E,isLoading:g,error:v?new Error(v):null,onRetry:P}),s.jsx(Sl,{type:"temporal",efficiencyOverTime:M,volumePerHour:_,isLoading:g,error:v?new Error(v):null,onRetry:P})]}),s.jsxs(Ui,{value:"distribuicao",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8 p-4 bg-card-secondary/30 rounded-lg border border-border-subtle",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"text-sm font-medium text-text-primary",children:"Período de análise:"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(tl,{children:[s.jsx(sl,{asChild:!0,children:s.jsxs(Er,{variant:"outline",className:rs("w-[140px] justify-start text-left font-normal",!n&&"text-muted-foreground"),children:[s.jsx(at,{className:"mr-2 h-4 w-4"}),n?Ga(n,"dd/MM/yyyy"):s.jsx("span",{children:"Data inicial"})]})}),s.jsx(rl,{className:"w-auto p-0",align:"start",children:s.jsx(Po,{mode:"single",selected:n,onSelect:o,initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),s.jsx("span",{className:"text-text-secondary",children:"até"}),s.jsxs(tl,{children:[s.jsx(sl,{asChild:!0,children:s.jsxs(Er,{variant:"outline",className:rs("w-[140px] justify-start text-left font-normal",!l&&"text-muted-foreground"),children:[s.jsx(at,{className:"mr-2 h-4 w-4"}),l?Ga(l,"dd/MM/yyyy"):s.jsx("span",{children:"Data final"})]})}),s.jsx(rl,{className:"w-auto p-0",align:"start",children:s.jsx(Po,{mode:"single",selected:l,onSelect:d,initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),s.jsx(Er,{variant:"secondary",size:"sm",className:"ml-2",onClick:()=>H(),children:"Aplicar Filtro"})]})]}),s.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:s.jsx(Er,{className:"w-14 h-14 rounded-full bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center",onClick:()=>t(!0),children:s.jsx(pa,{className:"h-6 w-6"})})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:"Análises Quantitativas Gerais"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsx(jr,{className:"text-lg",children:"Distribuição da Eficiência (Histograma)"})}),s.jsx(Nr,{children:s.jsx("div",{className:"h-80",children:s.jsx(zt,{width:"100%",height:"100%",children:s.jsxs(Tt,{data:W.efficiencyDistributionHist,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(At,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(It,{dataKey:"eficiencia",stroke:"white",fontSize:12}),s.jsx(Bt,{stroke:"white",fontSize:12,label:{value:"Frequência",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"white"}}}),s.jsx(Ot,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--foreground))"},formatter:e=>[`${Number(e).toLocaleString("pt-BR")}`,"Carregamentos"],labelStyle:{color:"hsl(var(--text-primary))"}}),s.jsx(Ft,{dataKey:"frequencia",fill:"#0088FE",radius:[4,4,0,0]})]})})})})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsx(jr,{className:"text-lg",children:"Realizado vs Previsto por Ingrediente"})}),s.jsx(Nr,{children:s.jsx("div",{className:"h-80",children:s.jsx(zt,{width:"100%",height:"100%",children:s.jsxs(Tt,{data:W.realizadoVsPrevisto,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(At,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(It,{dataKey:"previsto",stroke:"white",fontSize:12,label:{value:"Previsto (kg)",position:"insideBottom",offset:-5,style:{textAnchor:"middle",fill:"white"}}}),s.jsx(Bt,{stroke:"white",fontSize:12,label:{value:"Realizado (kg)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"white"}}}),s.jsx(Ot,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--foreground))"},formatter:(e,a)=>[`${Number(e).toLocaleString("pt-BR")} kg`,"realizado"===a?"Quantidade Realizada":"Quantidade Prevista"],labelStyle:{color:"hsl(var(--text-primary))"}}),s.jsx(Ft,{dataKey:"previsto",fill:"#FFBB28",name:"Previsto"}),s.jsx(Ft,{dataKey:"realizado",fill:"#00C49F",name:"Realizado"})]})})})})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsx(jr,{className:"text-lg",children:"Volume por Dieta"})}),s.jsx(Nr,{children:s.jsx("div",{className:"h-80",children:s.jsx(zt,{width:"100%",height:"100%",children:s.jsxs(Tt,{data:W.volumePorDietaChart,margin:{top:20,right:30,left:20,bottom:40},children:[s.jsx(At,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(It,{dataKey:"dieta",stroke:"white",fontSize:11,angle:-45,textAnchor:"end",height:60}),s.jsx(Bt,{stroke:"white",fontSize:12,label:{value:"Volume (kg)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"white"}}}),s.jsx(Ot,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--foreground))"},formatter:e=>[`${Number(e).toLocaleString("pt-BR")} kg`,"Volume da Dieta"],labelStyle:{color:"hsl(var(--text-primary))"}}),s.jsx(Ft,{dataKey:"volume",fill:"#FFBB28",radius:[4,4,0,0]})]})})})})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsx(jr,{className:"text-lg",children:"Eficiência por Carregamento"})}),s.jsx(Nr,{children:s.jsx("div",{className:"h-80",children:s.jsx(zt,{width:"100%",height:"100%",children:s.jsxs(Tt,{data:W.efficiencyByLoad,margin:{top:20,right:30,left:20,bottom:40},children:[s.jsx(At,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(It,{dataKey:"carregamento",stroke:"white",fontSize:11,angle:-45,textAnchor:"end",height:60}),s.jsx(Bt,{stroke:"white",fontSize:12,domain:[0,120],label:{value:"Eficiência (%)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"white"}}}),s.jsx(Ot,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--foreground))"},formatter:e=>[`${Number(e).toFixed(1)}%`,"Eficiência do Carregamento"],labelStyle:{color:"hsl(var(--text-primary))"}}),s.jsx(Ft,{dataKey:"eficiencia",fill:"#8884d8",radius:[4,4,0,0]})]})})})})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsx(jr,{className:"text-lg",children:"Produtividade por Hora"})}),s.jsx(Nr,{children:s.jsx("div",{className:"h-80",children:s.jsx(zt,{width:"100%",height:"100%",children:s.jsxs(Wt,{data:W.productivityByHour,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(At,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(It,{dataKey:"hora",stroke:"white",fontSize:12}),s.jsx(Bt,{stroke:"white",fontSize:12,label:{value:"Volume (kg)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"white"}}}),s.jsx(Ot,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--foreground))"},formatter:e=>[`${Number(e).toLocaleString("pt-BR")} kg`,"Volume no Período"],labelFormatter:e=>`Horário: ${e}`,labelStyle:{color:"hsl(var(--text-primary))"}}),s.jsx(Kt,{type:"monotone",dataKey:"volume",stroke:"#82ca9d",strokeWidth:3,dot:{r:4}})]})})})})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsx(jr,{className:"text-lg",children:"Distribuição dos Desvios Percentuais"})}),s.jsx(Nr,{children:s.jsx("div",{className:"h-80",children:s.jsx(zt,{width:"100%",height:"100%",children:s.jsxs(Tt,{data:W.percentualDeviations,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(At,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(It,{dataKey:"desvio",stroke:"white",fontSize:12}),s.jsx(Bt,{stroke:"white",fontSize:12,label:{value:"Frequência",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"white"}}}),s.jsx(Ot,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--foreground))"},formatter:e=>[`${Number(e).toLocaleString("pt-BR")}`,"Ocorrências"],labelStyle:{color:"hsl(var(--text-primary))"}}),s.jsx(Ft,{dataKey:"frequencia",fill:"#FF8042",radius:[4,4,0,0]})]})})})})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsx(jr,{className:"text-lg",children:"Distribuição da Produção por Vagão"})}),s.jsx(Nr,{children:s.jsx("div",{className:"h-80",children:s.jsx(zt,{width:"100%",height:"100%",children:s.jsxs(Vt,{children:[s.jsx(Ht,{data:W.productionByWagon,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,value:a})=>`${e}: ${Number(a).toLocaleString("pt-BR")} kg`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:W.productionByWagon.map((e,a)=>s.jsx(qt,{fill:e.fill||"#8884d8"},`cell-${a}`))}),s.jsx(Ot,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--foreground))",fontSize:"14px",fontWeight:"500"},formatter:e=>[`${Number(e).toLocaleString("pt-BR")} kg`,"Volume Produzido"],labelStyle:{color:"hsl(var(--text-primary))"}})]})})})})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsx(jr,{className:"text-lg",children:"Eficiência ao Longo do Tempo"})}),s.jsx(Nr,{children:s.jsx("div",{className:"h-80",children:s.jsx(zt,{width:"100%",height:"100%",children:s.jsxs(Wt,{data:W.efficiencyTimeline,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(At,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(It,{dataKey:"hora",stroke:"white",fontSize:12}),s.jsx(Bt,{stroke:"white",fontSize:12,domain:["dataMin - 5","dataMax + 5"],label:{value:"Eficiência (%)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"white"}}}),s.jsx(Ot,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--foreground))"},formatter:e=>[`${Number(e).toFixed(1)}%`,"Eficiência no Período"],labelFormatter:e=>`Horário: ${e}`,labelStyle:{color:"hsl(var(--text-primary))"}}),s.jsx(Kt,{type:"monotone",dataKey:"eficiencia",stroke:"#8884d8",strokeWidth:3,dot:{r:4}})]})})})})]})]})]})]})]})]}),s.jsx(Hr,{isOpen:a,onClose:()=>t(!1),agentType:"carregamento"===r?"loading":"distribution"})]})}function Ml(){return s.jsx(ki,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Relatórios"}),s.jsx("p",{className:"text-text-secondary",children:"Relatórios detalhados do sistema"})]}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[s.jsxs(Er,{variant:"tech",className:"w-full sm:w-auto",children:[s.jsx(ct,{className:"h-4 w-4 mr-2"}),"Novo Relatório"]}),s.jsxs(Er,{variant:"action",className:"w-full sm:w-auto",children:[s.jsx(mt,{className:"h-4 w-4 mr-2"}),"Exportar"]}),s.jsxs(Er,{variant:"outline",className:"w-full sm:w-auto",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Filtros"]}),s.jsxs(Er,{variant:"ghost",disabled:!0,className:"w-full sm:w-auto",children:[s.jsx(ut,{className:"h-4 w-4 mr-2"}),"Compartilhar"]}),s.jsxs(Er,{variant:"outline",className:"w-full sm:w-auto hover:bg-accent-primary hover:text-white transition-colors",onClick:()=>window.open("#","_blank"),children:[s.jsx(ia,{className:"h-4 w-4 mr-2"}),"Ver Exemplo"]})]})}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsxs(jr,{className:"flex items-center gap-2",children:[s.jsx(ia,{className:"h-5 w-5"}),"Relatórios Disponíveis"]})}),s.jsx(Nr,{className:"p-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ia,{className:"h-12 w-12 text-text-tertiary mx-auto mb-4"}),s.jsx("p",{className:"text-text-secondary",children:"Módulo de relatórios em desenvolvimento"}),s.jsx("p",{className:"text-sm text-text-tertiary mt-2",children:"Em breve você terá acesso aos relatórios detalhados"})]})})]})]})})}const _l=Le("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pl=Ce.forwardRef(({className:e,...a},t)=>s.jsx(je,{ref:t,className:rs(_l(),e),...a}));Pl.displayName=je.displayName;const Rl=I,zl=ye,Tl=B,Al=Ce.forwardRef(({className:e,...a},t)=>s.jsx(P,{ref:t,className:rs("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));Al.displayName=P.displayName;const Il=Ce.forwardRef(({className:e,children:a,...t},r)=>s.jsxs(Tl,{children:[s.jsx(Al,{}),s.jsxs(R,{ref:r,className:rs("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,s.jsxs(z,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Oe,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Il.displayName=R.displayName;const Bl=({className:e,...a})=>s.jsx("div",{className:rs("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});Bl.displayName="DialogHeader";const Ol=Ce.forwardRef(({className:e,...a},t)=>s.jsx(T,{ref:t,className:rs("text-lg font-semibold leading-none tracking-tight",e),...a}));Ol.displayName=T.displayName;const Ll=Ce.forwardRef(({className:e,...a},t)=>s.jsx(A,{ref:t,className:rs("text-sm text-muted-foreground",e),...a}));function Fl(){const{user:e,organization:a}=gr(),[t,s]=Ce.useState(!1);return{createInvitation:async(t,r)=>{if(!e||!a)return Ss.error("Você precisa estar logado para enviar convites"),{error:"Não autenticado"};s(!0);try{const s=Array.from(crypto.getRandomValues(new Uint8Array(32))).map(e=>e.toString(16).padStart(2,"0")).join(""),{data:i,error:n}=await hr.from("invitations").insert({organization_id:a.id,email:t.toLowerCase(),role:r,invited_by:e.id,invitation_token:s}).select().single();return n?("23505"===n.code?Ss.error("Este email já foi convidado para esta organização"):Ss.error("Erro ao criar convite: "+n.message),{error:n}):(Ss.success("Convite enviado com sucesso!"),{data:i,inviteLink:`${window.location.origin}/invite/${s}`})}catch(i){return Ss.error("Erro ao criar convite"),{error:i}}finally{s(!1)}},getInvitations:async()=>{if(!a)return{data:[]};const{data:e,error:t}=await hr.from("invitations").select("\n        *,\n        profiles!invitations_invited_by_fkey(full_name)\n      ").eq("organization_id",a.id).order("created_at",{ascending:!1});return{data:e||[],error:t}},getInvitationByToken:async e=>{const{data:a,error:t}=await hr.from("invitations").select("\n        *,\n        organizations(name, logo_url),\n        profiles!invitations_invited_by_fkey(full_name)\n      ").eq("invitation_token",e).eq("status","pending").gt("expires_at",(new Date).toISOString()).single();return{data:a,error:t}},cancelInvitation:async e=>{s(!0);try{const{error:a}=await hr.from("invitations").update({status:"cancelled"}).eq("id",e);return a?(Ss.error("Erro ao cancelar convite"),{error:a}):(Ss.success("Convite cancelado com sucesso"),{success:!0})}catch(a){return Ss.error("Erro ao cancelar convite"),{error:a}}finally{s(!1)}},loading:t}}function ql(){const{canManageOrganization:e,organization:a}=gr(),{createInvitation:t,getInvitations:r,cancelInvitation:i,loading:n}=Fl(),[o,l]=Ce.useState([]),[d,c]=Ce.useState(!1),[m,u]=Ce.useState({email:"",role:"employee"}),[x,h]=Ce.useState(new Set);Ce.useEffect(()=>{e&&p()},[e]);const p=async()=>{const{data:e}=await r();l(e)},f=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"accepted":return"bg-green-100 text-green-800 border-green-200";case"expired":default:return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200"}},g=e=>({owner:"Proprietário",admin:"Administrador",manager:"Gerente",employee:"Funcionário",viewer:"Visualizador"}[e]||e),v=e=>new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});if(!e)return null;const b=o.filter(e=>"pending"===e.status),j=o.filter(e=>"pending"!==e.status);return s.jsxs(vr,{className:"border-border-subtle bg-background-secondary/50",children:[s.jsx(br,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(jr,{className:"flex items-center gap-2 text-text-primary",children:[s.jsx(Ye,{className:"h-5 w-5"}),"Gerenciar Equipe"]}),s.jsxs("p",{className:"text-sm text-text-secondary mt-1",children:["Convide novos membros para ",null==a?void 0:a.name]})]}),s.jsxs(Rl,{open:d,onOpenChange:c,children:[s.jsx(zl,{asChild:!0,children:s.jsxs(Er,{variant:"tech",className:"gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Convidar Membro"]})}),s.jsxs(Il,{children:[s.jsxs(Bl,{children:[s.jsx(Ol,{children:"Convidar Novo Membro"}),s.jsx(Ll,{children:"Envie um convite para adicionar um novo membro à sua organização."})]}),s.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!m.email||!m.role)return void Ss.error("Por favor, preencha todos os campos");(await t(m.email,m.role)).error||(u({email:"",role:"employee"}),c(!1),p())},className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pl,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),s.jsx(Fr,{id:"email",type:"email",placeholder:"usuario@exemplo.com",value:m.email,onChange:e=>u(a=>({...a,email:e.target.value})),className:"pl-10",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pl,{htmlFor:"role",children:"Função"}),s.jsxs(ll,{value:m.role,onValueChange:e=>u(a=>({...a,role:e})),children:[s.jsx(cl,{children:s.jsx(dl,{placeholder:"Selecione uma função"})}),s.jsxs(xl,{children:[s.jsx(hl,{value:"viewer",children:"Visualizador"}),s.jsx(hl,{value:"employee",children:"Funcionário"}),s.jsx(hl,{value:"manager",children:"Gerente"}),s.jsx(hl,{value:"admin",children:"Administrador"}),s.jsx(hl,{value:"owner",children:"Proprietário"})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(Er,{type:"button",variant:"outline",onClick:()=>c(!1),className:"flex-1",children:"Cancelar"}),s.jsx(Er,{type:"submit",variant:"tech",className:"flex-1",disabled:n,children:n?"Enviando...":"Enviar Convite"})]})]})]})]})]})}),s.jsx(Nr,{children:s.jsxs(Wi,{defaultValue:"pending",className:"w-full",children:[s.jsxs(Ki,{className:"grid w-full grid-cols-2",children:[s.jsxs($i,{value:"pending",className:"gap-2",children:[s.jsx(qe,{className:"h-4 w-4"}),"Pendentes (",b.length,")"]}),s.jsxs($i,{value:"completed",className:"gap-2",children:[s.jsx(da,{className:"h-4 w-4"}),"Histórico (",j.length,")"]})]}),s.jsx(Ui,{value:"pending",className:"space-y-4 mt-4",children:0===b.length?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(xt,{className:"h-8 w-8 text-text-tertiary mx-auto mb-2"}),s.jsx("p",{className:"text-text-secondary",children:"Nenhum convite pendente"})]}):s.jsx("div",{className:"space-y-3",children:b.map(e=>s.jsx(vr,{className:"border-border-subtle",children:s.jsx(Nr,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ht,{className:"h-4 w-4 text-text-tertiary"}),s.jsx("span",{className:"font-medium text-text-primary",children:e.email}),s.jsx(Cr,{className:`text-xs ${f(e.status)}`,children:"pending"===e.status?"Pendente":e.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-text-secondary",children:[s.jsxs("span",{children:["Função: ",g(e.role)]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(at,{className:"h-3 w-3"}),"Enviado: ",v(e.created_at)]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(st,{className:"h-3 w-3"}),"Expira: ",v(e.expires_at)]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Er,{variant:"outline",size:"sm",onClick:()=>(async e=>{const a=`${window.location.origin}/invite/${e}`;try{await navigator.clipboard.writeText(a),h(a=>new Set([...a,e])),Ss.success("Link copiado para a área de transferência!"),setTimeout(()=>{h(a=>{const t=new Set(a);return t.delete(e),t})},2e3)}catch(t){Ss.error("Erro ao copiar link")}})(e.invitation_token),className:"gap-2",children:x.has(e.invitation_token)?s.jsxs(s.Fragment,{children:[s.jsx(da,{className:"h-3 w-3"}),"Copiado"]}):s.jsxs(s.Fragment,{children:[s.jsx(pt,{className:"h-3 w-3"}),"Copiar Link"]})}),s.jsxs(Er,{variant:"outline",size:"sm",onClick:()=>(async e=>{(await i(e)).success&&p()})(e.id),className:"text-destructive hover:text-destructive gap-2",disabled:n,children:[s.jsx(Oe,{className:"h-3 w-3"}),"Cancelar"]})]})]})})},e.id))})}),s.jsx(Ui,{value:"completed",className:"space-y-4 mt-4",children:0===j.length?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(at,{className:"h-8 w-8 text-text-tertiary mx-auto mb-2"}),s.jsx("p",{className:"text-text-secondary",children:"Nenhum histórico de convites"})]}):s.jsx("div",{className:"space-y-3",children:j.map(e=>s.jsx(vr,{className:"border-border-subtle",children:s.jsx(Nr,{className:"p-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ht,{className:"h-4 w-4 text-text-tertiary"}),s.jsx("span",{className:"font-medium text-text-primary",children:e.email}),s.jsx(Cr,{className:`text-xs ${f(e.status)}`,children:"accepted"===e.status?"Aceito":"cancelled"===e.status?"Cancelado":"expired"===e.status?"Expirado":e.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-text-secondary",children:[s.jsxs("span",{children:["Função: ",g(e.role)]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(at,{className:"h-3 w-3"}),"Enviado: ",v(e.created_at)]}),e.accepted_at&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(da,{className:"h-3 w-3"}),"Aceito: ",v(e.accepted_at)]})]})]})})})},e.id))})})]})})]})}function Vl(){return s.jsx(ki,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Equipe"}),s.jsx("p",{className:"text-text-secondary",children:"Gerencie sua equipe e convites"})]}),s.jsx(ql,{})]})})}function Hl(){return s.jsx(ki,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Configurações"}),s.jsx("p",{className:"text-text-secondary",children:"Configurações do sistema"})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsxs(jr,{className:"flex items-center gap-2",children:[s.jsx(oa,{className:"h-5 w-5"}),"Configurações"]})}),s.jsx(Nr,{className:"p-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(oa,{className:"h-12 w-12 text-text-tertiary mx-auto mb-4"}),s.jsx("p",{className:"text-text-secondary",children:"Configurações em desenvolvimento"}),s.jsx("p",{className:"text-sm text-text-tertiary mt-2",children:"Em breve você poderá personalizar suas preferências"})]})})]})]})})}Ll.displayName=A.displayName;const Wl=[{id:1,type:"critical",title:"Baixo consumo no Lote 15",description:"Consumo 25% abaixo do esperado nas últimas 2 horas",time:"há 15 min",agent:"Agente de Leitura de Cocho"},{id:2,type:"warning",title:"Atraso na distribuição",description:"Rota 3 com 12 minutos de atraso devido ao trânsito",time:"há 28 min",agent:"Agente de Logística"},{id:3,type:"info",title:"Carregamento otimizado",description:"Sequência de carregamento melhorada em 8%",time:"há 1h",agent:"Agente de Otimização"}],Kl=e=>{switch(e){case"critical":return s.jsx(ft,{className:"h-4 w-4 text-destructive"});case"warning":return s.jsx(Ve,{className:"h-4 w-4 text-yellow-500"});case"info":return s.jsx(Fe,{className:"h-4 w-4 text-accent-primary"});default:return s.jsx(xa,{className:"h-4 w-4"})}},$l=e=>{switch(e){case"critical":return s.jsx(Cr,{variant:"destructive",children:"Crítico"});case"warning":return s.jsx(Cr,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:"Atenção"});case"info":return s.jsx(Cr,{variant:"default",children:"Normal"});default:return s.jsx(Cr,{variant:"outline",children:"Desconhecido"})}};function Ul(){return s.jsx(ki,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Alertas & Feedbacks"}),s.jsx("p",{className:"text-text-secondary",children:"Central de notificações e feedbacks dos agentes de IA"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Er,{variant:"outline",size:"sm",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Filtros"]}),s.jsxs(Er,{variant:"outline",size:"sm",children:[s.jsx(oa,{className:"h-4 w-4 mr-2"}),"Configurar"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(vr,{className:"border-border-subtle bg-card-secondary/50",children:s.jsx(Nr,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-tertiary",children:"Status Geral"}),s.jsx("p",{className:"text-2xl font-bold text-accent-primary",children:"Normal"})]}),s.jsx(Fe,{className:"h-8 w-8 text-accent-primary"})]})})}),s.jsx(vr,{className:"border-border-subtle bg-card-secondary/50",children:s.jsx(Nr,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-tertiary",children:"Alertas Ativos"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:"2"})]}),s.jsx(Ve,{className:"h-8 w-8 text-yellow-600"})]})})}),s.jsx(vr,{className:"border-border-subtle bg-card-secondary/50",children:s.jsx(Nr,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-tertiary",children:"Críticos"}),s.jsx("p",{className:"text-2xl font-bold text-destructive",children:"1"})]}),s.jsx(ft,{className:"h-8 w-8 text-destructive"})]})})})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsxs(jr,{className:"flex items-center gap-2",children:[s.jsx(xa,{className:"h-5 w-5"}),"Últimos Alertas"]})}),s.jsx(Nr,{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:Wl.map(e=>s.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-border-subtle bg-background-primary/50",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:Kl(e.type)}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-text-primary",children:e.title}),s.jsx("p",{className:"text-sm text-text-secondary mt-1",children:e.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-xs text-text-tertiary",children:e.agent}),s.jsx("span",{className:"text-xs text-text-tertiary",children:"•"}),s.jsx("span",{className:"text-xs text-text-tertiary",children:e.time})]})]}),s.jsx("div",{className:"flex items-center gap-2 ml-4",children:$l(e.type)})]})})]},e.id))})})]})]})})}var Yl="Progress",[Gl,Ql]=m(Yl),[Jl,Zl]=Gl(Yl),Xl=Ce.forwardRef((e,a)=>{const{__scopeProgress:t,value:r=null,max:i,getValueLabel:n=td,...o}=e;(i||0===i)&&id(i);const l=id(i)?i:100;null!==r&&nd(r,l);const d=nd(r,l)?r:null,c=rd(d)?n(d,l):void 0;return s.jsx(Jl,{scope:t,value:d,max:l,children:s.jsx(p.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":rd(d)?d:void 0,"aria-valuetext":c,role:"progressbar","data-state":sd(d,l),"data-value":d??void 0,"data-max":l,...o,ref:a})})});Xl.displayName=Yl;var ed="ProgressIndicator",ad=Ce.forwardRef((e,a)=>{const{__scopeProgress:t,...r}=e,i=Zl(ed,t);return s.jsx(p.div,{"data-state":sd(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:a})});function td(e,a){return`${Math.round(e/a*100)}%`}function sd(e,a){return null==e?"indeterminate":e===a?"complete":"loading"}function rd(e){return"number"==typeof e}function id(e){return rd(e)&&!isNaN(e)&&e>0}function nd(e,a){return rd(e)&&!isNaN(e)&&e<=a&&e>=0}ad.displayName=ed;var od=Xl,ld=ad;const dd=Ce.forwardRef(({className:e,value:a,...t},r)=>s.jsx(od,{ref:r,className:rs("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...t,children:s.jsx(ld,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}));dd.displayName=od.displayName;const cd=[{id:1,category:"Logística",title:"Otimização de Rota - Setor Norte",description:"Reordenar sequência de tratos pode reduzir tempo em 18 minutos",impact:"Alta",savings:"R$ 240/dia",timeReduction:"18 min",status:"Recomendado",confidence:87},{id:2,category:"Nutrição",title:"Ajuste de Dieta - Lotes 12-15",description:"Reduzir 5% da ração no período vespertino baseado no consumo",impact:"Média",savings:"R$ 180/dia",timeReduction:"-",status:"Em Análise",confidence:92},{id:3,category:"Operacional",title:"Horário de Carregamento",description:"Antecipar primeiro carregamento em 30 minutos melhora eficiência",impact:"Média",savings:"R$ 95/dia",timeReduction:"12 min",status:"Implementado",confidence:78}],md=e=>{switch(e){case"Alta":return"text-destructive";case"Média":return"text-yellow-600";case"Baixa":return"text-accent-primary";default:return"text-text-secondary"}},ud=e=>{switch(e){case"Recomendado":return s.jsx(Cr,{variant:"default",children:"Recomendado"});case"Em Análise":return s.jsx(Cr,{variant:"secondary",children:"Em Análise"});case"Implementado":return s.jsx(Cr,{className:"bg-green-100 text-green-800 border-green-300",children:"Implementado"});default:return s.jsx(Cr,{variant:"outline",children:"Desconhecido"})}};function xd(){return s.jsx(ki,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Otimizações Recomendadas"}),s.jsx("p",{className:"text-text-secondary",children:"Sugestões inteligentes para melhorar eficiência operacional"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(Er,{variant:"outline",size:"sm",children:[s.jsx($e,{className:"h-4 w-4 mr-2"}),"Relatório Completo"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(vr,{className:"border-border-subtle bg-card-secondary/50",children:s.jsx(Nr,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-tertiary",children:"Economia Potencial"}),s.jsx("p",{className:"text-2xl font-bold text-accent-primary",children:"R$ 515"}),s.jsx("p",{className:"text-xs text-text-tertiary",children:"por dia"})]}),s.jsx(gt,{className:"h-8 w-8 text-accent-primary"})]})})}),s.jsx(vr,{className:"border-border-subtle bg-card-secondary/50",children:s.jsx(Nr,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-tertiary",children:"Tempo Poupado"}),s.jsx("p",{className:"text-2xl font-bold text-accent-primary",children:"30min"}),s.jsx("p",{className:"text-xs text-text-tertiary",children:"por ciclo"})]}),s.jsx(qe,{className:"h-8 w-8 text-accent-primary"})]})})}),s.jsx(vr,{className:"border-border-subtle bg-card-secondary/50",children:s.jsx(Nr,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-tertiary",children:"Sugestões Ativas"}),s.jsx("p",{className:"text-2xl font-bold text-accent-primary",children:"3"}),s.jsx("p",{className:"text-xs text-text-tertiary",children:"não implementadas"})]}),s.jsx(Ge,{className:"h-8 w-8 text-accent-primary"})]})})}),s.jsx(vr,{className:"border-border-subtle bg-card-secondary/50",children:s.jsx(Nr,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-tertiary",children:"Taxa de Sucesso"}),s.jsx("p",{className:"text-2xl font-bold text-accent-primary",children:"92%"}),s.jsx("p",{className:"text-xs text-text-tertiary",children:"implementações"})]}),s.jsx(Ze,{className:"h-8 w-8 text-accent-primary"})]})})})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsxs(jr,{className:"flex items-center gap-2",children:[s.jsx(Ge,{className:"h-5 w-5"}),"Recomendações por Agente de IA"]})}),s.jsx(Nr,{className:"p-6",children:s.jsx("div",{className:"space-y-6",children:cd.map(e=>s.jsxs("div",{className:"p-6 rounded-lg border border-border-subtle bg-background-primary/50",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Cr,{variant:"outline",className:"text-xs",children:e.category}),ud(e.status)]}),s.jsx("h4",{className:"text-lg font-semibold text-text-primary mb-2",children:e.title}),s.jsx("p",{className:"text-text-secondary mb-4",children:e.description})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-text-tertiary",children:"Impacto"}),s.jsx("p",{className:`text-lg font-semibold ${md(e.impact)}`,children:e.impact})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-text-tertiary",children:"Economia"}),s.jsx("p",{className:"text-lg font-semibold text-accent-primary",children:e.savings})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-text-tertiary",children:"Tempo"}),s.jsx("p",{className:"text-lg font-semibold text-accent-primary",children:e.timeReduction})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-text-tertiary",children:"Confiança"}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[s.jsx(dd,{value:e.confidence,className:"w-12 h-2"}),s.jsxs("span",{className:"text-sm font-semibold text-accent-primary",children:[e.confidence,"%"]})]})]})]}),"Recomendado"===e.status&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Er,{size:"sm",className:"bg-accent-primary hover:bg-accent-primary/90",children:"Implementar"}),s.jsx(Er,{variant:"outline",size:"sm",children:"Simular Cenário"}),s.jsx(Er,{variant:"ghost",size:"sm",children:"Descartar"})]})]},e.id))})})]})]})})}function hd(){Ee();const{signUp:e,loading:a}=gr(),[t,r]=Ce.useState(!1),[i,n]=Ce.useState({name:"",email:"",password:"",companyName:""}),o=e=>{n({...i,[e.target.name]:e.target.value})};return s.jsx("div",{className:"min-h-screen bg-background-primary flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(We,{className:"h-8 w-8 text-accent-primary"}),s.jsx("div",{className:"absolute inset-0 bg-accent-primary/20 blur-lg rounded-full"})]}),s.jsx("div",{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"ConectaBoi"})]}),s.jsx("p",{className:"text-text-secondary text-sm",children:"Sua plataforma de gestão inteligente"})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsxs(br,{className:"space-y-1",children:[s.jsx(jr,{className:"text-2xl text-center text-text-primary",children:"Criar conta"}),s.jsx(yr,{className:"text-center text-text-secondary",children:"Comece sua jornada com a IA pecuária"})]}),s.jsxs(Nr,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Er,{variant:"outline",className:"w-full h-11",children:[s.jsxs("svg",{className:"h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar com Google"]}),s.jsxs(Er,{variant:"outline",className:"w-full h-11",children:[s.jsx("svg",{className:"h-5 w-5 mr-3",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Continuar com Facebook"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx(Ur,{className:"w-full"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card-secondary px-2 text-text-secondary",children:"ou cadastre-se com email"})})]}),s.jsxs("form",{onSubmit:async a=>{if(a.preventDefault(),!i.name||!i.email||!i.password)return void Ss.error("Por favor, preencha todos os campos obrigatórios");const{error:t}=await e(i.email,i.password,i.name,i.companyName||void 0);t?Ss.error(t.message||"Erro ao criar conta"):Ss.success("Conta criada com sucesso! Verifique seu email para confirmar.")},className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pl,{htmlFor:"name",className:"text-text-primary",children:"Nome completo"}),s.jsxs("div",{className:"relative",children:[s.jsx(ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),s.jsx(Fr,{id:"name",name:"name",type:"text",placeholder:"Seu nome completo",value:i.name,onChange:o,className:"pl-10 h-11",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pl,{htmlFor:"companyName",className:"text-text-primary",children:"Nome da Empresa (Opcional)"}),s.jsxs("div",{className:"relative",children:[s.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),s.jsx(Fr,{id:"companyName",name:"companyName",type:"text",placeholder:"Sua empresa",value:i.companyName,onChange:o,className:"pl-10 h-11"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pl,{htmlFor:"email",className:"text-text-primary",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),s.jsx(Fr,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:i.email,onChange:o,className:"pl-10 h-11",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pl,{htmlFor:"password",className:"text-text-primary",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),s.jsx(Fr,{id:"password",name:"password",type:t?"text":"password",placeholder:"Sua senha segura",value:i.password,onChange:o,autoComplete:"new-password",className:"pl-10 pr-10 h-11",required:!0}),s.jsx("button",{type:"button",onClick:()=>r(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-tertiary hover:text-text-secondary",children:t?s.jsx(jt,{className:"h-4 w-4"}):s.jsx(yt,{className:"h-4 w-4"})})]})]}),s.jsx(Er,{type:"submit",variant:"tech",className:"w-full h-11 mt-6",disabled:a,children:a?"Criando conta...":"Criar conta"})]}),s.jsx("div",{className:"text-center pt-4",children:s.jsxs("p",{className:"text-sm text-text-secondary",children:["Já tem uma conta?"," ",s.jsx(Pe,{to:"/signin",className:"text-accent-primary hover:text-accent-secondary transition-colors font-medium",children:"Fazer login"})]})})]})]}),s.jsx("div",{className:"text-center mt-8 text-xs text-text-tertiary",children:s.jsxs("p",{children:["Ao criar uma conta, você aceita nossos"," ",s.jsx("a",{href:"#",className:"text-accent-primary hover:underline",children:"Termos de Uso"})," ","e"," ",s.jsx("a",{href:"#",className:"text-accent-primary hover:underline",children:"Política de Privacidade"})]})})]})})}var pd="Checkbox",[fd,gd]=m(pd),[vd,bd]=fd(pd);function jd(e){const{__scopeCheckbox:a,checked:t,children:r,defaultChecked:i,disabled:n,form:o,name:l,onCheckedChange:d,required:c,value:m="on",internal_do_not_use_render:u}=e,[x,h]=w({prop:t,defaultProp:i??!1,onChange:d,caller:pd}),[p,f]=Ce.useState(null),[g,v]=Ce.useState(null),b=Ce.useRef(!1),j=!p||(!!o||!!p.closest("form")),y={checked:x,disabled:n,setChecked:h,control:p,setControl:f,name:l,form:o,value:m,hasConsumerStoppedPropagationRef:b,required:c,defaultChecked:!Md(i)&&i,isFormControl:j,bubbleInput:g,setBubbleInput:v};return s.jsx(vd,{scope:a,...y,children:Ed(u)?u(y):r})}var yd="CheckboxTrigger",Nd=Ce.forwardRef(({__scopeCheckbox:e,onKeyDown:a,onClick:t,...r},i)=>{const{control:n,value:o,disabled:l,checked:d,required:c,setControl:m,setChecked:u,hasConsumerStoppedPropagationRef:h,isFormControl:g,bubbleInput:v}=bd(yd,e),b=x(i,m),j=Ce.useRef(d);return Ce.useEffect(()=>{const e=null==n?void 0:n.form;if(e){const a=()=>u(j.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[n,u]),s.jsx(p.button,{type:"button",role:"checkbox","aria-checked":Md(d)?"mixed":d,"aria-required":c,"data-state":_d(d),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:b,onKeyDown:f(a,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:f(t,e=>{u(e=>!!Md(e)||!e),v&&g&&(h.current=e.isPropagationStopped(),h.current||e.stopPropagation())})})});Nd.displayName=yd;var wd=Ce.forwardRef((e,a)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:n,required:o,disabled:l,value:d,onCheckedChange:c,form:m,...u}=e;return s.jsx(jd,{__scopeCheckbox:t,checked:i,defaultChecked:n,disabled:l,required:o,onCheckedChange:c,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:e})=>s.jsxs(s.Fragment,{children:[s.jsx(Nd,{...u,ref:a,__scopeCheckbox:t}),e&&s.jsx(Sd,{__scopeCheckbox:t})]})})});wd.displayName=pd;var kd="CheckboxIndicator",Cd=Ce.forwardRef((e,a)=>{const{__scopeCheckbox:t,forceMount:r,...i}=e,n=bd(kd,t);return s.jsx(g,{present:r||Md(n.checked)||!0===n.checked,children:s.jsx(p.span,{"data-state":_d(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:a,style:{pointerEvents:"none",...e.style}})})});Cd.displayName=kd;var Dd="CheckboxBubbleInput",Sd=Ce.forwardRef(({__scopeCheckbox:e,...a},t)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:n,defaultChecked:o,required:l,disabled:d,name:c,value:m,form:u,bubbleInput:h,setBubbleInput:f}=bd(Dd,e),g=x(t,f),v=Ne(n),b=we(r);Ce.useEffect(()=>{const e=h;if(!e)return;const a=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(a,"checked").set,s=!i.current;if(v!==n&&t){const a=new Event("click",{bubbles:s});e.indeterminate=Md(n),t.call(e,!Md(n)&&n),e.dispatchEvent(a)}},[h,v,n,i]);const j=Ce.useRef(!Md(n)&&n);return s.jsx(p.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??j.current,required:l,disabled:d,name:c,value:m,form:u,...a,tabIndex:-1,ref:g,style:{...a.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function Ed(e){return"function"==typeof e}function Md(e){return"indeterminate"===e}function _d(e){return Md(e)?"indeterminate":e?"checked":"unchecked"}Sd.displayName=Dd;const Pd=Ce.forwardRef(({className:e,...a},t)=>s.jsx(wd,{ref:t,className:rs("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:s.jsx(Cd,{className:rs("flex items-center justify-center text-current"),children:s.jsx(da,{className:"h-4 w-4"})})}));function Rd(){Ee();const{signIn:e,loading:a}=gr(),[t,r]=Ce.useState(!1),[i,n]=Ce.useState(!1),[o,l]=Ce.useState({email:"",password:""}),d=e=>{l({...o,[e.target.name]:e.target.value})};return s.jsx("div",{className:"min-h-screen bg-background-primary flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(We,{className:"h-8 w-8 text-accent-primary"}),s.jsx("div",{className:"absolute inset-0 bg-accent-primary/20 blur-lg rounded-full"})]}),s.jsx("div",{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"ConectaBoi Insights"})]}),s.jsx("p",{className:"text-text-secondary text-sm",children:"Sua plataforma de gestão inteligente"})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsxs(br,{className:"space-y-1",children:[s.jsx(jr,{className:"text-2xl text-center text-text-primary",children:"Entrar na conta"}),s.jsx(yr,{className:"text-center text-text-secondary",children:"Acesse sua plataforma de IA pecuária"})]}),s.jsxs(Nr,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Er,{variant:"outline",className:"w-full h-11",children:[s.jsxs("svg",{className:"h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar com Google"]}),s.jsxs(Er,{variant:"outline",className:"w-full h-11",children:[s.jsx("svg",{className:"h-5 w-5 mr-3",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Continuar com Facebook"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx(Ur,{className:"w-full"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card-secondary px-2 text-text-secondary",children:"ou entre com email"})})]}),s.jsxs("form",{onSubmit:async a=>{if(a.preventDefault(),!o.email||!o.password)return void Ss.error("Por favor, preencha todos os campos");const{error:t}=await e(o.email,o.password);t?Ss.error(t.message||"Erro ao fazer login"):Ss.success("Login realizado com sucesso!")},className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pl,{htmlFor:"email",className:"text-text-primary",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),s.jsx(Fr,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:o.email,onChange:d,className:"pl-10 h-11",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pl,{htmlFor:"password",className:"text-text-primary",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),s.jsx(Fr,{id:"password",name:"password",type:t?"text":"password",placeholder:"Sua senha",value:o.password,onChange:d,autoComplete:"current-password",className:"pl-10 pr-10 h-11",required:!0}),s.jsx("button",{type:"button",onClick:()=>r(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-tertiary hover:text-text-secondary",children:t?s.jsx(jt,{className:"h-4 w-4"}):s.jsx(yt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pd,{id:"remember",checked:i,onCheckedChange:e=>{n(!0===e||"true"===e)}}),s.jsx(Pl,{htmlFor:"remember",className:"text-sm text-text-secondary cursor-pointer",children:"Lembrar neste dispositivo"})]}),s.jsx(Pe,{to:"/forgot-password",className:"text-sm text-accent-primary hover:text-accent-secondary transition-colors",children:"Esqueceu a senha?"})]}),s.jsx(Er,{type:"submit",variant:"tech",className:"w-full h-11 mt-6",disabled:a,children:a?"Entrando...":"Entrar"})]}),s.jsxs("div",{className:"text-center pt-4",children:[s.jsxs("p",{className:"text-sm text-text-secondary",children:["Ainda não é cliente da ConectaBoi Insights?"," ",s.jsx(Pe,{to:"/signup",className:"text-accent-primary hover:text-accent-secondary transition-colors font-medium",children:"Criar conta"})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border-subtle",children:[s.jsx("p",{className:"text-xs text-text-tertiary mb-2",children:"Problemas com login?"}),s.jsx(Er,{type:"button",variant:"ghost",size:"sm",onClick:()=>{try{localStorage.clear(),sessionStorage.clear(),Ss.success("Dados da sessão limpos com sucesso"),window.location.reload()}catch(e){Ss.error("Erro ao limpar dados da sessão")}},className:"text-xs text-text-secondary hover:text-text-primary",children:"Limpar dados da sessão"})]})]})]})]}),s.jsx("div",{className:"text-center mt-8 text-xs text-text-tertiary",children:s.jsxs("p",{children:["Ao fazer login, você aceita nossos"," ",s.jsx("a",{href:"#",className:"text-accent-primary hover:underline",children:"Termos de Uso"})," ","e"," ",s.jsx("a",{href:"#",className:"text-accent-primary hover:underline",children:"Política de Privacidade"})]})})]})})}function zd(){var e,a;const{user:t,profile:r,organization:i,userRole:n,loading:o}=gr(),l=Ee();return De.useEffect(()=>{o||t&&r||l("/signin")},[o,t,r,l]),o?s.jsx(ki,{children:s.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-primary mx-auto mb-4"}),s.jsx("p",{className:"text-text-secondary",children:"Carregando perfil..."})]})})}):t&&r?s.jsx(ki,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center text-sm text-text-secondary",children:[s.jsx(Er,{variant:"ghost",size:"sm",className:"p-0 h-auto font-normal text-text-secondary hover:text-accent-primary",onClick:()=>l("/dashboard"),children:"Dashboard"}),s.jsx("span",{className:"mx-2",children:"•"}),s.jsx("span",{className:"text-text-primary",children:"Perfil"})]})}),s.jsxs(vr,{className:"mb-8 overflow-hidden border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx("div",{className:"h-32 sm:h-48 bg-gradient-primary relative",children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent-primary/20 to-primary/20"})}),s.jsxs(Nr,{className:"relative px-4 sm:px-6 pb-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-end gap-6 -mt-12 sm:-mt-16",children:[s.jsxs(Wr,{className:"w-24 h-24 sm:w-32 sm:h-32 border-4 border-background-primary shadow-lg",children:[s.jsx(Kr,{src:null==r?void 0:r.avatar_url}),s.jsx($r,{className:"bg-accent-primary text-white text-xl sm:text-2xl font-bold",children:(null==(e=null==r?void 0:r.full_name)?void 0:e.charAt(0))||(null==(a=null==t?void 0:t.email)?void 0:a.charAt(0))})]}),s.jsx("div",{className:"flex-1 text-center sm:text-left",children:s.jsxs("div",{className:"mb-4",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-text-primary mb-1",children:(null==r?void 0:r.full_name)||"Usuário"}),s.jsx("p",{className:"text-text-secondary mb-1",children:(null==r?void 0:r.position)||"Gestor Pecuário"}),i&&s.jsx("p",{className:"text-sm text-text-tertiary",children:i.name}),n&&s.jsx(Cr,{variant:"secondary",className:"mt-2",children:"owner"===n?"Proprietário":"admin"===n?"Administrador":"manager"===n?"Gerente":"employee"===n?"Funcionário":"Visualizador"})]})}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center sm:justify-end",children:[s.jsxs(Er,{variant:"tech",className:"gap-2",children:[s.jsx(Nt,{className:"h-4 w-4"}),"Foto"]}),s.jsxs(Er,{variant:"outline",className:"gap-2",children:[s.jsx(oa,{className:"h-4 w-4"}),"Configurações"]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6 pt-6 border-t border-border-subtle",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-text-primary",children:"142"}),s.jsx("div",{className:"text-xs sm:text-sm text-text-secondary",children:"Relatórios"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-text-primary",children:"3,586"}),s.jsx("div",{className:"text-xs sm:text-sm text-text-secondary",children:"Animais"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-text-primary",children:"2,659"}),s.jsx("div",{className:"text-xs sm:text-sm text-text-secondary",children:"Análises"})]})]})]})]}),s.jsxs(Wi,{defaultValue:"overview",className:"w-full",children:[s.jsxs(Ki,{className:"grid w-full grid-cols-2 sm:grid-cols-4 mb-8",children:[s.jsx($i,{value:"overview",children:"Visão Geral"}),s.jsx($i,{value:"team",children:"Equipe"}),s.jsx($i,{value:"reports",children:"Relatórios"}),s.jsx($i,{value:"settings",children:"Configurações"})]}),s.jsx(Ui,{value:"overview",children:s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsxs(jr,{className:"flex items-center gap-2 text-text-primary",children:[s.jsx(ea,{className:"h-5 w-5"}),"Informações Pessoais"]})}),s.jsxs(Nr,{className:"space-y-4",children:[s.jsxs("p",{className:"text-text-secondary",children:[(null==r?void 0:r.full_name)?`Olá, eu sou ${r.full_name}. `:"Olá! ",(null==r?void 0:r.position)?`Trabalho como ${r.position} `:"Trabalho com gestão pecuária ","e utilizo o ConectaBoi Insights para otimizar a produtividade através de análises inteligentes e dados precisos."]}),s.jsxs("div",{className:"space-y-3",children:[(null==r?void 0:r.department)&&s.jsxs("div",{className:"flex items-center gap-2 text-text-secondary",children:[s.jsx(Qe,{className:"h-4 w-4 text-accent-primary"}),s.jsx("span",{children:r.department})]}),s.jsxs("div",{className:"flex items-center gap-2 text-text-secondary",children:[s.jsx(ht,{className:"h-4 w-4 text-accent-primary"}),s.jsx("span",{children:(null==r?void 0:r.email)||(null==t?void 0:t.email)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-text-secondary",children:[s.jsx(at,{className:"h-4 w-4 text-accent-primary"}),s.jsxs("span",{children:["Membro desde ",new Date((null==r?void 0:r.created_at)||Date.now()).toLocaleDateString("pt-BR",{month:"long",year:"numeric"})]})]}),i&&s.jsxs("div",{className:"flex items-center gap-2 text-text-secondary",children:[s.jsx(Ye,{className:"h-4 w-4 text-accent-primary"}),s.jsx("span",{children:i.name})]})]})]})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsxs(jr,{className:"flex items-center gap-2 text-text-primary",children:[s.jsx(We,{className:"h-5 w-5"}),"Atividade Recente"]})}),s.jsx(Nr,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-background-secondary/50",children:[s.jsx("div",{className:"w-2 h-2 bg-accent-primary rounded-full mt-2 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-text-primary font-medium",children:"Novo relatório gerado"}),s.jsx("p",{className:"text-xs text-text-secondary",children:"Análise mensal do rebanho - Há 2 horas"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-background-secondary/30",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-text-primary font-medium",children:"Análise de peso completada"}),s.jsx("p",{className:"text-xs text-text-secondary",children:"350 animais analisados - Ontem"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-background-secondary/30",children:[s.jsx("div",{className:"w-2 h-2 bg-accent-secondary rounded-full mt-2 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-text-primary font-medium",children:"Dados sincronizados"}),s.jsx("p",{className:"text-xs text-text-secondary",children:"Atualização automática - 3 dias atrás"})]})]})]})})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm lg:col-span-2",children:[s.jsx(br,{children:s.jsxs(jr,{className:"flex items-center gap-2 text-text-primary",children:[s.jsx($e,{className:"h-5 w-5"}),"Ações Rápidas"]})}),s.jsx(Nr,{children:s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[s.jsxs(Er,{variant:"outline",className:"h-24 flex-col gap-2",children:[s.jsx(ia,{className:"h-6 w-6"}),s.jsx("span",{className:"text-sm",children:"Gerar Relatório"})]}),s.jsxs(Er,{variant:"outline",className:"h-24 flex-col gap-2",children:[s.jsx($e,{className:"h-6 w-6"}),s.jsx("span",{className:"text-sm",children:"Analytics"})]}),s.jsxs(Er,{variant:"outline",className:"h-24 flex-col gap-2",children:[s.jsx(Ye,{className:"h-6 w-6"}),s.jsx("span",{className:"text-sm",children:"Gerenciar Equipe"})]}),s.jsxs(Er,{variant:"outline",className:"h-24 flex-col gap-2",children:[s.jsx(oa,{className:"h-6 w-6"}),s.jsx("span",{className:"text-sm",children:"Configurações"})]})]})})]})]})}),s.jsx(Ui,{value:"team",children:s.jsx(ql,{})}),s.jsx(Ui,{value:"reports",children:s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsx(jr,{children:"Relatórios"})}),s.jsx(Nr,{className:"p-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ia,{className:"h-12 w-12 text-text-tertiary mx-auto mb-4"}),s.jsx("p",{className:"text-text-secondary",children:"Módulo de relatórios em desenvolvimento"}),s.jsx("p",{className:"text-sm text-text-tertiary mt-2",children:"Em breve você terá acesso aos relatórios detalhados"})]})})]})}),s.jsx(Ui,{value:"settings",children:s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsx(jr,{children:"Configurações"})}),s.jsx(Nr,{className:"p-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(oa,{className:"h-12 w-12 text-text-tertiary mx-auto mb-4"}),s.jsx("p",{className:"text-text-secondary",children:"Configurações em desenvolvimento"}),s.jsx("p",{className:"text-sm text-text-tertiary mt-2",children:"Em breve você poderá personalizar suas preferências"})]})})]})})]})]})}):null}function Td(){var e;const{token:a}=Re(),t=Ee(),{signUp:r,signIn:i,loading:n,user:o}=gr(),{getInvitationByToken:l}=Fl(),[d,c]=Ce.useState(null),[m,u]=Ce.useState(!0),[x,h]=Ce.useState(!1),[p,f]=Ce.useState(!0),[g,v]=Ce.useState({name:"",email:"",password:""});Ce.useEffect(()=>{b()},[a]),Ce.useEffect(()=>{o&&t("/user-profile")},[o]);const b=async()=>{if(!a)return Ss.error("Token de convite inválido"),void t("/");const{data:e,error:s}=await l(a);if(s||!e)return Ss.error("Convite não encontrado ou expirado"),void t("/");c(e),v(a=>({...a,email:e.email})),u(!1)},j=e=>{v({...g,[e.target.name]:e.target.value})};return m?s.jsx("div",{className:"min-h-screen bg-background-primary flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-primary mx-auto mb-4"}),s.jsx("p",{className:"text-text-secondary",children:"Validando convite..."})]})}):d?s.jsx("div",{className:"min-h-screen bg-background-primary flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(We,{className:"h-8 w-8 text-accent-primary"}),s.jsx("div",{className:"absolute inset-0 bg-accent-primary/20 blur-lg rounded-full"})]}),s.jsx("div",{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"ConectaBoi"})]}),s.jsx("p",{className:"text-text-secondary text-sm",children:"Você foi convidado para se juntar à"}),s.jsx("p",{className:"text-text-primary font-semibold",children:d.organizations.name})]}),s.jsx(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm mb-6",children:s.jsx(Nr,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vt,{className:"h-8 w-8 text-accent-primary"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-text-secondary",children:["Convidado por ",null==(e=d.profiles)?void 0:e.full_name]}),s.jsxs("p",{className:"text-sm text-text-secondary",children:["Função: ",s.jsx("span",{className:"text-accent-primary capitalize",children:d.role})]})]})]})})}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsxs(br,{className:"space-y-1",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsxs("div",{className:"flex p-1 bg-background-secondary rounded-lg",children:[s.jsx(Er,{type:"button",variant:p?"tech":"ghost",size:"sm",onClick:()=>f(!0),className:"flex-1",children:"Criar Conta"}),s.jsx(Er,{type:"button",variant:p?"ghost":"tech",size:"sm",onClick:()=>f(!1),className:"flex-1",children:"Já tenho conta"})]})}),s.jsx(jr,{className:"text-2xl text-center text-text-primary",children:p?"Criar sua conta":"Entrar na sua conta"}),s.jsx(yr,{className:"text-center text-text-secondary",children:p?"Complete seu cadastro para aceitar o convite":"Entre com sua conta existente"})]}),s.jsx(Nr,{className:"space-y-4",children:s.jsxs("form",{onSubmit:p?async e=>{if(e.preventDefault(),!g.name||!g.password)return void Ss.error("Por favor, preencha todos os campos");const{error:a}=await r(d.email,g.password,g.name);a?Ss.error(a.message||"Erro ao criar conta"):Ss.success("Conta criada! Bem-vindo à "+d.organizations.name)}:async e=>{if(e.preventDefault(),!g.password)return void Ss.error("Por favor, digite sua senha");const{error:a}=await i(d.email,g.password);a?Ss.error(a.message||"Erro ao fazer login"):Ss.success("Login realizado! Bem-vindo à "+d.organizations.name)},className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pl,{htmlFor:"email",className:"text-text-primary",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),s.jsx(Fr,{id:"email",name:"email",type:"email",value:d.email,className:"pl-10 h-11",disabled:!0})]})]}),p&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pl,{htmlFor:"name",className:"text-text-primary",children:"Nome completo"}),s.jsxs("div",{className:"relative",children:[s.jsx(ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),s.jsx(Fr,{id:"name",name:"name",type:"text",placeholder:"Seu nome completo",value:g.name,onChange:j,className:"pl-10 h-11",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pl,{htmlFor:"password",className:"text-text-primary",children:p?"Crie sua senha":"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),s.jsx(Fr,{id:"password",name:"password",type:x?"text":"password",placeholder:p?"Crie uma senha segura":"Sua senha",value:g.password,onChange:j,className:"pl-10 pr-10 h-11",required:!0}),s.jsx("button",{type:"button",onClick:()=>h(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-tertiary hover:text-text-secondary",children:x?s.jsx(jt,{className:"h-4 w-4"}):s.jsx(yt,{className:"h-4 w-4"})})]})]}),s.jsx(Er,{type:"submit",variant:"tech",className:"w-full h-11 mt-6",disabled:n,children:n?p?"Criando conta...":"Entrando...":p?"Aceitar convite":"Entrar"})]})})]})]})}):s.jsx("div",{className:"min-h-screen bg-background-primary flex items-center justify-center",children:s.jsx(vr,{className:"w-full max-w-md",children:s.jsxs(Nr,{className:"p-6 text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"Convite não encontrado"}),s.jsx("p",{className:"text-text-secondary mb-4",children:"Este convite pode ter expirado ou já foi usado."}),s.jsx(Pe,{to:"/signup",children:s.jsx(Er,{variant:"tech",children:"Criar uma nova conta"})})]})})})}function Ad(){const e=Ee(),a=(()=>{const e=[];for(let a=13;a>=0;a--){const t=Na(new Date,a),s=Math.round(450+100*Math.random()),r=Math.round(s*(.7+.5*Math.random())),i=r/s*100;let n="#ef4444";i>=90&&i<=110?n="#22c55e":(i>=80&&i<90||i>110&&i<=120)&&(n="#eab308"),e.push({data:Ga(t,"dd/MM"),consumoPrevisto:s,consumoRealizado:r,corRealizado:n})}return e})();return s.jsx(ki,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(Yi,{children:s.jsxs(Gi,{children:[s.jsx(Qi,{children:s.jsx(Ji,{href:"/dashboard",children:"Dashboard"})}),s.jsx(Xi,{}),s.jsx(Qi,{children:s.jsx(Zi,{children:"Leitura de Cocho"})})]})}),s.jsxs(Er,{onClick:()=>{e("/dashboard")},variant:"outline",className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4"}),"Voltar ao Dashboard"]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Leitura de Cocho"}),s.jsx("p",{className:"text-text-secondary",children:"Monitore o consumo de ração e níveis dos cochos em tempo real"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(wr,{title:"Cochos Ativos",value:"24",subtitle:"↗ +2 vs ontem",trend:"up",icon:s.jsx(wt,{className:"h-6 w-6"})}),s.jsx(wr,{title:"Consumo Médio",value:"85.4 kg",subtitle:"↗ +5.2% vs semana",trend:"up",icon:s.jsx(Ze,{className:"h-6 w-6"})}),s.jsx(wr,{title:"Eficiência",value:"92.8%",subtitle:"↗ +1.3% vs ontem",trend:"up",icon:s.jsx(We,{className:"h-6 w-6"})}),s.jsx(wr,{title:"Alertas Ativos",value:"3",subtitle:"↘ -2 vs ontem",trend:"down",icon:s.jsx(wt,{className:"h-6 w-6"})})]}),s.jsxs(vr,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[s.jsx(br,{children:s.jsxs(jr,{className:"flex items-center gap-2",children:[s.jsx($e,{className:"h-5 w-5"}),"Consumo de Matéria Seca - Últimos 14 Dias"]})}),s.jsxs(Nr,{className:"p-6",children:[s.jsx("div",{className:"h-96",children:s.jsx(zt,{width:"100%",height:"100%",children:s.jsxs(Tt,{data:a,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(At,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(It,{dataKey:"data",stroke:"white",fontSize:12,tickLine:!1,axisLine:!1}),s.jsx(Bt,{stroke:"white",fontSize:12,tickLine:!1,axisLine:!1,label:{value:"Matéria Seca (kg/dia)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"white"}}}),s.jsx(Ot,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--text-primary))"},formatter:(e,a)=>[`${e} kg`,"consumoPrevisto"===a?"Previsto":"Realizado"]}),s.jsx(Lt,{wrapperStyle:{color:"hsl(var(--text-secondary))"},formatter:e=>"consumoPrevisto"===e?"Previsto":"Realizado"}),s.jsx(Ft,{dataKey:"consumoPrevisto",fill:"#3b82f6",name:"Previsto",radius:[4,4,0,0]}),s.jsx(Ft,{dataKey:"consumoRealizado",name:"Realizado",radius:[4,4,0,0],children:a.map((e,a)=>s.jsx(qt,{fill:e.corRealizado},`cell-${a}`))})]})})}),s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-6 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),s.jsx("span",{className:"text-text-secondary",children:"Eficiência Boa (90-110%)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded"}),s.jsx("span",{className:"text-text-secondary",children:"Eficiência Média (80-90% | 110-120%)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),s.jsx("span",{className:"text-text-secondary",children:"Eficiência Ruim (<80% | >120%)"})]})]}),s.jsxs("div",{className:"mt-6 border-t border-border-subtle pt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Lançar Leitura de Cocho"}),s.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:[-2,-1,0,1,2,3,4].map(e=>s.jsx(Er,{variant:"outline",className:"min-w-[60px] h-12 text-lg font-bold hover:bg-accent-primary/10",onClick:()=>{},children:e>0?`+${e}`:e},e))})]})]})]})]})})}function Id(){const e=Ee(),a=e=>{switch(e){case"concluida":case"operando":return"bg-primary/20 text-primary";case"em_andamento":return"bg-accent/20 text-accent-foreground";case"pendente":default:return"bg-muted text-muted-foreground";case"disponivel":return"bg-secondary/20 text-secondary-foreground";case"manutencao":return"bg-destructive/20 text-destructive"}},t=e=>{switch(e){case"concluida":return"Concluída";case"em_andamento":return"Em Andamento";case"pendente":return"Pendente";case"operando":return"Operando";case"disponivel":return"Disponível";case"manutencao":return"Manutenção";default:return e}};return s.jsx(ki,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(Yi,{children:s.jsxs(Gi,{children:[s.jsx(Qi,{children:s.jsx(Ji,{href:"/dashboard",children:"Dashboard"})}),s.jsx(Xi,{}),s.jsx(Qi,{children:s.jsx(Zi,{children:"Logística de Tratos"})})]})}),s.jsxs(Er,{onClick:()=>{e("/dashboard")},variant:"outline",className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4"}),"Voltar ao Dashboard"]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Logística de Tratos"}),s.jsx("p",{className:"text-text-secondary",children:"Gerencie rotas, distribuição e equipamentos de trato"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(wr,{title:"Rotas Ativas",value:"2",subtitle:"↗ +1 hoje",trend:"up",icon:s.jsx(kt,{className:"h-6 w-6"})}),s.jsx(wr,{title:"Equipamentos Operando",value:"2/3",subtitle:"→ 1 em manutenção",trend:"stable",icon:s.jsx(Ue,{className:"h-6 w-6"})}),s.jsx(wr,{title:"Eficiência Média",value:"94%",subtitle:"↗ +3% esta semana",trend:"up",icon:s.jsx(Fe,{className:"h-6 w-6"})}),s.jsx(wr,{title:"Tempo Médio/Rota",value:"2h 15m",subtitle:"↘ -15min otimizado",trend:"down",icon:s.jsx(qe,{className:"h-6 w-6"})})]}),s.jsxs(Wi,{defaultValue:"rotas",className:"space-y-6",children:[s.jsxs(Ki,{className:"grid w-full grid-cols-2",children:[s.jsxs($i,{value:"rotas",className:"flex items-center space-x-2",children:[s.jsx(kt,{className:"h-4 w-4"}),s.jsx("span",{children:"Rotas & Distribuição"})]}),s.jsxs($i,{value:"equipamentos",className:"flex items-center space-x-2",children:[s.jsx(Ue,{className:"h-4 w-4"}),s.jsx("span",{children:"Gestão de Equipamentos"})]})]}),s.jsx(Ui,{value:"rotas",children:s.jsxs(vr,{className:"tech-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Rotas de Distribuição"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Acompanhamento em tempo real das rotas de alimentação"})]}),s.jsxs(Er,{variant:"tech",size:"sm",children:[s.jsx(at,{className:"h-4 w-4 mr-2"}),"Programar Nova Rota"]})]}),s.jsx("div",{className:"space-y-4",children:[{id:1,rota:"Rota A - Pasto Norte",status:"em_andamento",progresso:75,horaInicio:"06:00",previsaoTermino:"08:30",responsavel:"João Silva",equipamento:"Caminhão 001",pastos:["P1","P2","P3","P4"],totalAnimais:450},{id:2,rota:"Rota B - Pasto Sul",status:"concluida",progresso:100,horaInicio:"07:00",previsaoTermino:"09:00",responsavel:"Maria Santos",equipamento:"Caminhão 002",pastos:["P5","P6","P7"],totalAnimais:320},{id:3,rota:"Rota C - Pasto Oeste",status:"pendente",progresso:0,horaInicio:"08:00",previsaoTermino:"10:30",responsavel:"Pedro Costa",equipamento:"Caminhão 003",pastos:["P8","P9","P10","P11","P12"],totalAnimais:620}].map(e=>s.jsxs("div",{className:"border rounded-lg p-4 hover:border-primary/30 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Qe,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:e.rota}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.responsavel," • ",e.equipamento]})]})]}),s.jsx(Cr,{className:a(e.status),children:t(e.status)})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Horário"}),s.jsxs("p",{className:"font-medium",children:[e.horaInicio," - ",e.previsaoTermino]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Progresso"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary rounded-full h-2 transition-all duration-300",style:{width:`${e.progresso}%`}})}),s.jsxs("span",{className:"font-medium",children:[e.progresso,"%"]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Pastos"}),s.jsx("p",{className:"font-medium",children:e.pastos.join(", ")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Animais"}),s.jsxs("p",{className:"font-medium flex items-center",children:[s.jsx(Ye,{className:"h-3 w-3 mr-1"}),e.totalAnimais]})]})]})]},e.id))})]})}),s.jsx(Ui,{value:"equipamentos",children:s.jsxs(vr,{className:"tech-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Gestão de Equipamentos"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status e manutenção da frota de distribuição"})]}),s.jsxs(Er,{variant:"outline",size:"sm",children:[s.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Agendar Manutenção"]})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[{id:"CAM001",nome:"Caminhão 001",status:"operando",capacidade:"5.000 kg",localizacao:"Pasto Norte - P3",manutencao:"Em dia",proximaManutencao:"15 dias"},{id:"CAM002",nome:"Caminhão 002",status:"disponivel",capacidade:"4.500 kg",localizacao:"Base Central",manutencao:"Em dia",proximaManutencao:"8 dias"},{id:"CAM003",nome:"Caminhão 003",status:"manutencao",capacidade:"5.500 kg",localizacao:"Oficina",manutencao:"Preventiva",proximaManutencao:"Hoje"}].map(e=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-secondary/10 rounded-lg",children:s.jsx(Ue,{className:"h-4 w-4 text-secondary-foreground"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:e.nome}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e.id})]})]}),s.jsx(Cr,{className:a(e.status),children:t(e.status)})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Capacidade:"}),s.jsx("span",{className:"font-medium",children:e.capacidade})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Localização:"}),s.jsx("span",{className:"font-medium text-xs",children:e.localizacao})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Manutenção:"}),s.jsx("span",{className:"font-medium",children:e.manutencao})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Próxima:"}),s.jsx("span",{className:"font-medium text-xs "+("Hoje"===e.proximaManutencao?"text-destructive":""),children:e.proximaManutencao})]})]})]},e.id))})]})})]})]})})}Pd.displayName=wd.displayName;const Bd=({pipeline:e,title:a,description:t,filename:r})=>{const{processCsv:i,isProcessing:n}=(()=>{const[e,a]=Ce.useState(!1),{toast:t}=ss(),{user:s,organization:r}=gr();return{processCsv:async({pipeline:e,filename:i,fileId:n})=>{a(!0);try{if(!s||!r)throw new Error("Usuário ou organização não encontrados");const a=n||crypto.randomUUID(),o=r.id,l=`process-csv-${e.padStart(2,"0")}`,{data:d,error:c}=await hr.functions.invoke(l,{body:{filename:i,fileId:a,organizationId:o}});if(c)throw new Error(c.message);if(!d.success)throw new Error(d.error||"Erro desconhecido no processamento");return t({title:"Processamento concluído",description:`${d.rowsProcessed} linhas processadas, ${d.rowsInserted} linhas inseridas no banco`}),d}catch(o){return t({title:"Erro no processamento",description:o instanceof Error?o.message:"Erro desconhecido",variant:"destructive"}),null}finally{a(!1)}},isProcessing:e}})();return s.jsxs(vr,{className:"w-full",children:[s.jsxs(br,{children:[s.jsxs(jr,{className:"flex items-center gap-2",children:["Pipeline ",e," - ",a]}),s.jsx(yr,{children:t})]}),s.jsx(Nr,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:r?s.jsxs(s.Fragment,{children:["Arquivo: ",s.jsx("code",{className:"bg-muted px-2 py-1 rounded",children:r})]}):s.jsx("span",{className:"text-destructive",children:"Nenhum arquivo encontrado"})}),s.jsxs(Er,{onClick:async()=>{r&&await i({pipeline:e,filename:r})},disabled:!r||n,size:"sm",className:"gap-2",children:[n?s.jsx(Ct,{className:"h-4 w-4 animate-spin"}):s.jsx(Dt,{className:"h-4 w-4"}),n?"Processando...":"Processar"]})]})})]})};function Od(){const{user:e,organization:a}=gr(),{toast:t}=ss(),r=Ee(),[i,n]=Ce.useState([]),[o,l]=Ce.useState(!1);De.useEffect(()=>{(async()=>{if(e&&a)try{const e=new Blob(["# Pasta para arquivos processados\n"],{type:"text/plain"}),t=["01","02","03","04","05"];for(const s of t){const{error:t}=await hr.storage.from("csv-uploads").upload(`${a.id}/csv-processed/${s}/.placeholder`,e,{cacheControl:"3600",upsert:!0});t&&t.message.includes("already exists")}}catch(t){}})()},[e,a]);const d=async(e,t)=>{if(!a)return!1;try{const{data:s,error:r}=await hr.storage.from("csv-uploads").download(`${a.id}/${t}/${e}`);if(r)throw r;const i=`${a.id}/csv-processed/${t}/${e}`,{error:n}=await hr.storage.from("csv-uploads").upload(i,s,{cacheControl:"3600",upsert:!0});if(n)throw n;const{error:o}=await hr.storage.from("csv-uploads").remove([`${a.id}/${t}/${e}`]);if(o)throw o;return!0}catch(s){return!1}},c=e=>{if(0===e)return"0 Bytes";const a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(2))+" "+["Bytes","KB","MB","GB"][a]},m=i.filter(e=>"pending"===e.status),u=i.filter(e=>"completed"===e.status);return s.jsx(ki,{children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(Yi,{children:s.jsxs(Gi,{children:[s.jsx(Qi,{children:s.jsx(Ji,{href:"/dashboard",children:"Dashboard"})}),s.jsx(Xi,{}),s.jsx(Qi,{children:s.jsx(Zi,{children:"Upload de CSV"})})]})}),s.jsxs(Er,{onClick:()=>{r("/dashboard")},variant:"outline",className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4"}),"Voltar ao Dashboard"]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Upload de CSV"}),s.jsx("p",{className:"text-text-secondary",children:"Envie até 5 arquivos CSV para atualizar o banco de dados"})]}),s.jsxs(vr,{className:"mb-6",children:[s.jsx(br,{children:s.jsxs(jr,{className:"flex items-center gap-2",children:[s.jsx(fa,{className:"h-5 w-5"}),"Selecionar Arquivos CSV"]})}),s.jsx(Nr,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Pl,{htmlFor:"csv-files",children:"Escolha arquivos CSV (máximo 5)"}),s.jsx(Fr,{id:"csv-files",type:"file",multiple:!0,accept:".csv",onChange:e=>{const a=Array.from(e.target.files||[]),s=a.filter(e=>e.name.toLowerCase().endsWith(".csv")),r=a.filter(e=>!e.name.toLowerCase().endsWith(".csv"));r.length>0&&t({title:"Arquivos inválidos",description:`${r.length} arquivo(s) não são CSV e foram ignorados.`,variant:"destructive"});const o=5-i.length,l=s.slice(0,o);s.length>o&&t({title:"Limite excedido",description:`Apenas ${o} arquivo(s) podem ser adicionados. Limite máximo: 5 arquivos.`,variant:"destructive"});const d=l.map(e=>({file:e,progress:0,status:"pending"}));n(e=>[...e,...d])},disabled:i.length>=5||o,className:"max-w-md"})]}),s.jsx("div",{className:"text-sm text-text-tertiary",children:"• Apenas arquivos .csv são aceitos • Tamanho máximo: 20MB por arquivo • Limite: 5 arquivos por upload"})]})})]}),i.length>0&&s.jsxs(vr,{className:"mb-6",children:[s.jsxs(br,{className:"flex flex-row items-center justify-between",children:[s.jsxs(jr,{children:["Arquivos Selecionados (",i.length,"/5)"]}),u.length>0&&s.jsxs(Er,{variant:"outline",size:"sm",onClick:()=>{n(e=>e.filter(e=>"completed"!==e.status))},disabled:o,children:[s.jsx(St,{className:"h-4 w-4 mr-2"}),"Limpar Concluídos"]})]}),s.jsx(Nr,{children:s.jsx("div",{className:"space-y-4",children:i.map((e,a)=>s.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0",children:"completed"===e.status?s.jsx(Fe,{className:"h-5 w-5 text-primary"}):"error"===e.status?s.jsx(St,{className:"h-5 w-5 text-destructive"}):s.jsx(Et,{className:"h-5 w-5 text-accent"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-text-primary truncate",children:e.file.name}),s.jsx("span",{className:"text-xs text-text-tertiary",children:c(e.file.size)})]}),"uploading"===e.status&&s.jsx(dd,{value:e.progress,className:"h-2"}),"error"===e.status&&e.error&&s.jsxs("p",{className:"text-xs text-destructive mt-1",children:["Erro: ",e.error]}),"completed"===e.status&&s.jsx("p",{className:"text-xs text-primary mt-1",children:"Upload concluído"})]}),"pending"===e.status&&s.jsx(Er,{variant:"ghost",size:"sm",onClick:()=>(e=>{n(a=>a.filter((a,t)=>t!==e))})(a),disabled:o,children:s.jsx(St,{className:"h-4 w-4"})})]},a))})})]}),m.length>0&&s.jsx("div",{className:"flex justify-center",children:s.jsx(Er,{onClick:async()=>{if(e&&a){l(!0);try{for(let t=0;t<i.length;t++){const e=i[t];if("pending"!==e.status)continue;n(e=>e.map((e,a)=>a===t?{...e,status:"uploading"}:e));let r="";const o=e.file.name;if(o.startsWith("01"))r="01";else if(o.startsWith("02"))r="02";else if(o.startsWith("03"))r="03";else if(o.startsWith("04"))r="04";else{if(!o.startsWith("05")){n(e=>e.map((e,a)=>a===t?{...e,status:"error",error:"Nome do arquivo não segue padrão esperado (deve começar com 01, 02, 03, 04 ou 05)"}:e));continue}r="05"}const l=`${a.id}/${r}/${o}`;try{const{error:a}=await hr.storage.from("csv-uploads").upload(l,e.file,{cacheControl:"3600",upsert:!0});if(a)throw a;if(!(await d(o,r)))throw new Error("Falha no pós-processamento");n(e=>e.map((e,a)=>a===t?{...e,status:"completed",progress:100}:e))}catch(s){n(e=>e.map((e,a)=>a===t?{...e,status:"error",error:s instanceof Error?s.message:"Erro desconhecido"}:e))}}const e=i.filter(e=>"completed"===e.status).length;e>0&&t({title:"Upload concluído",description:`${e} arquivo(s) enviado(s) com sucesso!`})}catch(s){t({title:"Erro no upload",description:"Ocorreu um erro durante o upload dos arquivos.",variant:"destructive"})}finally{l(!1)}}else t({title:"Erro de autenticação",description:"Você precisa estar logado e ter uma organização para fazer upload.",variant:"destructive"})},disabled:o,size:"lg",className:"min-w-48",children:o?s.jsxs(s.Fragment,{children:[s.jsx(fa,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(fa,{className:"h-4 w-4 mr-2"}),"Enviar ",m.length," arquivo(s)"]})})}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:"Processamento de Dados"}),s.jsx("p",{className:"text-text-secondary mb-6",children:"Após o upload, processe os arquivos CSV usando os pipelines apropriados:"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(Bd,{pipeline:"02",title:"Desvio Carregamento",description:"Processa dados de desvio no carregamento de ingredientes",filename:"02_desvio_carregamento.csv"}),s.jsx(Bd,{pipeline:"03",title:"Desvio Distribuição",description:"Processa dados de desvio na distribuição de dietas",filename:"03_desvio_distribuicao.csv"}),s.jsx(Bd,{pipeline:"04",title:"Itens de Trato",description:"Processa dados de itens utilizados no trato",filename:"04_itens_trato.csv"}),s.jsx(Bd,{pipeline:"05",title:"Trato por Curral",description:"Processa dados de trato distribuído por curral",filename:"05_trato_curral.csv"})]})]})]})})}const Ld=()=>{const{user:e}=gr(),[a,t]=Ce.useState([]),[r,i]=Ce.useState([]),[n,o]=Ce.useState(!0),[l,d]=Ce.useState(null),[c,m]=Ce.useState(""),[u,x]=Ce.useState("all"),[h,p]=Ce.useState("all"),[f,g]=Ce.useState(new Set),[v,b]=Ce.useState(!1);Ce.useEffect(()=>{j()},[e]),Ce.useEffect(()=>{l&&y(l.id)},[l]),Ce.useEffect(()=>{if(!v||!(null==e?void 0:e.organizationId))return;const a=setInterval(()=>{j(),l&&y(l.id)},2e3);return()=>clearInterval(a)},[v,null==e?void 0:e.organizationId,l]);const j=async()=>{if(null==e?void 0:e.organizationId)try{o(!0);const{data:a,error:s}=await hr.from("etl_file").select("*").eq("organization_id",e.organizationId).order("uploaded_at",{ascending:!1});if(s)throw s;t(a||[])}catch(a){}finally{o(!1)}},y=async e=>{try{const{data:a,error:t}=await hr.from("etl_run_log").select("*").eq("entity_id",e).eq("entity_type","etl_file").order("timestamp",{ascending:!1}).limit(100);if(t)throw t;i(a||[])}catch(a){}},N=e=>{const a={uploaded:fa,processing:Ct,validated:Fe,approved:yt,loaded:mt,error:Ve}[e]||ia;return s.jsx(a,{className:"h-4 w-4 "+("processing"===e?"animate-spin":"")})},w=a.filter(e=>{const a=e.filename.toLowerCase().includes(c.toLowerCase()),t="all"===u||e.status===u;return a&&t}),k=r.filter(e=>"all"===h||e.level===h),C=e=>"uploaded"===e.status,D=e=>"processing"===e.status,S=e=>"validated"===e.status,E=e=>"approved"===e.status;return n?s.jsx(ki,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ct,{className:"h-8 w-8 animate-spin"})})}):s.jsx(ki,{children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Operações ETL"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie arquivos ETL, monitore status e visualize logs de processamento"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Fr,{placeholder:"Buscar arquivos...",value:c,onChange:e=>m(e.target.value),className:"pl-10 w-64"})]}),s.jsxs("select",{value:u,onChange:e=>x(e.target.value),className:"px-3 py-2 border rounded-md bg-background",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"uploaded",children:"Carregado"}),s.jsx("option",{value:"processing",children:"Processando"}),s.jsx("option",{value:"validated",children:"Validado"}),s.jsx("option",{value:"approved",children:"Aprovado"}),s.jsx("option",{value:"loaded",children:"Carregado para DW"}),s.jsx("option",{value:"error",children:"Erro"})]}),s.jsxs(Er,{variant:"outline",size:"sm",onClick:()=>b(!v),className:v?"bg-green-50 border-green-200":"",children:[v?s.jsx(He,{className:"h-4 w-4 mr-2 text-green-600"}):s.jsx(tt,{className:"h-4 w-4 mr-2"}),v?"Tempo Real Ativo":"Tempo Real"]}),s.jsx(Er,{variant:"outline",size:"sm",onClick:j,disabled:n,children:n?s.jsx(Ct,{className:"h-4 w-4 animate-spin"}):s.jsx(tt,{className:"h-4 w-4"})})]})]}),s.jsxs(Wi,{defaultValue:"files",className:"space-y-4",children:[s.jsxs(Ki,{children:[s.jsx($i,{value:"files",children:"Arquivos ETL"}),s.jsx($i,{value:"logs",children:"Timeline de Logs"})]}),s.jsx(Ui,{value:"files",className:"space-y-4",children:s.jsx("div",{className:"grid gap-4",children:0===w.length?s.jsx(vr,{children:s.jsxs(Nr,{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(ia,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Nenhum arquivo ETL encontrado"})]})}):w.map(a=>{return s.jsxs(vr,{className:"hover:shadow-md transition-shadow",children:[s.jsx(br,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[N(a.status),s.jsxs("div",{children:[s.jsx(jr,{className:"text-lg",children:a.filename}),s.jsxs(yr,{children:["Carregado em ",new Date(a.uploadedAt).toLocaleString("pt-BR"),a.fileSize&&` • ${(a.fileSize/1024/1024).toFixed(2)} MB`]})]})]}),s.jsxs(Cr,{className:(t=a.status,{uploaded:"bg-blue-100 text-blue-800",processing:"bg-yellow-100 text-yellow-800",validated:"bg-green-100 text-green-800",approved:"bg-purple-100 text-purple-800",loaded:"bg-emerald-100 text-emerald-800",error:"bg-red-100 text-red-800"}[t]||"bg-gray-100 text-gray-800"),children:["uploaded"===a.status&&"Carregado","processing"===a.status&&"Processando","validated"===a.status&&"Validado","approved"===a.status&&"Aprovado","loaded"===a.status&&"Carregado para DW","error"===a.status&&"Erro"]})]})}),s.jsxs(Nr,{children:[a.validationSummary&&s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-4 p-3 bg-muted rounded-lg",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",children:a.validationSummary.totalRows}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.validationSummary.validRows}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Válidos"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.validationSummary.errorRows}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Erros"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:a.validationSummary.warnings}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Avisos"})]})]}),a.errorMessage&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-800 text-sm",children:a.errorMessage})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(Er,{size:"sm",onClick:()=>(async a=>{g(e=>new Set([...e,a.id]));try{const{error:t}=await hr.functions.invoke("process-etl-file",{body:{fileId:a.id,organizationId:null==e?void 0:e.organizationId}});if(t)throw t;await j()}catch(t){}finally{g(e=>{const t=new Set(e);return t.delete(a.id),t})}})(a),disabled:!C(a)||f.has(a.id),variant:C(a)?"default":"secondary",children:[f.has(a.id)?s.jsx(Ct,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Processar"]}),s.jsxs(Er,{size:"sm",onClick:()=>(async a=>{g(e=>new Set([...e,a.id]));try{const{error:t}=await hr.functions.invoke("validate-etl-file",{body:{fileId:a.id,organizationId:null==e?void 0:e.organizationId}});if(t)throw t;await j()}catch(t){}finally{g(e=>{const t=new Set(e);return t.delete(a.id),t})}})(a),disabled:!D(a)||f.has(a.id),variant:D(a)?"default":"secondary",children:[s.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Validar"]}),s.jsxs(Er,{size:"sm",onClick:()=>(async e=>{g(a=>new Set([...a,e.id]));try{const{error:a}=await hr.from("etl_file").update({status:"approved"}).eq("id",e.id);if(a)throw a;await j()}catch(a){}finally{g(a=>{const t=new Set(a);return t.delete(e.id),t})}})(a),disabled:!S(a)||f.has(a.id),variant:S(a)?"default":"secondary",children:[s.jsx(yt,{className:"h-4 w-4 mr-2"}),"Aprovar"]}),s.jsxs(Er,{size:"sm",onClick:()=>(async a=>{g(e=>new Set([...e,a.id]));try{const{error:t}=await hr.functions.invoke("load-etl-file",{body:{fileId:a.id,organizationId:null==e?void 0:e.organizationId}});if(t)throw t;await j()}catch(t){}finally{g(e=>{const t=new Set(e);return t.delete(a.id),t})}})(a),disabled:!E(a)||f.has(a.id),variant:E(a)?"default":"secondary",children:[s.jsx(mt,{className:"h-4 w-4 mr-2"}),"Carregar para DW"]}),s.jsxs(Er,{size:"sm",variant:"outline",onClick:()=>d(a),children:[s.jsx(qe,{className:"h-4 w-4 mr-2"}),"Ver Logs"]})]})]})]},a.id);var t})})}),s.jsxs(Ui,{value:"logs",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("select",{value:h,onChange:e=>p(e.target.value),className:"px-3 py-2 border rounded-md bg-background",children:[s.jsx("option",{value:"all",children:"Todos os Níveis"}),s.jsx("option",{value:"info",children:"Info"}),s.jsx("option",{value:"warning",children:"Aviso"}),s.jsx("option",{value:"error",children:"Erro"})]}),l&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Logs para: ",s.jsx("strong",{children:l.filename})]})]}),s.jsxs(vr,{children:[s.jsxs(br,{children:[s.jsx(jr,{children:"Timeline de Logs"}),s.jsx(yr,{children:"Histórico de operações ETL em ordem cronológica"})]}),s.jsx(Nr,{children:0===k.length?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(qe,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:l?"Nenhum log encontrado para este arquivo":"Selecione um arquivo para ver os logs"})]}):s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:k.map(e=>{return s.jsxs("div",{className:"flex gap-4 p-3 border-l-4 border-l-blue-200 bg-slate-50 rounded-r-lg",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Cr,{variant:"outline",className:(a=e.level,{info:"text-blue-600",warning:"text-yellow-600",error:"text-red-600"}[a]||"text-gray-600"),children:e.level.toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:e.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleString("pt-BR")}),e.metadata&&Object.keys(e.metadata).length>0&&s.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded mt-2 overflow-x-auto",children:JSON.stringify(e.metadata,null,2)})]})]},e.id);var a})})})]})]})]})]})})},Fd=()=>{var e,a,t,r,i,n,o,l;const{user:d}=gr(),[c,m]=Ce.useState(null),[u,x]=Ce.useState([]),[h,p]=Ce.useState([]),[f,g]=Ce.useState(!0),[v,b]=Ce.useState("24h"),[j,y]=Ce.useState("hourly"),[N,w]=Ce.useState(!1),k={uploaded:"#3b82f6",processing:"#f59e0b",validated:"#10b981",approved:"#8b5cf6",loaded:"#059669",failed:"#ef4444"},C={low:"#10b981",medium:"#f59e0b",high:"#f97316",critical:"#ef4444"};Ce.useEffect(()=>{D()},[d,v,j]),Ce.useEffect(()=>{if(!N)return;const e=setInterval(()=>{D()},3e4);return()=>clearInterval(e)},[N,v,j]);const D=async()=>{if(null==d?void 0:d.organizationId)try{g(!0),await Promise.all([S(),E(),M()])}catch(e){}finally{g(!1)}},S=async()=>{const{data:e,error:a}=await hr.from("etl_file").select("status").eq("organization_id",null==d?void 0:d.organizationId);if(a)throw a;const{data:t,error:s}=await hr.from("etl_performance_snapshots").select("*").eq("organization_id",null==d?void 0:d.organizationId).eq("snapshot_period","hourly").order("snapshot_time",{ascending:!1}).limit(1).single();s&&s.code;const{data:r,error:i}=await hr.from("etl_dead_letter_queue").select("id").eq("organization_id",null==d?void 0:d.organizationId).eq("resolved",!1);if(i)throw i;const n=(null==e?void 0:e.reduce((e,a)=>(e[a.status]=(e[a.status]||0)+1,e),{}))||{};m({totalFiles:(null==e?void 0:e.length)||0,processingFiles:n.processing||0,successRate:(null==t?void 0:t.success_rate_percentage)||100,errorRate:(null==t?void 0:t.error_rate_percentage)||0,avgProcessingTime:(null==t?void 0:t.avg_processing_time_ms)||0,dlqSize:(null==r?void 0:r.length)||0,activeRetries:(null==t?void 0:t.active_retries)||0})},E=async()=>{const e="1h"===v?60:"24h"===v?24:"7d"===v?168:720,{data:a,error:t}=await hr.from("etl_performance_snapshots").select("*").eq("organization_id",null==d?void 0:d.organizationId).eq("snapshot_period",j).order("snapshot_time",{ascending:!1}).limit(e);if(t)throw t;const s=(null==a?void 0:a.map(e=>({snapshotTime:new Date(e.snapshot_time).toLocaleString("pt-BR"),totalFilesProcessed:e.total_files_processed,filesUploaded:e.files_uploaded,filesProcessing:e.files_processing,filesValidated:e.files_validated,filesApproved:e.files_approved,filesLoaded:e.files_loaded,filesFailed:e.files_failed,avgProcessingTimeMs:e.avg_processing_time_ms,errorRatePercentage:e.error_rate_percentage,successRatePercentage:e.success_rate_percentage,throughputRecordsPerMinute:e.throughput_records_per_minute,dlqEntries:e.dlq_entries,activeRetries:e.active_retries})).reverse())||[];x(s)},M=async()=>{const{data:e,error:a}=await hr.from("etl_alert_history").select("id, alert_name, severity, triggered_at, acknowledged, resolved").eq("organization_id",null==d?void 0:d.organizationId).order("triggered_at",{ascending:!1}).limit(10);if(a)throw a;const t=(null==e?void 0:e.map(e=>({id:e.id,alertName:e.alert_name,severity:e.severity,triggeredAt:new Date(e.triggered_at).toLocaleString("pt-BR"),acknowledged:e.acknowledged,resolved:e.resolved})))||[];p(t)},_=e=>e<1e3?`${Math.round(e)}ms`:e<6e4?`${(e/1e3).toFixed(1)}s`:`${(e/6e4).toFixed(1)}m`,P=c?[{name:"Carregados",value:(null==(e=u[u.length-1])?void 0:e.filesUploaded)||0,color:k.uploaded},{name:"Processando",value:(null==(a=u[u.length-1])?void 0:a.filesProcessing)||0,color:k.processing},{name:"Validados",value:(null==(t=u[u.length-1])?void 0:t.filesValidated)||0,color:k.validated},{name:"Aprovados",value:(null==(r=u[u.length-1])?void 0:r.filesApproved)||0,color:k.approved},{name:"Carregados DW",value:(null==(i=u[u.length-1])?void 0:i.filesLoaded)||0,color:k.loaded},{name:"Falhas",value:(null==(n=u[u.length-1])?void 0:n.filesFailed)||0,color:k.failed}].filter(e=>e.value>0):[];return f?s.jsx(ki,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(tt,{className:"h-8 w-8 animate-spin"})})}):s.jsx(ki,{children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard de Métricas ETL"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitoramento em tempo real do pipeline ETL e métricas de performance"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ll,{value:v,onValueChange:e=>b(e),children:[s.jsx(cl,{className:"w-32",children:s.jsx(dl,{})}),s.jsxs(xl,{children:[s.jsx(hl,{value:"1h",children:"1 Hora"}),s.jsx(hl,{value:"24h",children:"24 Horas"}),s.jsx(hl,{value:"7d",children:"7 Dias"}),s.jsx(hl,{value:"30d",children:"30 Dias"})]})]}),s.jsxs(ll,{value:j,onValueChange:e=>y(e),children:[s.jsx(cl,{className:"w-32",children:s.jsx(dl,{})}),s.jsxs(xl,{children:[s.jsx(hl,{value:"hourly",children:"Por Hora"}),s.jsx(hl,{value:"daily",children:"Por Dia"}),s.jsx(hl,{value:"weekly",children:"Por Semana"})]})]}),s.jsxs(Er,{variant:"outline",size:"sm",onClick:()=>w(!N),className:N?"bg-green-50 border-green-200":"",children:[N?s.jsx(He,{className:"h-4 w-4 mr-2 text-green-600"}):s.jsx(tt,{className:"h-4 w-4 mr-2"}),N?"Auto Refresh":"Manual"]}),s.jsx(Er,{variant:"outline",size:"sm",onClick:D,children:s.jsx(tt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[s.jsxs(vr,{children:[s.jsx(br,{className:"pb-2",children:s.jsx(jr,{className:"text-sm font-medium text-muted-foreground",children:"Total de Arquivos"})}),s.jsxs(Nr,{className:"pb-2",children:[s.jsx("div",{className:"text-2xl font-bold",children:(null==c?void 0:c.totalFiles)||0}),s.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[s.jsx(na,{className:"h-3 w-3 mr-1"}),"Processados"]})]})]}),s.jsxs(vr,{children:[s.jsx(br,{className:"pb-2",children:s.jsx(jr,{className:"text-sm font-medium text-muted-foreground",children:"Processando"})}),s.jsxs(Nr,{className:"pb-2",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:(null==c?void 0:c.processingFiles)||0}),s.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[s.jsx(qe,{className:"h-3 w-3 mr-1"}),"Em andamento"]})]})]}),s.jsxs(vr,{children:[s.jsx(br,{className:"pb-2",children:s.jsx(jr,{className:"text-sm font-medium text-muted-foreground",children:"Taxa de Sucesso"})}),s.jsxs(Nr,{className:"pb-2",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[(null==(o=null==c?void 0:c.successRate)?void 0:o.toFixed(1))||100,"%"]}),s.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[s.jsx(Fe,{className:"h-3 w-3 mr-1"}),"Concluídos"]})]})]}),s.jsxs(vr,{children:[s.jsx(br,{className:"pb-2",children:s.jsx(jr,{className:"text-sm font-medium text-muted-foreground",children:"Taxa de Erro"})}),s.jsxs(Nr,{className:"pb-2",children:[s.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[(null==(l=null==c?void 0:c.errorRate)?void 0:l.toFixed(1))||0,"%"]}),s.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[s.jsx(Ve,{className:"h-3 w-3 mr-1"}),"Falhas"]})]})]}),s.jsxs(vr,{children:[s.jsx(br,{className:"pb-2",children:s.jsx(jr,{className:"text-sm font-medium text-muted-foreground",children:"Tempo Médio"})}),s.jsxs(Nr,{className:"pb-2",children:[s.jsx("div",{className:"text-2xl font-bold",children:_((null==c?void 0:c.avgProcessingTime)||0)}),s.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[s.jsx(We,{className:"h-3 w-3 mr-1"}),"Processamento"]})]})]}),s.jsxs(vr,{children:[s.jsx(br,{className:"pb-2",children:s.jsx(jr,{className:"text-sm font-medium text-muted-foreground",children:"DLQ"})}),s.jsxs(Nr,{className:"pb-2",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(null==c?void 0:c.dlqSize)||0}),s.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[s.jsx(Ge,{className:"h-3 w-3 mr-1"}),"Entradas"]})]})]}),s.jsxs(vr,{children:[s.jsx(br,{className:"pb-2",children:s.jsx(jr,{className:"text-sm font-medium text-muted-foreground",children:"Tentativas"})}),s.jsxs(Nr,{className:"pb-2",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(null==c?void 0:c.activeRetries)||0}),s.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[s.jsx(tt,{className:"h-3 w-3 mr-1"}),"Ativas"]})]})]})]}),s.jsxs(Wi,{defaultValue:"performance",className:"space-y-4",children:[s.jsxs(Ki,{children:[s.jsx($i,{value:"performance",children:"Performance"}),s.jsx($i,{value:"status",children:"Status dos Arquivos"}),s.jsx($i,{value:"errors",children:"Análise de Erros"}),s.jsx($i,{value:"alerts",children:"Alertas"})]}),s.jsxs(Ui,{value:"performance",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(vr,{children:[s.jsxs(br,{children:[s.jsx(jr,{children:"Tempo de Processamento"}),s.jsx(yr,{children:"Evolução do tempo médio de processamento"})]}),s.jsx(Nr,{children:s.jsx(zt,{width:"100%",height:300,children:s.jsxs(Wt,{data:u,children:[s.jsx(At,{strokeDasharray:"3 3"}),s.jsx(It,{dataKey:"snapshotTime"}),s.jsx(Bt,{}),s.jsx(Ot,{formatter:e=>[_(e),"Tempo"]}),s.jsx(Kt,{type:"monotone",dataKey:"avgProcessingTimeMs",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6"}})]})})})]}),s.jsxs(vr,{children:[s.jsxs(br,{children:[s.jsx(jr,{children:"Taxa de Sucesso vs Erro"}),s.jsx(yr,{children:"Evolução das taxas de sucesso e erro"})]}),s.jsx(Nr,{children:s.jsx(zt,{width:"100%",height:300,children:s.jsxs($t,{data:u,children:[s.jsx(At,{strokeDasharray:"3 3"}),s.jsx(It,{dataKey:"snapshotTime"}),s.jsx(Bt,{domain:[0,100]}),s.jsx(Ot,{formatter:e=>[`${e}%`,""]}),s.jsx(Ut,{type:"monotone",dataKey:"successRatePercentage",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Sucesso"}),s.jsx(Ut,{type:"monotone",dataKey:"errorRatePercentage",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Erro"})]})})})]})]}),s.jsxs(vr,{children:[s.jsxs(br,{children:[s.jsx(jr,{children:"Throughput de Processamento"}),s.jsx(yr,{children:"Arquivos processados por período de tempo"})]}),s.jsx(Nr,{children:s.jsx(zt,{width:"100%",height:300,children:s.jsxs(Tt,{data:u,children:[s.jsx(At,{strokeDasharray:"3 3"}),s.jsx(It,{dataKey:"snapshotTime"}),s.jsx(Bt,{}),s.jsx(Ot,{}),s.jsx(Ft,{dataKey:"totalFilesProcessed",fill:"#3b82f6",name:"Arquivos Processados"})]})})})]})]}),s.jsx(Ui,{value:"status",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(vr,{children:[s.jsxs(br,{children:[s.jsx(jr,{children:"Distribuição por Status"}),s.jsx(yr,{children:"Status atual dos arquivos ETL"})]}),s.jsx(Nr,{children:s.jsx(zt,{width:"100%",height:300,children:s.jsxs(Vt,{children:[s.jsx(Ht,{data:P,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:a})=>`${e} ${(100*a).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:P.map((e,a)=>s.jsx(qt,{fill:e.color},`cell-${a}`))}),s.jsx(Ot,{})]})})})]}),s.jsxs(vr,{children:[s.jsxs(br,{children:[s.jsx(jr,{children:"Evolução por Status"}),s.jsx(yr,{children:"Mudanças nos status ao longo do tempo"})]}),s.jsx(Nr,{children:s.jsx(zt,{width:"100%",height:300,children:s.jsxs($t,{data:u,children:[s.jsx(At,{strokeDasharray:"3 3"}),s.jsx(It,{dataKey:"snapshotTime"}),s.jsx(Bt,{}),s.jsx(Ot,{}),s.jsx(Ut,{type:"monotone",dataKey:"filesUploaded",stackId:"1",stroke:k.uploaded,fill:k.uploaded,fillOpacity:.6,name:"Carregados"}),s.jsx(Ut,{type:"monotone",dataKey:"filesProcessing",stackId:"1",stroke:k.processing,fill:k.processing,fillOpacity:.6,name:"Processando"}),s.jsx(Ut,{type:"monotone",dataKey:"filesValidated",stackId:"1",stroke:k.validated,fill:k.validated,fillOpacity:.6,name:"Validados"}),s.jsx(Ut,{type:"monotone",dataKey:"filesLoaded",stackId:"1",stroke:k.loaded,fill:k.loaded,fillOpacity:.6,name:"Carregados"})]})})})]})]})}),s.jsx(Ui,{value:"errors",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(vr,{children:[s.jsxs(br,{children:[s.jsx(jr,{children:"Dead Letter Queue"}),s.jsx(yr,{children:"Entradas em fila de reprocessamento"})]}),s.jsx(Nr,{children:s.jsx(zt,{width:"100%",height:300,children:s.jsxs(Wt,{data:u,children:[s.jsx(At,{strokeDasharray:"3 3"}),s.jsx(It,{dataKey:"snapshotTime"}),s.jsx(Bt,{}),s.jsx(Ot,{}),s.jsx(Kt,{type:"monotone",dataKey:"dlqEntries",stroke:"#f97316",strokeWidth:2,name:"Entradas DLQ"}),s.jsx(Kt,{type:"monotone",dataKey:"activeRetries",stroke:"#3b82f6",strokeWidth:2,name:"Tentativas Ativas"})]})})})]}),s.jsxs(vr,{children:[s.jsxs(br,{children:[s.jsx(jr,{children:"Arquivos com Falha"}),s.jsx(yr,{children:"Evolução de arquivos que falharam no processamento"})]}),s.jsx(Nr,{children:s.jsx(zt,{width:"100%",height:300,children:s.jsxs(Tt,{data:u,children:[s.jsx(At,{strokeDasharray:"3 3"}),s.jsx(It,{dataKey:"snapshotTime"}),s.jsx(Bt,{}),s.jsx(Ot,{}),s.jsx(Ft,{dataKey:"filesFailed",fill:"#ef4444",name:"Arquivos com Falha"})]})})})]})]})}),s.jsx(Ui,{value:"alerts",className:"space-y-4",children:s.jsxs(vr,{children:[s.jsxs(br,{children:[s.jsx(jr,{children:"Alertas Recentes"}),s.jsx(yr,{children:"Últimos alertas disparados pelo sistema"})]}),s.jsx(Nr,{children:0===h.length?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(xa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum alerta recente"})]}):s.jsx("div",{className:"space-y-4",children:h.map(e=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:C[e.severity]}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:e.alertName}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.triggeredAt," • ",e.severity.toUpperCase()]})]})]}),s.jsx("div",{className:"flex gap-2",children:e.resolved?s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Resolvido"}):e.acknowledged?s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Reconhecido"}):s.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Ativo"})})]},e.id))})})]})})]})]})})},qd=()=>{const e=Me();return Ce.useEffect(()=>{},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-6xl font-bold gradient-text",children:"404"}),s.jsx("p",{className:"mb-6 text-xl text-muted-foreground",children:"Página não encontrada no ConectaBoi Insights"}),s.jsx(Er,{variant:"tech",asChild:!0,children:s.jsx("a",{href:"/",children:"Voltar ao Dashboard"})})]})})},Vd=new Pt,Hd=()=>s.jsx(Rt,{client:Vd,children:s.jsxs(dr,{children:[s.jsx(us,{}),s.jsx(Is,{}),s.jsx(ze,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsx(fr,{children:s.jsxs(Te,{children:[s.jsx(Ae,{path:"/",element:s.jsx(_r,{})}),s.jsx(Ae,{path:"/dashboard",element:s.jsx(Ci,{})}),s.jsx(Ae,{path:"/analytics",element:s.jsx(El,{})}),s.jsx(Ae,{path:"/desvios",element:s.jsx(El,{})}),s.jsx(Ae,{path:"/logistica",element:s.jsx(Id,{})}),s.jsx(Ae,{path:"/alerts",element:s.jsx(Ul,{})}),s.jsx(Ae,{path:"/optimizations",element:s.jsx(xd,{})}),s.jsx(Ae,{path:"/reports",element:s.jsx(Ml,{})}),s.jsx(Ae,{path:"/team",element:s.jsx(Vl,{})}),s.jsx(Ae,{path:"/settings",element:s.jsx(Hl,{})}),s.jsx(Ae,{path:"/signup",element:s.jsx(hd,{})}),s.jsx(Ae,{path:"/signin",element:s.jsx(Rd,{})}),s.jsx(Ae,{path:"/user-profile",element:s.jsx(zd,{})}),s.jsx(Ae,{path:"/feed-reading",element:s.jsx(Ad,{})}),s.jsx(Ae,{path:"/csv-upload",element:s.jsx(Od,{})}),s.jsx(Ae,{path:"/etl-operations",element:s.jsx(Ld,{})}),s.jsx(Ae,{path:"/metrics-dashboard",element:s.jsx(Fd,{})}),s.jsx(Ae,{path:"/invite/:token",element:s.jsx(Td,{})}),s.jsx(Ae,{path:"*",element:s.jsx(qd,{})})]})})})]})});class Wd{constructor(){t(this,"observer",null),"PerformanceObserver"in window&&(this.observer=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{e.initiatorType})}))}start(){this.observer&&this.observer.observe({type:"resource",buffered:!0})}stop(){this.observer&&this.observer.disconnect()}}const Kd={enableLazyLoading:!0,enableServiceWorker:!0,enableImageOptimization:!0,enablePerformanceMonitoring:!0,chunkLoadingTimeout:3e4,resourceHints:!0};const $d=new class{constructor(e=Kd){t(this,"config"),t(this,"imageObserver",null),this.config=e}init(){this.config.enablePerformanceMonitoring&&this.initPerformanceMonitoring(),this.config.resourceHints&&this.addResourceHints(),this.optimizeCriticalPath(),this.prefetchCriticalResources()}initPerformanceMonitoring(){"undefined"!=typeof window&&("PerformanceObserver"in window&&(new PerformanceObserver(e=>{const a=e.getEntries();a[a.length-1]}).observe({type:"largest-contentful-paint",buffered:!0}),new PerformanceObserver(e=>{e.getEntries().forEach(e=>{})}).observe({type:"first-input",buffered:!0}),new PerformanceObserver(e=>{let a=0;e.getEntries().forEach(e=>{e.hadRecentInput||(a+=e.value)})}).observe({type:"layout-shift",buffered:!0})),this.config.enableImageOptimization&&(this.imageObserver=new Wd,this.imageObserver.start()),"PerformanceObserver"in window&&new PerformanceObserver(e=>{e.getEntries().forEach(e=>{e.duration})}).observe({type:"longtask",buffered:!0}))}addResourceHints(){if("undefined"==typeof document)return;[{rel:"dns-prefetch",href:"//fonts.googleapis.com"},{rel:"dns-prefetch",href:"//fonts.gstatic.com"},{rel:"dns-prefetch",href:"//cdn.jsdelivr.net"},{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:!0}].forEach(e=>{const a=document.createElement("link");a.rel=e.rel,a.href=e.href,e.crossorigin&&(a.crossOrigin="anonymous"),document.querySelector(`link[rel="${e.rel}"][href="${e.href}"]`)||document.head.appendChild(a)})}optimizeCriticalPath(){if("undefined"==typeof document)return;document.querySelectorAll('link[rel="stylesheet"]').forEach(e=>{const a=e;a.href.includes("fonts.googleapis.com")&&(a.setAttribute("media","print"),a.setAttribute("onload","this.media='all'"))})}prefetchCriticalResources(){"undefined"!=typeof document&&"requestIdleCallback"in window&&requestIdleCallback(()=>{["/dashboard","/analytics","/csv-upload"].forEach(e=>{const a=document.createElement("link");a.rel="prefetch",a.href=e,document.head.appendChild(a)})})}getPerformanceMetrics(){if("undefined"==typeof window||!("performance"in window))return{};const e=performance.getEntriesByType("navigation")[0];return{domContentLoaded:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,loadComplete:e.loadEventEnd-e.loadEventStart,dns:e.domainLookupEnd-e.domainLookupStart,tcp:e.connectEnd-e.connectStart,request:e.responseStart-e.requestStart,response:e.responseEnd-e.responseStart,domProcessing:e.domComplete-e.domLoading,totalTime:e.loadEventEnd-e.navigationStart}}cleanup(){this.imageObserver&&this.imageObserver.stop()}};"undefined"!=typeof window&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{$d.init()}):$d.init()),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{}).catch(e=>{})}),e(document.getElementById("root")).render(s.jsx(Hd,{}));export{yl as C,vr as a,br as b,jr as c,Nr as d,gl as u};
