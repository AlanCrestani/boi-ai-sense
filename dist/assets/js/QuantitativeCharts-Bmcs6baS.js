import{j as r}from"./ui-DOGdri39.js";import{r as e}from"./vendor-Cl2J2jTd.js";import{C as a,a as s,b as t,c as o,d as l}from"./index-BbmSW84G.js";import{R as i,B as d,C as c,X as n,Y as h,T as x,a as m,P as b,c as g,b as j}from"./charts-BgTTDvot.js";import"./utils-BxdX34li.js";import"./data-A29woXF1.js";const p=e.memo(({ingredientConsumption:e,consumptionShare:p,plannedVsActual:y,efficiencyByLoad:u,deviationByLoadAndWagon:v,isLoading:f,error:N,onRetry:k})=>{const S=[...e,...p,...y,...u,...v];return r.jsx(a,{isLoading:f,error:N,data:S,loadingType:"charts",loadingCount:5,errorType:"database",emptyType:"no-results",onRetry:k,children:r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:"Análises Quantitativas"}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 lg:gap-6 mb-6",children:[r.jsxs(s,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[r.jsx(t,{className:"pb-3",children:r.jsx(o,{className:"text-base lg:text-lg",children:"Consumo por Ingrediente (Realizado)"})}),r.jsx(l,{className:"pt-0",children:r.jsx("div",{className:"h-64 sm:h-72 lg:h-80",children:r.jsx(i,{width:"100%",height:"100%",children:r.jsxs(d,{layout:"horizontal",data:e,margin:{top:10,right:10,left:40,bottom:5},children:[r.jsx(c,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),r.jsx(n,{type:"number",stroke:"white",fontSize:12}),r.jsx(h,{type:"category",dataKey:"ingrediente",stroke:"white",fontSize:12}),r.jsx(x,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--text-primary))"},formatter:(r,e,a)=>[`${Number(r).toLocaleString("pt-BR")} kg`,"Consumo Realizado"],labelStyle:{color:"hsl(var(--text-primary))"}}),r.jsx(m,{dataKey:"consumo",fill:"#0088FE",radius:[0,4,4,0]})]})})})})]}),r.jsxs(s,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[r.jsx(t,{className:"pb-3",children:r.jsx(o,{className:"text-base lg:text-lg",children:"Participação % no Consumo Total"})}),r.jsx(l,{className:"pt-0",children:r.jsx("div",{className:"h-64 sm:h-72 lg:h-80",children:r.jsx(i,{width:"100%",height:"100%",children:r.jsxs(b,{children:[r.jsx(g,{data:p,cx:"50%",cy:"50%",labelLine:!1,label:({name:r,percent:e})=>`${r} ${(100*e).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:p.map((e,a)=>r.jsx(j,{fill:e.fill||"#8884d8"},`cell-${a}`))}),r.jsx(x,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--text-primary))"},formatter:(r,e)=>[`${Number(r).toFixed(1)}%`,"Participação no Consumo"],labelStyle:{color:"hsl(var(--text-primary))"}})]})})})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:[r.jsxs(s,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[r.jsx(t,{className:"pb-3",children:r.jsx(o,{className:"text-base lg:text-lg",children:"Previsto x Realizado"})}),r.jsx(l,{className:"pt-0",children:r.jsx("div",{className:"h-64 sm:h-72 lg:h-80",children:r.jsx(i,{width:"100%",height:"100%",children:r.jsxs(d,{data:y,margin:{top:10,right:10,left:10,bottom:60},children:[r.jsx(c,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),r.jsx(n,{dataKey:"ingrediente",stroke:"white",fontSize:10,angle:-45,textAnchor:"end",height:80}),r.jsx(h,{stroke:"white",fontSize:12}),r.jsx(x,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--text-primary))"},formatter:(r,e)=>[`${Number(r).toLocaleString("pt-BR")} kg`,"previsto"===e?"Quantidade Prevista":"Quantidade Realizada"],labelStyle:{color:"hsl(var(--text-primary))"}}),r.jsx(m,{dataKey:"previsto",fill:"#00C49F",name:"Previsto"}),r.jsx(m,{dataKey:"realizado",fill:"#0088FE",name:"Realizado"})]})})})})]}),r.jsxs(s,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[r.jsx(t,{className:"pb-3",children:r.jsx(o,{className:"text-base lg:text-lg",children:"Eficiência por Carregamento"})}),r.jsx(l,{className:"pt-0",children:r.jsx("div",{className:"h-64 sm:h-72 lg:h-80",children:r.jsx(i,{width:"100%",height:"100%",children:r.jsxs(d,{data:u,margin:{top:10,right:10,left:10,bottom:5},children:[r.jsx(c,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),r.jsx(n,{dataKey:"carregamento",stroke:"white",fontSize:10}),r.jsx(h,{stroke:"white",fontSize:12}),r.jsx(x,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--text-primary))"},formatter:r=>[`${Number(r).toFixed(1)}%`,"Eficiência do Carregamento"],labelStyle:{color:"hsl(var(--text-primary))"}}),r.jsx(m,{dataKey:"eficiencia",fill:"#FFBB28",radius:[4,4,0,0]})]})})})})]}),r.jsxs(s,{className:"border-border-subtle bg-card-secondary/50 backdrop-blur-sm",children:[r.jsx(t,{className:"pb-3",children:r.jsx(o,{className:"text-base lg:text-lg",children:"Desvio por Carregamento e Vagão"})}),r.jsx(l,{className:"pt-0",children:r.jsx("div",{className:"h-64 sm:h-72 lg:h-80",children:r.jsx(i,{width:"100%",height:"100%",children:r.jsxs(d,{data:v,margin:{top:10,right:10,left:10,bottom:60},children:[r.jsx(c,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),r.jsx(n,{dataKey:"item",stroke:"white",fontSize:10,angle:-45,textAnchor:"end",height:80}),r.jsx(h,{stroke:"white",fontSize:12}),r.jsx(x,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--text-primary))"},formatter:r=>[`${Number(r).toFixed(1)}%`,"Desvio Médio"],labelStyle:{color:"hsl(var(--text-primary))"}}),r.jsx(m,{dataKey:"desvio",fill:"#FF8042",radius:[4,4,0,0]})]})})})})]})]})]})})});export{p as QuantitativeCharts};
